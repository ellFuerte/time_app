{"ast":null,"code":"import _regeneratorRuntime from\"D:/time_app/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Topbar from'../../components/Topbar/Topbar';import'../ReportsNominations/ReportsNominations.css';import React,{useRef,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import RepostInfoNominations from\"../../components/RepostInfoNominations/RepostInfoNominations\";import Pagination from\"../../components/Pagination/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ReportsNominations(){var _useState=useState({key:null,direction:'ascending'}),_useState2=_slicedToArray(_useState,2),sortConfig=_useState2[0],setSortConfig=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(30),_useState6=_slicedToArray(_useState5,1),postsPerPage=_useState6[0];var lastPostIndex=currentPage*postsPerPage;var firstPostIndex=lastPostIndex-postsPerPage;var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var historyStartWork=useRef(null);var historyEndWork=useRef(null);var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isFilter=_useState10[0],setIsFilter=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),posts=_useState12[0],setPosts=_useState12[1];var currentlyPosts=posts.slice(firstPostIndex,lastPostIndex);var username=useParams();var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var start,end,filter,fill;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:start=historyStartWork.current.value;end=historyEndWork.current.value;if(start===\"\"||end===\"\"){setError('Введите дату');}else{if(start!==''||end!==''){setError('Выберите дату');}if(end<start){setError('Конечная дата меньше начальной');}else{filter={startDateNomination:historyStartWork.current.value,endDateNomination:historyEndWork.current.value};setError('');fill=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/api/post/Reports',filter);case 2:res=_context.sent;console.log('res=',res.data);setPosts(res.data);setError('');case 6:case\"end\":return _context.stop();}}},_callee);}));return function fill(){return _ref2.apply(this,arguments);};}();fill();}}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleClick(){return _ref.apply(this,arguments);};}();var handleClickCancel=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setError('');setIsFilter(false);historyStartWork.current.value='';historyEndWork.current.value='';case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleClickCancel(){return _ref3.apply(this,arguments);};}();var rowsSort=function rowsSort(){var c=document.getElementById(\"report\");if(historyStartWork.current.value!==''){var sort=currentlyPosts.sort(function(a,b){return b.row_number-a.row_number;});console.log('SORT=',sort);}};var FIOSort=function FIOSort(){if(historyStartWork.current.value!==''){var sort=currentlyPosts.sort(function(a,b){return a.user_name>b.user_name?1:-1;});console.log('SORT=',sort);}};var workstartSort=function workstartSort(){if(historyStartWork.current.value!==''){var sort=currentlyPosts.sort(function(a,b){return a.workstart>b.workstart?1:-1;});console.log('SORT=',sort);}};var requestSort=function requestSort(key){if(historyStartWork.current.value!==''&&historyEndWork.current.value!==''){var direction='ascending';if(sortConfig.key===key&&sortConfig.direction==='ascending'){direction='descending';}setSortConfig({key:key,direction:direction});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Reports\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ReportsContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ReportsMainText\",children:\"\\u041E\\u0442\\u0447\\u0435\\u0442 \\u043F\\u043E \\u043D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u044F\\u043C\"}),/*#__PURE__*/_jsx(\"hr\",{}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"errorHistoryInfo\",children:error}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043E \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\",className:\"ModalInput\",ref:historyStartWork,style:{'marginRight':'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"\\u041A\\u043E\\u043D\\u0435\\u0446 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\",className:\"ModalInput\",ref:historyEndWork,style:{'marginRight':'10px'}}),/*#__PURE__*/_jsx(\"button\",{className:\"filterButton\",onClick:handleClick,children:\"\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filterButton\",onClick:handleClickCancel,children:\"\\u0441\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"historyinfoNumber\",onClick:function onClick(){return requestSort('name');},children:[\"\\u041A\\u0442\\u043E \\u0433\\u043E\\u043B\\u043E\\u0441\\u043E\\u0432\\u0430\\u043B \",sortConfig.key==='name'&&/*#__PURE__*/_jsx(\"span\",{children:sortConfig.direction==='ascending'?'▼':'▲'})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"historyinfoNumber\",onClick:function onClick(){return requestSort('FIO');},children:[\"\\u041D\\u043E\\u043C\\u0438\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B \",sortConfig.key==='FIO'&&/*#__PURE__*/_jsx(\"span\",{children:sortConfig.direction==='ascending'?'▼':'▲'})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"historyinfoNumber\",onClick:function onClick(){return requestSort('start');},children:[\"\\u0418\\u043C\\u044F \\u043D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u0438 \",sortConfig.key==='start'&&/*#__PURE__*/_jsx(\"span\",{children:sortConfig.direction==='ascending'?'▼':'▲'})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"historyinfoNumber\",onClick:function onClick(){return requestSort('start');},children:[\"\\u0414\\u0430\\u0442\\u0430 \\u0433\\u043E\\u043B\\u043E\\u0441\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \",sortConfig.key==='start'&&/*#__PURE__*/_jsx(\"span\",{children:sortConfig.direction==='ascending'?'▼':'▲'})]})]}),currentlyPosts.map(function(posts,id){return/*#__PURE__*/_jsx(RepostInfoNominations,{posts:posts,username:username},id);}),/*#__PURE__*/_jsx(Pagination,{postsPerPage:postsPerPage,totalPosts:posts.length,paginate:paginate,currentPage:currentPage})]})})]});}","map":{"version":3,"sources":["D:/time_app/client/src/pages/ReportsNominations/ReportsNominations.jsx"],"names":["Topbar","React","useRef","useState","useParams","axios","RepostInfoNominations","Pagination","ReportsNominations","key","direction","sortConfig","setSortConfig","currentPage","setCurrentPage","postsPerPage","lastPostIndex","firstPostIndex","error","setError","historyStartWork","historyEndWork","isFilter","setIsFilter","posts","setPosts","currentlyPosts","slice","username","paginate","pageNumber","handleClick","start","current","value","end","filter","startDateNomination","endDateNomination","fill","post","res","console","log","data","handleClickCancel","rowsSort","c","document","getElementById","sort","a","b","row_number","FIOSort","user_name","workstartSort","workstart","requestSort","map","id","length"],"mappings":"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","sourcesContent":["import Topbar from '../../components/Topbar/Topbar'\r\nimport '../ReportsNominations/ReportsNominations.css'\r\nimport React, {useRef, useState} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport RepostInfoNominations from \"../../components/RepostInfoNominations/RepostInfoNominations\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\n\r\n\r\nexport default function ReportsNominations() {\r\n    const [sortConfig, setSortConfig] = useState({key: null, direction: 'ascending'});\r\n\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [postsPerPage] = useState(30)\r\n\r\n    const lastPostIndex = currentPage * postsPerPage\r\n    const firstPostIndex = lastPostIndex - postsPerPage\r\n\r\n\r\n    const [error, setError] = useState('')\r\n    const historyStartWork = useRef(null)\r\n    const historyEndWork = useRef(null)\r\n    const [isFilter, setIsFilter] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const currentlyPosts = posts.slice(firstPostIndex, lastPostIndex)\r\n    const username = useParams()\r\n\r\n    const paginate = pageNumber => setCurrentPage(pageNumber)\r\n\r\n\r\n    const handleClick = async () => {\r\n        const start = historyStartWork.current.value\r\n        const end = historyEndWork.current.value\r\n        if (start === \"\" || end === \"\") {\r\n            setError('Введите дату')\r\n        } else {\r\n            if (start !== '' || end !== '') {\r\n                setError('Выберите дату')\r\n            }\r\n            if (end < start) {\r\n                setError('Конечная дата меньше начальной')\r\n            } else {\r\n\r\n                const filter = {\r\n                    startDateNomination: historyStartWork.current.value,\r\n                    endDateNomination: historyEndWork.current.value,\r\n                }\r\n                setError('')\r\n\r\n                const fill = async () => {\r\n                    const res = await axios.post('/api/post/Reports', filter)\r\n                    console.log('res=',res.data)\r\n                    setPosts(res.data)\r\n                    setError('')\r\n                }\r\n                fill()\r\n            }\r\n        }\r\n    }\r\n    const handleClickCancel = async () => {\r\n        setError('')\r\n        setIsFilter(false)\r\n        historyStartWork.current.value = ''\r\n        historyEndWork.current.value = ''\r\n    }\r\n    const rowsSort = () => {\r\n        const c = document.getElementById(\"report\");\r\n\r\n        if (historyStartWork.current.value !== '') {\r\n            const sort = currentlyPosts.sort((a, b) => b.row_number - a.row_number)\r\n            console.log('SORT=', sort)\r\n        }\r\n    }\r\n    const FIOSort = () => {\r\n        if (historyStartWork.current.value !== '') {\r\n            const sort = currentlyPosts.sort((a, b) => a.user_name > b.user_name ? 1 : -1);\r\n            console.log('SORT=', sort)\r\n        }\r\n    }\r\n    const workstartSort = () => {\r\n        if (historyStartWork.current.value !== '') {\r\n            const sort = currentlyPosts.sort((a, b) => a.workstart > b.workstart ? 1 : -1);\r\n            console.log('SORT=', sort)\r\n        }\r\n    }\r\n\r\n\r\n    const requestSort = (key) => {\r\n        if (historyStartWork.current.value !== '' && historyEndWork.current.value !== '') {\r\n            let direction = 'ascending';\r\n            if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n                direction = 'descending';\r\n            }\r\n            setSortConfig({key, direction});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Topbar/>\r\n            <div className='Reports'>\r\n                <div className=\"ReportsContainer\">\r\n                    <h2 className='ReportsMainText'>Отчет по номинациям</h2>\r\n                    <hr/>\r\n                    {error && <div className='errorHistoryInfo'>{error}</div>}\r\n                    <br/>\r\n                    <input\r\n                        type='date'\r\n                        placeholder=\"Начало работы\"\r\n                        className=\"ModalInput\"\r\n                        ref={historyStartWork}\r\n                        style={{'marginRight': '10px'}}\r\n                    />\r\n                    <input\r\n                        type='date'\r\n                        placeholder=\"Конец работы\"\r\n                        className=\"ModalInput\"\r\n                        ref={historyEndWork}\r\n                        style={{'marginRight': '10px'}}\r\n                    />\r\n                    <button className=\"filterButton\" onClick={handleClick}>ок</button>\r\n                    <button className=\"filterButton\" onClick={handleClickCancel}>сбросить</button>\r\n                    <br/>\r\n                    <br/>\r\n                    <hr/>\r\n                    <br/>\r\n                    <tr>\r\n                        <td className=\"historyinfoNumber\" onClick={() => requestSort('name')}>\r\n                            Кто голосовал {sortConfig.key === 'name' && (\r\n                            <span>{sortConfig.direction === 'ascending' ? '▼' : '▲'}</span>\r\n                        )}\r\n                        </td>\r\n                        <td className=\"historyinfoNumber\" onClick={() => requestSort('FIO')}>\r\n                            Номинировал {sortConfig.key === 'FIO' && (\r\n                            <span>{sortConfig.direction === 'ascending' ? '▼' : '▲'}</span>\r\n                        )}\r\n                        </td>\r\n                        <td className=\"historyinfoNumber\" onClick={() => requestSort('start')}>\r\n                            Имя номинации {sortConfig.key === 'start' && (\r\n                            <span>{sortConfig.direction === 'ascending' ? '▼' : '▲'}</span>\r\n                        )}\r\n                        </td>\r\n                        <td className=\"historyinfoNumber\" onClick={() => requestSort('start')}>\r\n                            Дата голосования {sortConfig.key === 'start' && (\r\n                            <span>{sortConfig.direction === 'ascending' ? '▼' : '▲'}</span>\r\n                        )}\r\n                        </td>\r\n                    </tr>\r\n                    {\r\n                        currentlyPosts.map((posts, id) => <RepostInfoNominations key={id} posts={posts} username={username}/>)\r\n                    }\r\n\r\n                    <Pagination postsPerPage={postsPerPage} totalPosts={posts.length} paginate={paginate}\r\n                                currentPage={currentPage}/>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}
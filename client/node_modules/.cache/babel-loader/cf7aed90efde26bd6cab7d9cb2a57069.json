{"ast":null,"code":"import _slicedToArray from\"D:/Download/time_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Search,ExitToApp}from'@material-ui/icons';import axios from'axios';import{useEffect,useState}from'react';import SearchBlock from'../SearchBlock/SearchBlock';import{Link}from'react-router-dom';import'./Topbar.css';import Status from'../Status/Status';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Topbar(){var user=JSON.parse(localStorage.getItem('user'));var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allUsers=_useState4[0],setAllUsers=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),findUsers=_useState6[0],setFindUsers=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isBlock=_useState8[0],setIsBlock=_useState8[1];// выход\nvar logOut=function logOut(){localStorage.clear();window.location.reload();window.location.href='/';};/*// получение всех пользователей. отключено\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get('/api/users/all/1')\r\n      setAllUsers(res.data)\r\n    }\r\n    fetchUser()\r\n  }, [])\r\n\r\n  // поиск пользователя. отключено\r\n  const handleKeyPress = (e) => {\r\n    if(e.key === 'Enter'){\r\n      setFindUsers(allUsers.filter(user => user.username.toLowerCase().includes(searchValue.toLowerCase())))\r\n      setIsBlock(true)\r\n    }\r\n  }*/return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topbarContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"topbarLeft\",children:/*#__PURE__*/_jsx(Status,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"topbarCenter\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"topbarRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topbarLinks\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"topbarLink\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\"})}),/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(user._id),className:\"topbarLink\",children:/*#__PURE__*/_jsx(\"span\",{className:\"topbarLink\",children:user.username})}),/*#__PURE__*/_jsx(Link,{to:\"/information\",className:\"topbarLink\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"})})]}),/*#__PURE__*/_jsx(ExitToApp,{style:{cursor:'pointer'},onClick:logOut})]})]}),isBlock?/*#__PURE__*/_jsxs(\"div\",{className:\"searchContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchTop\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"serachTitle\",children:[\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E: \",findUsers.length]}),/*#__PURE__*/_jsx(\"button\",{className:\"searchBtn\",onClick:function onClick(){return setIsBlock(false);},children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]}),findUsers.map(function(user){return/*#__PURE__*/_jsx(SearchBlock,{user:user});})]}):/*#__PURE__*/_jsx(_Fragment,{})]});}","map":{"version":3,"sources":["D:/Download/time_app/client/src/components/Topbar/Topbar.jsx"],"names":["Search","ExitToApp","axios","useEffect","useState","SearchBlock","Link","Status","Topbar","user","JSON","parse","localStorage","getItem","searchValue","setSearchValue","allUsers","setAllUsers","findUsers","setFindUsers","isBlock","setIsBlock","logOut","clear","window","location","reload","href","_id","username","cursor","length","map"],"mappings":"8GAAA,OAASA,MAAT,CAAiBC,SAAjB,KAAkC,oBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,6IAEA,cAAe,SACXC,CAAAA,MADW,EACF,CACX,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CACA,cAAsCT,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAkCb,QAAQ,CAAC,EAAD,CAA1C,yCAAOc,SAAP,eAAkBC,YAAlB,eACA,eAA8Bf,QAAQ,CAAC,KAAD,CAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eAEA;AACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBV,YAAY,CAACW,KAAb,GACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACAF,MAAM,CAACC,QAAP,CAAgBE,IAAhB,CAAuB,GAAvB,CACD,CAJD,CAMA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAEE,mBACE,oCACE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,MAAD,IADF,EADF,cAIE,YAAK,SAAS,CAAC,cAAf,EAJF,cAUE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,YAAvB,uBAAoC,qHAApC,EADF,cAEE,KAAC,IAAD,EAAM,EAAE,oBAAclB,IAAI,CAACmB,GAAnB,CAAR,CAAkC,SAAS,CAAC,YAA5C,uBAAyD,aAAM,SAAS,CAAC,YAAhB,UAA8BnB,IAAI,CAACoB,QAAnC,EAAzD,EAFF,cAGE,KAAC,IAAD,EAAM,EAAE,CAAC,cAAT,CAAwB,SAAS,CAAC,YAAlC,uBAA+C,sFAA/C,EAHF,GADF,cAME,KAAC,SAAD,EAAW,KAAK,CAAE,CAACC,MAAM,CAAC,SAAR,CAAlB,CAAsC,OAAO,CAAER,MAA/C,EANF,GAVF,GADF,CAoBGF,OAAO,cACJ,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAI,SAAS,CAAC,aAAd,0DAAsCF,SAAS,CAACa,MAAhD,GADF,cAEE,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,yBAAMV,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAAvC,wDAFF,GADF,CAKGH,SAAS,CAACc,GAAV,CAAc,SAACvB,IAAD,qBAAU,KAAC,WAAD,EAAa,IAAI,CAAEA,IAAnB,EAAV,EAAd,CALH,GADI,cAQJ,kBA5BN,GADF,CAiCD","sourcesContent":["import { Search, ExitToApp } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport SearchBlock from '../SearchBlock/SearchBlock'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './Topbar.css'\r\nimport Status from '../Status/Status'\r\n\r\nexport default function\r\n    Topbar() {\r\n  const user = JSON.parse(localStorage.getItem('user'))\r\n  const [searchValue, setSearchValue] = useState(\"\")\r\n  const [allUsers, setAllUsers] = useState([])\r\n  const [findUsers, setFindUsers] = useState([])\r\n  const [isBlock, setIsBlock] = useState(false)\r\n\r\n  // выход\r\n  const logOut = () => {\r\n    localStorage.clear()\r\n    window.location.reload()\r\n    window.location.href = '/'\r\n  }\r\n\r\n  /*// получение всех пользователей. отключено\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get('/api/users/all/1')\r\n      setAllUsers(res.data)\r\n    }\r\n    fetchUser()\r\n  }, [])\r\n\r\n  // поиск пользователя. отключено\r\n  const handleKeyPress = (e) => {\r\n    if(e.key === 'Enter'){\r\n      setFindUsers(allUsers.filter(user => user.username.toLowerCase().includes(searchValue.toLowerCase())))\r\n      setIsBlock(true)\r\n    }\r\n  }*/\r\n\r\n  return (\r\n    <div>\r\n      <div className='topbarContainer'>\r\n        <div className=\"topbarLeft\">\r\n          <Status/>\r\n        </div>\r\n        <div className=\"topbarCenter\">\r\n          {/* <div className=\"searchbar\">\r\n            <Search/>\r\n            <input value={searchValue} onChange={(e) => setSearchValue(e.target.value)} onKeyPress={handleKeyPress} placeholder='Найти...' className=\"searchInput\" />\r\n          </div> */}\r\n        </div>\r\n        <div className=\"topbarRight\">\r\n          <div className=\"topbarLinks\">\r\n            <Link to='/' className=\"topbarLink\"><span>Главная страница</span></Link>\r\n            <Link to={`/profile/${user._id}`} className=\"topbarLink\"><span className=\"topbarLink\">{user.username}</span></Link>\r\n            <Link to='/information' className=\"topbarLink\"><span >Информация</span></Link>\r\n          </div>\r\n          <ExitToApp style={{cursor:'pointer'}} onClick={logOut}/>\r\n        </div>\r\n      </div>\r\n      {isBlock\r\n        ? <div className=\"searchContainer\">\r\n            <div className='searchTop'>\r\n              <h3 className='serachTitle'>Найдено: {findUsers.length}</h3>\r\n              <button className='searchBtn' onClick={() => setIsBlock(false)}>Закрыть</button>\r\n            </div>\r\n            {findUsers.map((user) => <SearchBlock user={user}/>)}\r\n          </div>\r\n        : <></>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\time_app\\\\client\\\\src\\\\components\\\\ProfileInfo\\\\Skills\\\\Skills.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport Modal from \"../../Templates/Modal/Modal\";\nimport './Skills.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Skills = ({\n  modalActiveSkills,\n  setModalActiveSkills\n}) => {\n  _s();\n\n  const skill = useRef();\n  const localUser = JSON.parse(localStorage.getItem('user'));\n  const [searchTermSkills, setSearchTermSkills] = useState('');\n  const [skills, setSkills] = useState([]);\n  const [skillId, setSkillId] = useState([]);\n  const [userSkills, setUserSkills] = useState([]);\n  const [filteredSkills, setFilteredSkills] = useState([]);\n  useEffect(() => {\n    const getSkills = async () => {\n      const getAllSkills = await axios.get('/api/Skills/');\n      setSkills(getAllSkills.data[0]['get_all_skills_json']);\n      const getUserSkills = await axios.get('/api/Skills/' + localUser._id);\n      const filter = getUserSkills.data.filter(element => element.name);\n      console.log('fil=', filter);\n      setUserSkills(filter);\n      console.log('log=', getAllSkills.data[0]['get_all_skills_json']);\n      console.log('log=', getUserSkills.data[0]['get_user_skills_json']);\n    };\n\n    getSkills();\n  }, []);\n  const [selectedNumber, setSelectedNumber] = useState(null);\n  const [selectedNumber2, setSelectedNumber2] = useState(null);\n\n  const handleClick = number1 => {\n    setSelectedNumber(number1);\n    console.log(`You clicked number ${number1}`);\n  };\n\n  const handleClick2 = number2 => {\n    setSelectedNumber2(number2);\n    console.log(`You clicked number ${number2}`);\n  };\n\n  const handleInputChangeSkills = e => {\n    const termCities = e.target.value;\n    setSearchTermSkills(termCities);\n    const filtered = skills.filter(skill => skill.name && skill.name.toLowerCase().includes(termCities.toLowerCase()));\n\n    if (termCities === '') {\n      setFilteredSkills([]);\n    } else {\n      setFilteredSkills(filtered);\n    }\n  };\n\n  const handleSkillsClick = (id, name) => {\n    setFilteredSkills([]);\n    setSkillId(id);\n    setSearchTermSkills(name);\n  };\n\n  const ButtonAddSkills = async () => {\n    const addSkills = {\n      user_id: localUser._id,\n      skill_id: skillId,\n      self_grade: skillId,\n      head_grade: skillId\n    };\n    const getSkills = await axios.post('/api/Skills/', addSkills);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      active: modalActiveSkills,\n      setActive: setModalActiveSkills,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0421\\u043A\\u0438\\u043B\\u043B\\u044B:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modalError\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0443\\u043C\\u0435\\u043D\\u0438\\u0435:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"\\u041D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u0443\\u043C\\u0435\\u043D\\u0438\\u0435\",\n              ref: skill,\n              className: \"registerInput\",\n              value: searchTermSkills,\n              onChange: handleInputChangeSkills\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: filteredSkills.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"divSelectRegister\",\n                children: filteredSkills.map((skill, id) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"selectNameDiv\",\n                  value: id,\n                  onClick: () => handleSkillsClick(skill.id, skill.name),\n                  children: skill.name\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '50px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430 \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"MainContainer\",\n              children: [1, 2, 3, 4, 5].map(number1 => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `WrapperContainer ${selectedNumber === number1 ? 'selected' : ''}`,\n                onClick: () => handleClick(number1),\n                children: number1\n              }, number1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '50px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430 \\u0440\\u0443\\u043A\\u043E\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"MainContainer\",\n              children: [1, 2, 3, 4, 5].map(number2 => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `WrapperContainer ${selectedNumber2 === number2 ? 'selected' : ''}`,\n                onClick: () => handleClick2(number2),\n                children: number2\n              }, number2, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ModalButton\",\n        type: \"submit\",\n        onClick: ButtonAddSkills,\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u043C\\u0435\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divreserve\",\n        children: userSkills.map((array, id) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"place\",\n          children: [\"\\u0414\\u0430\\u0442\\u0430: \", array.name, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"placeButton\",\n            value: array.id,\n            children: \"\\u0421\\u043D\\u044F\\u0442\\u044C \\u0440\\u0435\\u0437\\u0435\\u0440\\u0432\"\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ModalButton\",\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0432\\u0441\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Skills, \"pfihaYdzNH0BeV7tjqitd0MryCM=\");\n\n_c = Skills;\nexport default Skills;\n\nvar _c;\n\n$RefreshReg$(_c, \"Skills\");","map":{"version":3,"sources":["D:/time_app/client/src/components/ProfileInfo/Skills/Skills.jsx"],"names":["React","useEffect","useRef","useState","Modal","axios","Skills","modalActiveSkills","setModalActiveSkills","skill","localUser","JSON","parse","localStorage","getItem","searchTermSkills","setSearchTermSkills","skills","setSkills","skillId","setSkillId","userSkills","setUserSkills","filteredSkills","setFilteredSkills","getSkills","getAllSkills","get","data","getUserSkills","_id","filter","element","name","console","log","selectedNumber","setSelectedNumber","selectedNumber2","setSelectedNumber2","handleClick","number1","handleClick2","number2","handleInputChangeSkills","e","termCities","target","value","filtered","toLowerCase","includes","handleSkillsClick","id","ButtonAddSkills","addSkills","user_id","skill_id","self_grade","head_grade","post","fontWeight","length","map","width","array"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport Modal from \"../../Templates/Modal/Modal\";\r\nimport './Skills.css'\r\nimport axios from \"axios\";\r\n\r\nconst Skills = ({ modalActiveSkills, setModalActiveSkills }) => {\r\n    const skill = useRef()\r\n\r\n\r\n\r\n    const localUser = JSON.parse(localStorage.getItem('user'))\r\n    const [searchTermSkills, setSearchTermSkills] = useState('');\r\n    const [skills, setSkills] = useState([])\r\n    const [skillId, setSkillId] = useState([])\r\n    const [userSkills, setUserSkills] = useState([])\r\n    const [filteredSkills, setFilteredSkills] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        const getSkills = async () => {\r\n\r\n            const getAllSkills = await axios.get('/api/Skills/')\r\n            setSkills(getAllSkills.data[0]['get_all_skills_json'])\r\n\r\n            const getUserSkills = await axios.get('/api/Skills/'+localUser._id)\r\n            const filter = getUserSkills.data.filter(element => element.name)\r\n            console.log('fil=',filter)\r\n            setUserSkills(filter)\r\n\r\n\r\n            console.log('log=',getAllSkills.data[0]['get_all_skills_json'])\r\n            console.log('log=',getUserSkills.data[0]['get_user_skills_json'])\r\n\r\n        }\r\n        getSkills()\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const [selectedNumber, setSelectedNumber] = useState(null);\r\n    const [selectedNumber2, setSelectedNumber2] = useState(null);\r\n    const handleClick = (number1) => {\r\n            setSelectedNumber(number1)\r\n        console.log(`You clicked number ${number1}`);\r\n    };\r\n    const handleClick2 = (number2) => {\r\n        setSelectedNumber2(number2)\r\n        console.log(`You clicked number ${number2}`);\r\n    };\r\n\r\n\r\n    const handleInputChangeSkills = (e) => {\r\n        const termCities = e.target.value;\r\n        setSearchTermSkills(termCities);\r\n        const filtered = skills.filter(skill =>\r\n            skill.name && skill.name.toLowerCase().includes(termCities.toLowerCase())\r\n        );\r\n        if (termCities === '') {\r\n            setFilteredSkills([])\r\n        } else {\r\n            setFilteredSkills(filtered);\r\n        }\r\n    }\r\n\r\n\r\n    const handleSkillsClick = (id,name) => {\r\n        setFilteredSkills([])\r\n        setSkillId(id)\r\n        setSearchTermSkills(name)\r\n    }\r\n\r\n    const ButtonAddSkills = async () => {\r\n\r\n        const addSkills = {\r\n            user_id:localUser._id,\r\n            skill_id:skillId,\r\n            self_grade:skillId,\r\n            head_grade:skillId\r\n        }\r\n        const getSkills = await axios.post('/api/Skills/',addSkills)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <Modal active={modalActiveSkills} setActive={setModalActiveSkills}>\r\n                <h1>Скиллы:</h1>\r\n                <br/>\r\n\r\n                <div className='modalError'>\r\n\r\n                </div>\r\n\r\n                <hr/>\r\n                <br/>\r\n                <div className='flex'>\r\n                    <div>\r\n                        <div>\r\n                            <label style={{fontWeight: \"bold\"}}>Выберите умение:</label>\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                placeholder=\"Начните вводить умение\"\r\n                                ref={skill}\r\n                                className=\"registerInput\"\r\n                                value={searchTermSkills}\r\n                                onChange={handleInputChangeSkills}\r\n                            />\r\n\r\n                            <div>\r\n                                {filteredSkills.length > 0 && (\r\n                                    <div className='divSelectRegister'>\r\n                                        {filteredSkills.map((skill, id) => (\r\n                                            <div className='selectNameDiv' key={id} value={id} onClick={() => handleSkillsClick(skill.id,skill.name)}>\r\n                                                {skill.name}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{width: '50px'}}></div>\r\n\r\n                    <div>\r\n                        <div>\r\n                            <label style={{fontWeight: \"bold\"}}>Оценка сотрудника:</label>\r\n                        </div>\r\n                        <div>\r\n                            <div className='MainContainer'>\r\n                                {[1, 2, 3, 4, 5].map((number1) => (\r\n                                    <div className={`WrapperContainer ${selectedNumber === number1 ? 'selected' : ''}`}\r\n                                        key={number1}\r\n                                        onClick={() => handleClick(number1)}\r\n                                    >\r\n                                        {number1}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div style={{width: '50px'}}></div>\r\n                    <div>\r\n                        <div>\r\n                            <label style={{fontWeight: \"bold\"}}>Оценка руководителя:</label>\r\n                        </div>\r\n                        <div>\r\n                            <div className='MainContainer'>\r\n                                {[1, 2, 3, 4, 5].map((number2) => (\r\n                                    <div className={`WrapperContainer ${selectedNumber2 === number2 ? 'selected' : ''}`}\r\n                                         key={number2}\r\n                                         onClick={() => handleClick2(number2)}\r\n                                    >\r\n                                        {number2}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <br/>\r\n                <button className=\"ModalButton\" type=\"submit\" onClick={ButtonAddSkills}>\r\n                    Добавить умение\r\n                </button>\r\n                <br/>\r\n                <br/>\r\n                <hr/>\r\n\r\n                <div className='divreserve'>\r\n                    {userSkills.map((array, id) =>\r\n                        <div className='place'>Дата: {array.name}\r\n                            <button className='placeButton' key={id} value={array.id}>Снять резерв</button>\r\n                        </div>)}\r\n                </div>\r\n                <br/>\r\n                <br/>\r\n                <button  className=\"ModalButton\">Отменить все</button>\r\n                <br/><br/>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Skills;"]},"metadata":{},"sourceType":"module"}
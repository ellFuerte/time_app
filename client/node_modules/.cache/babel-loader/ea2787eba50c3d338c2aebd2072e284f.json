{"ast":null,"code":"import _slicedToArray from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useEffect,useState}from\"react\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import{AuthContext}from\"./context/AuthContext\";import Error from\"./pages/Error/Error\";import Login from\"./pages/Login/Login\";import Profile from\"./pages/Profile/Profile\";import Register from\"./pages/Register/Register\";import Department from'./pages/Department/Department';import Information from\"./pages/Information/Information\";import Reports from\"./pages/Reports/Reports\";import ReportsNominations from\"./pages/ReportsNominations/ReportsNominations\";import ReportsHistory from\"./pages/ReportsHistory/ReportsHistory\";import Message from\"./components/MessagePost/MessagePost\";import VacanciesView from\"./components/VacanciesView/VacanciesView\";import VacanciesAdd from\"./components/VacanciesAdd/VacanciesAdd\";import AdminPanel from'./components/AdminPanel/AdminPanel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];function ProfileRoute(_ref){var authUser=_ref.authUser;var username=useParams();if(authUser.isAdmin===false&&authUser._id!==username.username){return/*#__PURE__*/_jsx(Error,{});}return/*#__PURE__*/_jsx(Profile,{});}var _useContext=useContext(AuthContext),user=_useContext.user;var userStorage=JSON.parse(localStorage.getItem('user'));var authUser=user||userStorage;return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:authUser?/*#__PURE__*/_jsx(Redirect,{to:\"/department/\".concat(authUser.main_department)}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:authUser?/*#__PURE__*/_jsx(Redirect,{to:\"/department/\".concat(authUser.main_department)}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",children:authUser?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:username\",children:authUser?/*#__PURE__*/_jsx(ProfileRoute,{authUser:authUser}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/department/:username\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Information\",children:authUser?/*#__PURE__*/_jsx(Information,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Reports/\",children:authUser?/*#__PURE__*/_jsx(Reports,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ReportsNominations/\",children:authUser?/*#__PURE__*/_jsx(ReportsNominations,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ReportsHistory/\",children:authUser?/*#__PURE__*/_jsx(ReportsHistory,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/all_users\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/not_working_today\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/not_worked_yesterday\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sick_today\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sick_yesterday\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/vacation_today\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/vacation_yesterday\",children:authUser?/*#__PURE__*/_jsx(Department,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Message\",children:authUser?/*#__PURE__*/_jsx(Message,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/VacanciesView\",children:authUser?/*#__PURE__*/_jsx(VacanciesView,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/VacanciesAdd/\",children:authUser?/*#__PURE__*/_jsx(VacanciesAdd,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/AdminPanel\",children:authUser?/*#__PURE__*/_jsx(AdminPanel,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",children:/*#__PURE__*/_jsx(Error,{})})]})});}export default App;","map":{"version":3,"sources":["D:/time_app/client/src/App.js"],"names":["useContext","useEffect","useState","BrowserRouter","Router","Switch","Route","Redirect","useParams","AuthContext","Error","Login","Profile","Register","Department","Information","Reports","ReportsNominations","ReportsHistory","Message","VacanciesView","VacanciesAdd","AdminPanel","App","isLoading","setIsLoading","ProfileRoute","authUser","username","isAdmin","_id","user","userStorage","JSON","parse","localStorage","getItem","main_department"],"mappings":"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","sourcesContent":["import {useContext,useEffect,useState} from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport {useParams} from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Error from \"./pages/Error/Error\";\nimport Login from \"./pages/Login/Login\";\nimport Profile from \"./pages/Profile/Profile\";\nimport Register from \"./pages/Register/Register\";\nimport Department from './pages/Department/Department';\nimport Information from \"./pages/Information/Information\";\nimport Reports from \"./pages/Reports/Reports\";\nimport ReportsNominations from \"./pages/ReportsNominations/ReportsNominations\";\nimport ReportsHistory from \"./pages/ReportsHistory/ReportsHistory\";\nimport Message from \"./components/MessagePost/MessagePost\";\nimport VacanciesView from \"./components/VacanciesView/VacanciesView\"\nimport VacanciesAdd from \"./components/VacanciesAdd/VacanciesAdd\"\nimport AdminPanel from './components/AdminPanel/AdminPanel'\n\n\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n\n\n\n  function ProfileRoute({ authUser }) {\n\n    let  username = useParams()\n\n    if (authUser.isAdmin===false && authUser._id !== username.username) {\n\n      return <Error />\n    }\n\n    return <Profile/>\n  }\n  const {user} = useContext(AuthContext)\n  const userStorage = JSON.parse(localStorage.getItem('user'))\n\n  const authUser = user || userStorage\n\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/'>\n          { authUser ? <Redirect to={`/department/${authUser.main_department}`}/> : <Redirect to='/login'/>}\n        </Route>\n        <Route path='/login'>\n          { authUser ? <Redirect to={`/department/${authUser.main_department}`}/> : <Login/> }\n        </Route>\n        <Route path='/register'>\n          { authUser ? <Redirect to='/'/> : <Register/> }\n        </Route>\n        <Route path='/profile/:username'>\n          { authUser ? <ProfileRoute authUser={authUser} /> :<Login/>}\n        </Route>\n        <Route path='/department/:username'>\n          { authUser ? <Department/> : <Login/>}\n        </Route>\n        <Route path='/Information'>\n          { authUser ? <Information/> : <Login/> }\n        </Route>\n        <Route path='/Reports/'>\n          { authUser ? <Reports/> : <Login/> }\n        </Route>\n        <Route path='/ReportsNominations/'>\n          { authUser ? <ReportsNominations/> : <Login/> }\n        </Route>\n        <Route path='/ReportsHistory/'>\n          { authUser ? <ReportsHistory/> : <Login/> }\n        </Route>\n        <Route path='/all_users'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/not_working_today'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/not_worked_yesterday'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/sick_today'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/sick_yesterday'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/vacation_today'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/vacation_yesterday'>\n          { authUser ? <Department/> : <Login/> }\n        </Route>\n        <Route path='/Message'>\n          { authUser ? <Message/> : <Login/> }\n        </Route>\n        <Route path='/VacanciesView'>\n          { authUser ? <VacanciesView/> : <Login/> }\n        </Route>\n        <Route path='/VacanciesAdd/'>\n        { authUser ? <VacanciesAdd /> : <Login/> }\n      </Route>\n        <Route path='/AdminPanel'>\n          { authUser ? <AdminPanel/> : <Login/> }\n        </Route>\n        <Route path='/*'>\n          <Error/>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
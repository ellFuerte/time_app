{"ast":null,"code":"var _jsxFileName = \"D:\\\\Download\\\\time_app\\\\client\\\\src\\\\context\\\\AuthContext.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  createContext,\n  useState,\n  useEffect\n} = require(\"react\");\n\nexport const AccountContext = createContext();\n\nconst UserContext = ({\n  children\n}) => {\n  _s();\n\n  const [user, setUser] = useState({\n    loggedIn: null\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(\"http://localhost:3000/auth/login\", {\n      credentials: \"include\"\n    }).catch(err => {\n      setUser({\n        loggedIn: false\n      });\n      return;\n    }).then(r => {\n      if (!r || !r.ok || r.status >= 400) {\n        setUser({\n          loggedIn: false\n        });\n        return;\n      }\n\n      return r.json();\n    }).then(data => {\n      if (!data) {\n        setUser({\n          loggedIn: false\n        });\n        return;\n      }\n\n      setUser({ ...data\n      });\n      navigate(\"/home\");\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AccountContext.Provider, {\n    value: {\n      user,\n      setUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserContext, \"M1neyIgBCt7DbsYPVs8EKBXQY7s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserContext;\nexport default AuthContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContext\");","map":{"version":3,"sources":["D:/Download/time_app/client/src/context/AuthContext.js"],"names":["useNavigate","createContext","useState","useEffect","require","AccountContext","UserContext","children","user","setUser","loggedIn","navigate","fetch","credentials","catch","err","then","r","ok","status","json","data","AuthContext"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,cAA5B;;;AAEA,MAAM;AAAEC,EAAAA,aAAF;AAAiBC,EAAAA,QAAjB;AAA2BC,EAAAA;AAA3B,IAAyCC,OAAO,CAAC,OAAD,CAAtD;;AAEA,OAAO,MAAMC,cAAc,GAAGJ,aAAa,EAApC;;AAEP,MAAMK,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC;AAAEQ,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAAhC;AACA,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACAG,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCC,MAAAA,WAAW,EAAE;AADyB,KAArC,CAAL,CAGKC,KAHL,CAGWC,GAAG,IAAI;AACVN,MAAAA,OAAO,CAAC;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAAP;AACA;AACH,KANL,EAOKM,IAPL,CAOUC,CAAC,IAAI;AACP,UAAI,CAACA,CAAD,IAAM,CAACA,CAAC,CAACC,EAAT,IAAeD,CAAC,CAACE,MAAF,IAAY,GAA/B,EAAoC;AAChCV,QAAAA,OAAO,CAAC;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAD,CAAP;AACA;AACH;;AACD,aAAOO,CAAC,CAACG,IAAF,EAAP;AACH,KAbL,EAcKJ,IAdL,CAcUK,IAAI,IAAI;AACV,UAAI,CAACA,IAAL,EAAW;AACPZ,QAAAA,OAAO,CAAC;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAD,CAAP;AACA;AACH;;AACDD,MAAAA,OAAO,CAAC,EAAE,GAAGY;AAAL,OAAD,CAAP;AACAV,MAAAA,QAAQ,CAAC,OAAD,CAAR;AACH,KArBL,EADY,CAuBZ;AACH,GAxBQ,EAwBN,EAxBM,CAAT;AAyBA,sBACI,QAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAE;AAAEH,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAhC;AAAA,cACKF;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAjCD;;GAAMD,W;UAEeN,W;;;KAFfM,W;AAkCN,eAAegB,WAAf","sourcesContent":["import { useNavigate } from \"react-router\";\r\n\r\nconst { createContext, useState, useEffect } = require(\"react\");\r\n\r\nexport const AccountContext = createContext();\r\n\r\nconst UserContext = ({ children }) => {\r\n    const [user, setUser] = useState({ loggedIn: null });\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:3000/auth/login\", {\r\n            credentials: \"include\",\r\n        })\r\n            .catch(err => {\r\n                setUser({ loggedIn: false });\r\n                return;\r\n            })\r\n            .then(r => {\r\n                if (!r || !r.ok || r.status >= 400) {\r\n                    setUser({ loggedIn: false });\r\n                    return;\r\n                }\r\n                return r.json();\r\n            })\r\n            .then(data => {\r\n                if (!data) {\r\n                    setUser({ loggedIn: false });\r\n                    return;\r\n                }\r\n                setUser({ ...data });\r\n                navigate(\"/home\");\r\n            });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return (\r\n        <AccountContext.Provider value={{ user, setUser }}>\r\n            {children}\r\n        </AccountContext.Provider>\r\n    );\r\n};\r\nexport default AuthContext"]},"metadata":{},"sourceType":"module"}
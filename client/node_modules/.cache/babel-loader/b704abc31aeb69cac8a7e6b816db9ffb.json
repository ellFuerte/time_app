{"ast":null,"code":"import _regeneratorRuntime from\"D:/time_app/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Topbar from\"../Topbar/Topbar\";import React,{useEffect,useRef,useState}from\"react\";import'./VacanciesAdd.css';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function VacanciesAdd(depsId){var localUser=JSON.parse(localStorage.getItem('user'));var _useState=useState([]),_useState2=_slicedToArray(_useState,2),deps=_useState2[0],setDeps=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isView=_useState8[0],setIsView=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),status=_useState10[0],setStatus=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),company=_useState12[0],setCompany=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),checkVal=_useState14[0],setCheckVal=_useState14[1];var NameVacationRef=useRef();var TeamRef=useRef();var StatusRef=useRef();var CodeVacations=useRef();var Company=useRef();var Description=useRef();var CodeProject=useRef();var Grade=useRef();var changeVal=function changeVal(){setCheckVal(!checkVal);};useEffect(function(){var getDeps=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var departament,status,company;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/departments/');case 2:departament=_context.sent;setDeps(departament.data);_context.next=6;return axios.get('/api/Vacations/?status=status');case 6:status=_context.sent;setStatus(status.data);_context.next=10;return axios.get('/api/Vacations/?company=company');case 10:company=_context.sent;setCompany(company.data);case 12:case\"end\":return _context.stop();}}},_callee);}));return function getDeps(){return _ref.apply(this,arguments);};}();getDeps();},[]);var clickHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var Vacations,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:Vacations={namevacation:NameVacationRef.current.value,description:Description.current.value,team_id:TeamRef.current.value,status_id:StatusRef.current.value,codeVacations:CodeVacations.current.value,codeProject:CodeProject.current.value,company_id:Company.current.value,grade:Grade.current.value,is_checked:checkVal};console.log('comp=',Vacations.company_id.length);if(!(NameVacationRef.current.value===''||Description.current.value===''||TeamRef.current.value===''||StatusRef.current.value===''||CodeVacations.current.value===''||CodeProject.current.value===''||Grade.current.value===''||Company.current.value==='')){_context2.next=7;break;}setError(\"Заполните поля\");setIsView(true);_context2.next=11;break;case 7:_context2.next=9;return axios.post('/api/Vacations/',Vacations);case 9:res=_context2.sent;if(res.status===200){setMessage('Добавленно');setError('');}case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function clickHandler(){return _ref2.apply(this,arguments);};}();var clearInput=function clearInput(){Description.current.value='';NameVacationRef.current.value='';CodeVacations.current.value='';CodeProject.current.value='';Grade.current.value='';};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"VacationsMainAdd\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center'},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u044E\"}),!error&&isView&&message&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u043D\\u043E\"}),message&&!error&&!isView&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u043D\\u043E\"}),error&&isView&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:NameVacationRef,type:\"text\",placeholder:\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u0438\",className:\"InputVacation\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:Description,type:\"text\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u0438\",className:\"InputVacation\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{ref:TeamRef,className:\"SelectVacation\",children:deps.map(function(dep,name){return/*#__PURE__*/_jsx(\"option\",{selected:dep.id===localUser.departmentId,value:dep.id,children:dep.department_name},name);})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{ref:StatusRef,className:\"SelectVacation\",children:status.map(function(status,name){return/*#__PURE__*/_jsx(\"option\",{value:status.id,children:status.name},name);})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:CodeVacations,type:\"text\",placeholder:\"\\u041A\\u043E\\u0434 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u0438\",className:\"InputVacation\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{ref:Company,className:\"SelectVacation\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u041A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F\"}),company.map(function(company,name){return/*#__PURE__*/_jsx(\"option\",{value:company.id,children:company.name},name);})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:CodeProject,type:\"number\",placeholder:\"\\u041A\\u043E\\u0434 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\",className:\"InputVacation\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:Grade,type:\"number\",placeholder:\"\\u0413\\u0440\\u0435\\u0439\\u0434\",className:\"InputVacation\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{paddingRight:'10px'},children:\"\\u041D\\u0443\\u0436\\u043D\\u0430 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u044F \\u043F\\u043E\\u0441\\u043B\\u0435 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0438\\u044F \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430?\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"Vacation\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:true,id:\"Vacation\",name:\"VacationTrue\",checked:checkVal,onChange:changeVal}),\"\\u0414\\u0430\"]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"Vacation1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:false,id:\"Vacation\",name:\"VacationFalse\",checked:!checkVal,onChange:changeVal}),\"\\u041D\\u0435\\u0442\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',paddingTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"button\",{className:\"filterButton\",onClick:clickHandler,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filterButton\",onClick:clearInput,children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"})]})]})]});}export default VacanciesAdd;","map":{"version":3,"sources":["D:/time_app/client/src/components/VacanciesAdd/VacanciesAdd.jsx"],"names":["Topbar","React","useEffect","useRef","useState","axios","VacanciesAdd","depsId","localUser","JSON","parse","localStorage","getItem","deps","setDeps","error","setError","message","setMessage","isView","setIsView","status","setStatus","company","setCompany","checkVal","setCheckVal","NameVacationRef","TeamRef","StatusRef","CodeVacations","Company","Description","CodeProject","Grade","changeVal","getDeps","get","departament","data","clickHandler","Vacations","namevacation","current","value","description","team_id","status_id","codeVacations","codeProject","company_id","grade","is_checked","console","log","length","post","res","clearInput","textAlign","map","dep","name","id","departmentId","department_name","marginTop","paddingRight","paddingTop"],"mappings":"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","sourcesContent":["import Topbar from \"../Topbar/Topbar\";\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\n\r\nimport './VacanciesAdd.css'\r\nimport axios from \"axios\";\r\n\r\nfunction VacanciesAdd(depsId) {\r\n    const localUser = JSON.parse(localStorage.getItem('user'))\r\n    const [deps, setDeps] = useState([])\r\n\r\n\r\n    const [error, setError] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [isView, setIsView] = useState(false)\r\n\r\n    const [status, setStatus] = useState([])\r\n    const [company, setCompany] = useState([])\r\n    const [checkVal, setCheckVal] = useState(false)\r\n    const NameVacationRef=useRef()\r\n    const TeamRef = useRef()\r\n    const StatusRef = useRef()\r\n    const CodeVacations = useRef()\r\n    const Company = useRef()\r\n    const Description = useRef()\r\n    const CodeProject = useRef()\r\n    const Grade = useRef()\r\n\r\n\r\n    const changeVal = () => {\r\n        setCheckVal(!checkVal)\r\n    }\r\n    useEffect(() => {\r\n        const getDeps = async () => {\r\n            const departament = await axios.get('/api/departments/')\r\n            setDeps(departament.data)\r\n            const status = await axios.get('/api/Vacations/?status=status')\r\n            setStatus(status.data)\r\n            const company = await axios.get('/api/Vacations/?company=company')\r\n            setCompany(company.data)\r\n        }\r\n\r\n\r\n        getDeps()\r\n    }, [])\r\n\r\n\r\n    const clickHandler = async () => {\r\n        const Vacations = {\r\n        namevacation:NameVacationRef.current.value,\r\n        description:Description.current.value,\r\n        team_id:TeamRef.current.value,\r\n        status_id:StatusRef.current.value,\r\n        codeVacations:CodeVacations.current.value,\r\n        codeProject:CodeProject.current.value,\r\n        company_id: Company.current.value,\r\n        grade:Grade.current.value,\r\n        is_checked:checkVal\r\n        }\r\n        console.log('comp=',Vacations.company_id.length)\r\n        if(NameVacationRef.current.value==='' || Description.current.value==='' || TeamRef.current.value==='' ||\r\n            StatusRef.current.value===''|| CodeVacations.current.value==='' || CodeProject.current.value==='' ||\r\n            Grade.current.value==='' || Company.current.value==='')\r\n        {\r\n            setError(\"Заполните поля\")\r\n            setIsView(true)\r\n\r\n        }else{\r\n        const res = await axios.post('/api/Vacations/', Vacations)\r\n        if(res.status===200) {\r\n            setMessage('Добавленно')\r\n            setError('')\r\n        }\r\n        }\r\n    }\r\n\r\n    const clearInput = () => {\r\n        Description.current.value = ''\r\n        NameVacationRef.current.value=''\r\n        CodeVacations.current.value=''\r\n        CodeProject.current.value=''\r\n        Grade.current.value=''\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n                    <br/>\r\n                    <div className=\"VacationsMainAdd\">\r\n                        <h2 style={{textAlign:'center'}}>Добавить вакансию</h2>\r\n\r\n\r\n                        {\r\n                            !error && isView && message &&\r\n                            <div>Добавленно</div>\r\n                        }\r\n                        {\r\n                            message && !error && !isView &&\r\n                            <div>Добавленно</div>\r\n                        }\r\n                        {\r\n                            error && isView &&\r\n                            <div>Заполните поле</div>\r\n                        }\r\n                        <div>\r\n\r\n                        </div>\r\n\r\n                        <div>\r\n                            <input ref={NameVacationRef} type='text' placeholder='Наименование вакансии' className='InputVacation'/>\r\n                        </div>\r\n                        <div>\r\n                                <input ref={Description} type='text' placeholder='Описание вакансии' className='InputVacation'/>\r\n                        </div>\r\n                        <div>\r\n                            <select ref={TeamRef} className='SelectVacation'>\r\n                                {deps.map((dep, name) => <option selected={dep.id === localUser.departmentId} key={name}\r\n                                                                 value={dep.id}>{dep.department_name}</option>)}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div>\r\n                        <select ref={StatusRef} className='SelectVacation'>\r\n                            {status.map((status, name) => <option key={name} value={status.id}>{status.name}</option>)}\r\n                        </select>\r\n                        </div>\r\n                        <div>\r\n                            <input ref={CodeVacations} type='text' placeholder='Код вакансии' className='InputVacation'/>\r\n                        </div>\r\n                        <div>\r\n                            <select ref={Company} className='SelectVacation'>\r\n                                <option value=''>Компания</option>\r\n                                {company.map((company, name) => <option key={name} value={company.id}>{company.name}</option>)}\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <input ref={CodeProject} type='number' placeholder='Код проекта' className='InputVacation'/>\r\n                        </div>\r\n                        <div>\r\n                            <input ref={Grade} type='number' placeholder='Грейд' className='InputVacation'/>\r\n                        </div>\r\n                        <div style={{marginTop:'20px'}}>\r\n                        <label style={{paddingRight:'10px'}}>Нужна вакансия после завершения проекта?</label>\r\n                        <label htmlFor='Vacation'>\r\n                            <input\r\n                            type='radio'\r\n                            value={true}\r\n                            id='Vacation'\r\n                            name='VacationTrue'\r\n                            checked={checkVal}\r\n                            onChange={changeVal}\r\n                        />Да</label>\r\n                        <label htmlFor='Vacation1'>\r\n                            <input\r\n                            type='radio'\r\n                            value={false}\r\n                            id='Vacation'\r\n                            name='VacationFalse'\r\n                            checked={!checkVal}\r\n                            onChange={changeVal}\r\n                        />Нет</label>\r\n                        </div>\r\n                        <div style={{textAlign:'center',paddingTop:\"20px\"}}>\r\n                            <button className=\"filterButton\" onClick={clickHandler}>Сохранить</button>\r\n                            <button className=\"filterButton\" onClick={clearInput}>Сбросить</button>\r\n                            {/*<button className=\"filterButton\" onClick={() => window.location.href = `/department/${depsId.depsId}`} >Выход</button>*/}\r\n                        </div>\r\n                    </div>\r\n        </>\r\n\r\n    )\r\n}\r\nexport default VacanciesAdd"]},"metadata":{},"sourceType":"module"}
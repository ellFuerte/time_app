{"ast":null,"code":"var _jsxFileName = \"D:\\\\Download\\\\time_app\\\\client\\\\src\\\\components\\\\ProfileInfo\\\\ProfileInfo.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useRef, useState } from 'react';\nimport { Create, Delete } from '@material-ui/icons';\nimport Modal from '../Templates/Modal/Modal';\nimport './ProfileInfo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfileInfo({\n  username\n}) {\n  _s();\n\n  const [user, setUser] = useState([]);\n  const [isFetching, setIsFetching] = useState(false);\n  const [modalActive, setModalActive] = useState(false);\n  const [modalActivePass, setModalActivePass] = useState(false);\n  const [modalActiveResetPass, setModalActiveResetPass] = useState(false);\n  const [modalActiveDelete, setModalActiveDelete] = useState(false);\n  const [deps, setDeps] = useState([]);\n  const [error, setError] = useState('');\n  const [posts, setPosts] = useState([]);\n  const localUser = JSON.parse(localStorage.getItem('user'));\n  const modalName = useRef();\n  const modalDep = useRef();\n  const modalEmail = useRef();\n  const modalOldPass = useRef();\n  const modalNewPass = useRef();\n  const modalNewPassAgain = useRef();\n  const usersStatuses = {\n    0: '',\n    1: 'start',\n    2: 'end',\n    3: 'vacation',\n    4: 'deleted'\n  };\n\n  function findStatus(k) {\n    for (let i in usersStatuses) {\n      if (i == k) {\n        return usersStatuses[i];\n      }\n    }\n  } // данные о пользователе\n\n\n  useEffect(() => {\n    setIsFetching(true);\n\n    const fetchUser = async () => {\n      const res = await axios.get('/api/user/' + user._id);\n      setUser(res.data);\n      setIsFetching(false);\n    };\n\n    fetchUser();\n  }, [username]); // все возможные департаменты\n\n  useEffect(() => {\n    const getDeps = async () => {\n      const res = await axios.get('/api/departments/');\n      setDeps(res.data);\n    };\n\n    getDeps();\n  }, []); // данные о работе от последнего к первому\n\n  useEffect(() => {\n    setIsFetching(true);\n\n    const fetchUser = async () => {\n      const res = await axios.get('/api/post/profile/' + username);\n      setPosts(res.data.sort((p1, p2) => {\n        return new Date(p2.workStart) - new Date(p1.workStart);\n      }));\n      setIsFetching(false);\n    };\n\n    fetchUser();\n  }, [username]); // изменение данных пользователя\n\n  const handleClick = async e => {\n    e.preventDefault();\n    const newInfo = {\n      userId: user._id,\n      username: modalName.current.value || user.username,\n      email: modalEmail.current.value || user.email,\n      departmentId: modalDep.current.value || user.departmentId\n    };\n\n    try {\n      await axios.put('/api/user/' + user._id, newInfo);\n\n      if (user._id === localUser._id) {\n        newInfo.password = localUser.password;\n        localStorage.setItem('user', JSON.stringify({ ...user,\n          ...newInfo\n        }));\n      }\n\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }; // изменить пароль\n\n\n  const handleClickPassword = async e => {\n    e.preventDefault();\n\n    if (modalNewPass.current.value !== modalNewPassAgain.current.value) {\n      setError('Новые пароли не совпадают');\n      return;\n    }\n\n    const passwords = {\n      userId: user._id,\n      userPass: localUser.password,\n      oldPassword: modalOldPass.current.value,\n      newPassword: modalNewPass.current.value\n    };\n\n    try {\n      await axios.put('/api/user/' + user._id, passwords);\n      localStorage.clear();\n      window.location.reload();\n    } catch (error) {\n      setError('Старые пароли не совпадают');\n    }\n  }; // сбросить пароль\n\n\n  const handleResetPass = async e => {\n    e.preventDefault();\n    const resetPassword = {\n      userId: user._id,\n      newPassword: 'qwerty123'\n    };\n\n    try {\n      await axios.put('/api/user/' + user._id, resetPassword);\n      setModalActiveResetPass(false);\n    } catch (error) {\n      console.log('Ошибка');\n    }\n  }; // удалить пользователя\n\n\n  const handleDelete = async e => {\n    e.preventDefault();\n    setIsFetching(true);\n    const newPost = {\n      userId: username,\n      healthEnd: 1,\n      workEnd: new Date(Date.now()),\n      workTime: new Date(Date.now()) - new Date(posts[0].workStart)\n    };\n\n    try {\n      await axios.put('/api/user/' + user._id, {\n        status: 4,\n        userId: user._id\n      });\n\n      if (user.status === 1) {\n        await axios.put(\"/api/post/\" + posts[0]._id, newPost);\n      }\n\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(username);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profileInfo\",\n    children: [isFetching ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"isFatching\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'employeePI ' + findStatus(user.status),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: [user.username, localUser.isAdmin ? /*#__PURE__*/_jsxDEV(Create, {\n            style: {\n              fontSize: 'medium',\n              cursor: 'pointer',\n              marginLeft: '10px'\n            },\n            onClick: () => setModalActive(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 19\n          }, this) : '', localUser.isAdmin ? /*#__PURE__*/_jsxDEV(Delete, {\n            style: {\n              cursor: 'pointer',\n              fontSize: 'medium'\n            },\n            onClick: () => setModalActiveDelete(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email\",\n        children: user.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), localUser._id === username && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"changePass\",\n        onClick: () => setModalActivePass(true),\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 42\n      }, this), localUser._id !== username && localUser.isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"changePass\",\n        onClick: () => setModalActiveResetPass(true),\n        children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 65\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      active: modalActive,\n      setActive: setModalActive,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"modalLoginBox\",\n        onSubmit: handleClick,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Name\",\n          className: \"ModalInput\",\n          ref: modalName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ref: modalDep,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u041E\\u0442\\u0434\\u0435\\u043B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), deps.map((dep, id) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: dep.id,\n            children: dep.department_name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 36\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Email\",\n          type: \"email\",\n          className: \"ModalInput\",\n          ref: modalEmail,\n          minLength: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ModalButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      active: modalActivePass,\n      setActive: setModalActivePass,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modalError\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"modalLoginBox\",\n        onSubmit: handleClickPassword,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Old Password\",\n          type: \"password\",\n          className: \"ModalInput\",\n          ref: modalOldPass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"New Password\",\n          type: \"password\",\n          className: \"ModalInput\",\n          ref: modalNewPass,\n          minLength: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"New Password Again\",\n          type: \"password\",\n          className: \"ModalInput\",\n          ref: modalNewPassAgain,\n          minLength: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ModalButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      active: modalActiveResetPass,\n      setActive: setModalActiveResetPass,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"modalLoginBox\",\n        onSubmit: handleResetPass,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0431\\u0443\\u0434\\u0435\\u0442: qwerty123\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ModalButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      active: modalActiveDelete,\n      setActive: setModalActiveDelete,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"modalLoginBox\",\n        onSubmit: handleDelete,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ModalButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileInfo, \"BoJihmx2/e7qOmWsZjEVm/XGPiI=\");\n\n_c = ProfileInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileInfo\");","map":{"version":3,"sources":["D:/Download/time_app/client/src/components/ProfileInfo/ProfileInfo.jsx"],"names":["axios","useEffect","useRef","useState","Create","Delete","Modal","ProfileInfo","username","user","setUser","isFetching","setIsFetching","modalActive","setModalActive","modalActivePass","setModalActivePass","modalActiveResetPass","setModalActiveResetPass","modalActiveDelete","setModalActiveDelete","deps","setDeps","error","setError","posts","setPosts","localUser","JSON","parse","localStorage","getItem","modalName","modalDep","modalEmail","modalOldPass","modalNewPass","modalNewPassAgain","usersStatuses","findStatus","k","i","fetchUser","res","get","_id","data","getDeps","sort","p1","p2","Date","workStart","handleClick","e","preventDefault","newInfo","userId","current","value","email","departmentId","put","password","setItem","stringify","window","location","reload","console","log","handleClickPassword","passwords","userPass","oldPassword","newPassword","clear","handleResetPass","resetPassword","handleDelete","newPost","healthEnd","workEnd","now","workTime","status","isAdmin","fontSize","cursor","marginLeft","map","dep","id","department_name"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { useEffect, useRef, useState } from 'react'\nimport { Create, Delete } from '@material-ui/icons'\n\nimport Modal from '../Templates/Modal/Modal'\nimport './ProfileInfo.css'\n\nexport default function ProfileInfo({username}) {\n  const [user, setUser] = useState([])\n  const [isFetching, setIsFetching] = useState(false)\n  const [modalActive, setModalActive] = useState(false)\n  const [modalActivePass, setModalActivePass] = useState(false)\n  const [modalActiveResetPass, setModalActiveResetPass] = useState(false)\n  const [modalActiveDelete, setModalActiveDelete] = useState(false)\n  const [deps, setDeps] = useState([])\n  const [error, setError] = useState('')\n  const [posts, setPosts] = useState([])\n\n  const localUser = JSON.parse(localStorage.getItem('user'))\n\n  const modalName = useRef()\n  const modalDep = useRef()\n  const modalEmail = useRef()\n\n  const modalOldPass = useRef()\n  const modalNewPass = useRef()\n  const modalNewPassAgain = useRef()\n\n  const usersStatuses = {0: '', 1: 'start', 2: 'end', 3: 'vacation', 4: 'deleted'}\n  \n  function findStatus(k){\n    for(let i in usersStatuses){\n      if(i == k){\n        return usersStatuses[i]\n      }\n    }\n  }\n\n  // данные о пользователе\n  useEffect(() => {\n    setIsFetching(true)\n    const fetchUser = async () => {\n      const res = await axios.get('/api/user/'+user._id)\n      setUser(res.data)\n      setIsFetching(false)\n    }\n    fetchUser()\n  }, [username])\n\n  // все возможные департаменты\n  useEffect(() => {\n    const getDeps = async () => {\n      const res = await axios.get('/api/departments/')\n      setDeps(res.data)\n    }\n\n    getDeps()\n  }, [])\n\n  // данные о работе от последнего к первому\n  useEffect(() => {\n    setIsFetching(true)\n    const fetchUser = async () => {\n      const res = await axios.get('/api/post/profile/'+username)\n      setPosts(res.data.sort((p1, p2) => {\n        return new Date(p2.workStart) - new Date(p1.workStart)\n      }))\n      setIsFetching(false)\n    }\n    fetchUser()\n  }, [username])\n\n  // изменение данных пользователя\n  const handleClick = async (e) => {\n    e.preventDefault()\n\n    const newInfo= {\n      userId: user._id,\n      username: modalName.current.value || user.username,\n      email: modalEmail.current.value || user.email,\n      departmentId: modalDep.current.value || user.departmentId\n    }\n\n    try {\n      await axios.put('/api/user/'+user._id, newInfo)\n      if(user._id === localUser._id){\n        newInfo.password = localUser.password\n\n        localStorage.setItem('user', JSON.stringify({...user, ...newInfo}))\n      }\n      window.location.reload()\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // изменить пароль\n  const handleClickPassword = async (e) => {\n    e.preventDefault()\n    if(modalNewPass.current.value !== modalNewPassAgain.current.value){\n      setError('Новые пароли не совпадают')\n      return\n    }\n    const passwords = {\n      userId: user._id,\n      userPass: localUser.password,\n      oldPassword: modalOldPass.current.value,\n      newPassword: modalNewPass.current.value\n    }\n\n    try {\n      await axios.put('/api/user/'+user._id, passwords)\n      localStorage.clear()\n      window.location.reload()\n    } catch (error) {\n      setError('Старые пароли не совпадают')\n    }\n  }\n\n  // сбросить пароль\n  const handleResetPass = async (e) => {\n    e.preventDefault()\n\n    const resetPassword = {\n      userId: user._id,\n      newPassword: 'qwerty123'\n    }\n\n    try {\n      await axios.put('/api/user/'+user._id, resetPassword)\n      setModalActiveResetPass(false)\n    } catch (error) {\n      console.log('Ошибка');\n    }\n  }\n\n  // удалить пользователя\n  const handleDelete = async (e) => {\n    e.preventDefault()\n    setIsFetching(true)\n\n    const newPost = {\n      userId: username,\n      healthEnd: 1,\n      workEnd: new Date(Date.now()),\n      workTime: new Date(Date.now()) - new Date(posts[0].workStart)\n    }\n\n    try {\n      await axios.put('/api/user/'+user._id, {status:4, userId: user._id})\n      if(user.status === 1){\n        await axios.put(\"/api/post/\"+posts[0]._id, newPost)\n      }\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\nconsole.log(username)\n  return (\n    <div className='profileInfo'>\n      {isFetching\n      ? <div className='isFatching'>Загрузка...</div>\n      : <div className={'employeePI ' + (findStatus(user.status))}>\n          <div className='top'>\n            <span className='name'>\n              {user.username}\n              { localUser.isAdmin\n                ? <Create style={{fontSize:'medium', cursor:'pointer', marginLeft:'10px'}} onClick={() => setModalActive(true)}/> \n                : ''\n              }\n              {localUser.isAdmin \n                ? <Delete style={{cursor:'pointer', fontSize:'medium'}}  onClick={() => setModalActiveDelete(true)}/>\n                : <></>\n              }\n            </span>\n          </div>\n          <div className='email'>{user.email}</div>\n          {localUser._id === username && <div className='changePass' onClick={() => setModalActivePass(true)}>Изменить пароль</div>}\n          {(localUser._id !== username && localUser.isAdmin) && <div className='changePass' onClick={() => setModalActiveResetPass(true)}>Сбросить пароль</div>}\n        </div> \n      }\n      <Modal active={modalActive} setActive={setModalActive}>\n        <h1>Изменение информации:</h1>\n        <hr/>\n        <form className=\"modalLoginBox\" onSubmit={handleClick}>\n          <input \n            placeholder=\"Name\"\n            className=\"ModalInput\"  \n            ref={modalName} \n          />\n          <select ref={modalDep}>\n            <option value=''>Отдел</option>\n            {deps.map((dep, id) => <option key={id} value={dep.id}>{dep.department_name}</option>)}\n          </select>\n          <input \n            placeholder=\"Email\" \n            type='email' \n            className=\"ModalInput\" \n            ref={modalEmail} \n            minLength='6'\n          />\n          <button className=\"ModalButton\" type=\"submit\" disabled={isFetching}>\n            Изменить\n          </button>\n        </form>\n      </Modal>\n      <Modal active={modalActivePass} setActive={setModalActivePass}>\n        <h1>Изменение информации:</h1>\n        <hr/>\n        {error && <div className='modalError'>{error}</div>}\n        <form className=\"modalLoginBox\" onSubmit={handleClickPassword}>\n          <input \n            placeholder=\"Old Password\"\n            type='password' \n            className=\"ModalInput\"  \n            ref={modalOldPass} \n          />\n          <input \n            placeholder=\"New Password\" \n            type='password' \n            className=\"ModalInput\" \n            ref={modalNewPass} \n            minLength='6'\n          />\n          <input \n            placeholder=\"New Password Again\" \n            type='password' \n            className=\"ModalInput\" \n            ref={modalNewPassAgain} \n            minLength='6'\n          />\n          <button className=\"ModalButton\" type=\"submit\" disabled={isFetching}>\n            Изменить\n          </button>\n        </form>\n      </Modal>\n      <Modal active={modalActiveResetPass} setActive={setModalActiveResetPass}>\n        <h1>Изменение информации:</h1>\n        <hr/>\n        <form className=\"modalLoginBox\" onSubmit={handleResetPass}>\n          <h2>Новый пароль будет: qwerty123</h2>\n          <button className=\"ModalButton\" type=\"submit\" disabled={isFetching}>\n            Сбросить\n          </button>\n        </form>\n      </Modal>\n      <Modal active={modalActiveDelete} setActive={setModalActiveDelete}>\n        <h1>Изменение информации:</h1>\n        <hr/>\n        <form className=\"modalLoginBox\" onSubmit={handleDelete}>\n          <h2>Пользователь будет удален</h2>\n          <button className=\"ModalButton\" type=\"submit\" disabled={isFetching}>\n            Удалить\n          </button>\n        </form>\n      </Modal>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
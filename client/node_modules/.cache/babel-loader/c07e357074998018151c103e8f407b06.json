{"ast":null,"code":"var _jsxFileName = \"D:\\\\time_app\\\\client\\\\src\\\\App.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Error from \"./pages/Error/Error\";\nimport Login from \"./pages/Login/Login\";\nimport Profile from \"./pages/Profile/Profile\";\nimport Register from \"./pages/Register/Register\";\nimport Department from './pages/Department/Department';\nimport Information from \"./pages/Information/Information\";\nimport Reports from \"./pages/Reports/Reports\";\nimport ReportsNominations from \"./pages/ReportsNominations/ReportsNominations\";\nimport ReportsHistory from \"./pages/ReportsHistory/ReportsHistory\";\nimport Message from \"./components/MessagePost/MessagePost\";\nimport VacanciesView from \"./components/VacanciesView/VacanciesView\";\nimport VacanciesAdd from \"./components/VacanciesAdd/VacanciesAdd\";\nimport AdminPanel from './components/AdminPanel/AdminPanel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [showImage, setShowImage] = useState(true);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  useEffect(() => {\n    // Показываем gif в течение 3 секунд, кроме маршрута /profile/:username\n    if (window.location.pathname !== \"/profile/:username\") {\n      const gifTimer = setTimeout(() => {\n        setShowImage(false);\n      }, 3000); // Показываем маршруты после окончания показа gif\n\n      const routesTimer = setTimeout(() => {\n        setImageLoaded(true);\n      }, 3000); // Убираем gif после прошествия 3 секунд\n\n      return () => {\n        clearTimeout(gifTimer);\n        clearTimeout(routesTimer);\n      };\n    } else {\n      // Если маршрут /profile/:username, не показываем gif и сразу показываем маршрут\n      setShowImage(false);\n      setImageLoaded(true);\n    }\n  }, []);\n\n  function ProfileRoute({\n    authUser\n  }) {\n    _s();\n\n    let username = useParams();\n\n    if (authUser.isAdmin === false && authUser._id !== username.username) {\n      return /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n\n  _s(ProfileRoute, \"DB8WiGxirBsNqLfhJQXA9e7LYbY=\", false, function () {\n    return [useParams];\n  });\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const userStorage = JSON.parse(localStorage.getItem(\"user\"));\n  const authUser = user || userStorage;\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [showImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/enot.gif\",\n        alt: \"Loading GIF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), !showImage && imageLoaded && /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: `/department/${authUser.main_department}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: `/department/${authUser.main_department}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile/:username\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(ProfileRoute, {\n          authUser: authUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 72\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/department/:username\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Information\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Information, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Reports/\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Reports, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ReportsNominations/\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(ReportsNominations, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 58\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ReportsHistory/\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(ReportsHistory, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 54\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/all_users\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/not_working_today\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/not_worked_yesterday\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sick_today\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sick_yesterday\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/vacation_today\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/vacation_yesterday\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Department, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Message\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(Message, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/VacanciesView\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(VacanciesView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/VacanciesAdd\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(VacanciesAdd, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/AdminPanel\",\n        children: authUser ? /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/*\",\n        children: /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n}\n\n_s2(App, \"ngE08zMiFrsrc2Ig1IQj83PNP6c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/time_app/client/src/App.js"],"names":["React","useState","useEffect","useContext","BrowserRouter","Router","Switch","Route","Redirect","useParams","AuthContext","Error","Login","Profile","Register","Department","Information","Reports","ReportsNominations","ReportsHistory","Message","VacanciesView","VacanciesAdd","AdminPanel","App","showImage","setShowImage","imageLoaded","setImageLoaded","window","location","pathname","gifTimer","setTimeout","routesTimer","clearTimeout","ProfileRoute","authUser","username","isAdmin","_id","user","userStorage","JSON","parse","localStorage","getItem","main_department"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Error from \"./pages/Error/Error\";\nimport Login from \"./pages/Login/Login\";\nimport Profile from \"./pages/Profile/Profile\";\nimport Register from \"./pages/Register/Register\";\nimport Department from './pages/Department/Department';\nimport Information from \"./pages/Information/Information\";\nimport Reports from \"./pages/Reports/Reports\";\nimport ReportsNominations from \"./pages/ReportsNominations/ReportsNominations\";\nimport ReportsHistory from \"./pages/ReportsHistory/ReportsHistory\";\nimport Message from \"./components/MessagePost/MessagePost\";\nimport VacanciesView from \"./components/VacanciesView/VacanciesView\";\nimport VacanciesAdd from \"./components/VacanciesAdd/VacanciesAdd\";\nimport AdminPanel from './components/AdminPanel/AdminPanel';\n\nfunction App() {\n  const [showImage, setShowImage] = useState(true);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  useEffect(() => {\n    // Показываем gif в течение 3 секунд, кроме маршрута /profile/:username\n    if (window.location.pathname !== \"/profile/:username\") {\n      const gifTimer = setTimeout(() => {\n        setShowImage(false);\n      }, 3000);\n\n      // Показываем маршруты после окончания показа gif\n      const routesTimer = setTimeout(() => {\n        setImageLoaded(true);\n      }, 3000);\n\n      // Убираем gif после прошествия 3 секунд\n      return () => {\n        clearTimeout(gifTimer);\n        clearTimeout(routesTimer);\n      };\n    } else {\n      // Если маршрут /profile/:username, не показываем gif и сразу показываем маршрут\n      setShowImage(false);\n      setImageLoaded(true);\n    }\n  }, []);\n\n  function ProfileRoute({ authUser }) {\n    let  username = useParams();\n    if (authUser.isAdmin === false && authUser._id !== username.username) {\n      return <Error />;\n    }\n    return <Profile />;\n  }\n\n  const { user } = useContext(AuthContext);\n  const userStorage = JSON.parse(localStorage.getItem(\"user\"));\n  const authUser = user || userStorage;\n\n  return (\n      <Router>\n        {showImage && (\n            <div>\n              <img src=\"../images/enot.gif\" alt=\"Loading GIF\" />\n            </div>\n        )}\n        {!showImage && (\n            imageLoaded && (\n                <Switch>\n                  <Route exact path=\"/\">\n                    {authUser ? (\n                        <Redirect to={`/department/${authUser.main_department}`} />\n                    ) : (\n                        <Redirect to=\"/login\" />\n                    )}\n                  </Route>\n                  <Route path=\"/login\">\n                    {authUser ? (\n                        <Redirect to={`/department/${authUser.main_department}`} />\n                    ) : (\n                        <Login />\n                    )}\n                  </Route>\n                  <Route path=\"/register\">\n                    {authUser ? <Redirect to=\"/\" /> : <Register />}\n                  </Route>\n                  <Route path=\"/profile/:username\">\n                    {authUser ? <ProfileRoute authUser={authUser} /> : <Login />}\n                  </Route>\n                  <Route path=\"/department/:username\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/Information\">\n                    {authUser ? <Information /> : <Login />}\n                  </Route>\n                  <Route path=\"/Reports/\">\n                    {authUser ? <Reports /> : <Login />}\n                  </Route>\n                  <Route path=\"/ReportsNominations/\">\n                    {authUser ? <ReportsNominations /> : <Login />}\n                  </Route>\n                  <Route path=\"/ReportsHistory/\">\n                    {authUser ? <ReportsHistory /> : <Login />}\n                  </Route>\n                  <Route path=\"/all_users\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/not_working_today\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/not_worked_yesterday\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/sick_today\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/sick_yesterday\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/vacation_today\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/vacation_yesterday\">\n                    {authUser ? <Department /> : <Login />}\n                  </Route>\n                  <Route path=\"/Message\">\n                    {authUser ? <Message /> : <Login />}\n                  </Route>\n                  <Route path=\"/VacanciesView\">\n                    {authUser ? <VacanciesView /> : <Login />}\n                  </Route>\n                  <Route path=\"/VacanciesAdd\">\n                    {authUser ? <VacanciesAdd /> : <Login />}\n                  </Route>\n                  <Route path=\"/AdminPanel\">\n                    {authUser ? <AdminPanel /> : <Login />}\n                  </Route>\n                  <Route path=\"/*\">\n                    <Error />\n                  </Route>\n                </Switch>\n            )\n        )}\n      </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
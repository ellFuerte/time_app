{"ast":null,"code":"var _jsxFileName = \"D:\\\\time_app\\\\client\\\\src\\\\components\\\\VacanciesItem\\\\VacanciesItem.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./VcanciesItem.css\";\nimport moment from \"moment\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport ModalVacanciesItem from \"../VacanciesItem/ModalVacanciesItem/ModalVacanciesItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VacanciesItem = ({\n  department,\n  vacancies,\n  status\n}) => {\n  _s();\n\n  const localUser = JSON.parse(localStorage.getItem('user'));\n  const [selectDep, setSelectDep] = useState(\"\");\n  const [company, setCompany] = useState([]);\n  const [selectCompany, setSelectCompany] = useState([]);\n  const [selectItc, setSelectItc] = useState([]);\n  const [projectItem, setProjectItem] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [plannedReleaseDate, setPlannedReleaseDate] = useState([]);\n  const [vacanciesId, setVacanciesId] = useState(\"\");\n  const [modalVacations, setModalVacations] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [old_user, setOld_user] = useState(\"\");\n  const [inputValueDescription, setInputValueDescription] = useState(\"\");\n  const [inputValueStatuses, setInputValueStatuses] = useState(\"\");\n  const [inputValueGrade, setInputValueGrade] = useState(\"\");\n  const [user_name, setUser_name] = useState('');\n  const date = moment().format('YYYY-MM-DD');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [userId, setUserId] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [selectedVacanciesName, setSelectedVacanciesName] = useState('');\n  const [selectedVacanciesStatuses, setSelectedVacanciesStatuses] = useState('');\n  const [selectedVacanciesDescription, setSelectedVacanciesDescription] = useState('');\n  const [selectedVacanciesGrade, setSelectedVacanciesGrade] = useState('');\n  const statusRef = useRef();\n  const departRef = useRef();\n  const companyRef = useRef();\n  const ITCRef = useRef();\n  const projectRef = useRef();\n  const DateReleaseRef = useRef();\n  const searchRef = useRef();\n  const [startDate, setStartDate] = useState(''); // начальная дата фильтра\n\n  const [endDate, setEndDate] = useState(''); // конечная дата фильтра\n\n  const [deps, setDeps] = useState([]);\n  useEffect(() => {\n    const Department = async () => {\n      const departs = await axios.get('/api/departments/');\n      setDeps(departs.data);\n      const company = await axios.get('/api/Vacations/?company=company');\n      setCompany(company.data);\n      const user = await axios.get('/api/user');\n      setUsers(user.data);\n    };\n\n    Department();\n  }, []);\n\n  const handleNameInputChange = e => {\n    setInputValue(e.target.value);\n  }; // Обработчик изменения значения для поля ввода с grade\n\n\n  const handleDescriptionInputChange = e => {\n    setInputValueDescription(e.target.value);\n  };\n\n  const handleGradeInputChange = e => {\n    // Проверяем, является ли введенное значение числом (включая пустое значение)\n    if (/^\\d*$/.test(e.target.value)) {\n      setInputValueGrade(e.target.value);\n    }\n  };\n\n  const selectValue = () => {\n    setInputValueStatuses(statusRef.current.value);\n  };\n\n  const selectDeps = () => {\n    setSelectDep(departRef.current.value);\n  };\n\n  const companySelect = () => {\n    setSelectCompany(companyRef.current.value);\n  };\n\n  const SelectITC = () => {\n    setSelectItc(ITCRef.current.value);\n  };\n\n  const Project = e => {\n    if (/^\\d*$/.test(e.target.value)) {\n      setProjectItem(e.target.value);\n    }\n  };\n\n  const DataCurrent = () => {\n    setPlannedReleaseDate(DateReleaseRef.current.value);\n  };\n\n  const handleClick = (name, grade, id, description, status_id, user_name, user_id, department_id, company_id, vacancy_code, project_id, planned_release_date) => {\n    if (localUser.isAdmin === true) {\n      if (user_name === null) {\n        setUser_name([]);\n      } else {\n        setUser_name(user_name);\n      }\n\n      setFilteredUsers([]);\n      setMessage([]);\n      setModalVacations(true);\n      setVacanciesId(id);\n      setSelectedVacanciesName(name);\n      setInputValue(name); // Установка начального значения для name\n\n      setSelectedVacanciesDescription(description);\n      setInputValueDescription(description);\n      setSelectedVacanciesGrade(grade);\n      setInputValueGrade(grade); // Установка начального значения для grade\n\n      setSelectedVacanciesStatuses(status_id);\n      setInputValueStatuses(status_id);\n      setOld_user(user_id);\n      setSelectDep(department_id);\n      setSelectCompany(company_id);\n      setSelectItc(vacancy_code);\n      setProjectItem(project_id);\n      setPlannedReleaseDate(planned_release_date);\n    }\n  };\n\n  const handleUserClick = (userName, userId) => {\n    setUserId(userId);\n    setSearchTerm(userName);\n    setFilteredUsers([]);\n  };\n\n  const getColorByStatusId = statusId => {\n    switch (statusId) {\n      case 20:\n        return 'Reserve';\n      //  Резерв Установите Белый цвет для статуса 1\n\n      case 30:\n        return 'Selection';\n      // Подбор Установите желтый цвет для статуса 2\n\n      case 50:\n        return 'Securely';\n      // Обеспеченно Установите зелёный цвет для статуса 3\n\n      case 10:\n        return 'Liquidated';\n      // Ликвидированно Установите белый прозрачный цвет для статуса 4\n\n      case 40:\n        return 'Finalist';\n      //  Финалист Установите красный цвет для статуса 5\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"departmentName\",\n      children: department\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vacancies-container\",\n      children: [vacancies.map(vac => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"angry-grid1\" + getColorByStatusId(vac.status_id),\n        onClick: () => handleClick(vac.name, vac.grade, vac.id, vac.description, vac.status_id, vac.user_name, vac.user_id, vac.department_id, vac.company_id, vac.vacancy_code, vac.project_id, vac.planned_release_date),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"cssportal-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div2\",\n            children: vac.user_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div3\",\n            children: date === vac.create_date ? 'NEW' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div5\",\n            children: vac.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div8\",\n            children: vac.vacancy_code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div10\",\n            children: [\"\\u0413\\u0440\\u0435\\u0439\\u0434: \", vac.grade]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div11\",\n            children: vac.status_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div12\",\n            children: [\"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442: \", vac.project_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"div13\",\n            children: vac.company_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 25\n        }, this)\n      }, vac.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(ModalVacanciesItem, {\n        modalVacations: modalVacations,\n        setModalVacations: setModalVacations,\n        vacanciesId: vacanciesId,\n        setVacanciesId: setVacanciesId,\n        deps: deps,\n        status: status,\n        company: company,\n        users: users,\n        ChangeData: ChangeData,\n        localUser: localUser,\n        selectedVacanciesName: selectedVacanciesName,\n        setSelectedVacanciesName: setSelectedVacanciesName,\n        selectedVacanciesDescription: selectedVacanciesDescription,\n        setSelectedVacanciesDescription: setSelectedVacanciesDescription,\n        selectedVacanciesGrade: selectedVacanciesGrade,\n        setSelectedVacanciesGrade: setSelectedVacanciesGrade,\n        selectedVacanciesStatuses: selectedVacanciesStatuses,\n        setSelectedVacanciesStatuses: setSelectedVacanciesStatuses,\n        selectedDep: selectDep,\n        setSelectDep: setSelectDep,\n        selectCompany: selectCompany,\n        setSelectCompany: setSelectCompany,\n        selectItc: selectItc,\n        setSelectItc: setSelectItc,\n        projectItem: projectItem,\n        setProjectItem: setProjectItem,\n        plannedReleaseDate: plannedReleaseDate,\n        setPlannedReleaseDate: setPlannedReleaseDate,\n        old_user: old_user,\n        setOld_user: setOld_user,\n        userId: userId,\n        setUserId: setUserId,\n        user_name: user_name,\n        setUser_name: setUser_name,\n        searchTerm: searchTerm,\n        setSearchTerm: setSearchTerm,\n        filteredUsers: filteredUsers,\n        setFilteredUsers: setFilteredUsers,\n        message: message,\n        setMessage: setMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VacanciesItem, \"swyx7RWK/nPTcmyhSHhbkUb6YCs=\");\n\n_c = VacanciesItem;\nexport default VacanciesItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"VacanciesItem\");","map":{"version":3,"sources":["D:/time_app/client/src/components/VacanciesItem/VacanciesItem.jsx"],"names":["moment","React","useEffect","useRef","useState","Link","axios","ModalVacanciesItem","VacanciesItem","department","vacancies","status","localUser","JSON","parse","localStorage","getItem","selectDep","setSelectDep","company","setCompany","selectCompany","setSelectCompany","selectItc","setSelectItc","projectItem","setProjectItem","message","setMessage","plannedReleaseDate","setPlannedReleaseDate","vacanciesId","setVacanciesId","modalVacations","setModalVacations","inputValue","setInputValue","old_user","setOld_user","inputValueDescription","setInputValueDescription","inputValueStatuses","setInputValueStatuses","inputValueGrade","setInputValueGrade","user_name","setUser_name","date","format","searchTerm","setSearchTerm","userId","setUserId","filteredUsers","setFilteredUsers","users","setUsers","selectedVacanciesName","setSelectedVacanciesName","selectedVacanciesStatuses","setSelectedVacanciesStatuses","selectedVacanciesDescription","setSelectedVacanciesDescription","selectedVacanciesGrade","setSelectedVacanciesGrade","statusRef","departRef","companyRef","ITCRef","projectRef","DateReleaseRef","searchRef","startDate","setStartDate","endDate","setEndDate","deps","setDeps","Department","departs","get","data","user","handleNameInputChange","e","target","value","handleDescriptionInputChange","handleGradeInputChange","test","selectValue","current","selectDeps","companySelect","SelectITC","Project","DataCurrent","handleClick","name","grade","id","description","status_id","user_id","department_id","company_id","vacancy_code","project_id","planned_release_date","isAdmin","handleUserClick","userName","getColorByStatusId","statusId","map","vac","create_date","status_name","company_name","ChangeData"],"mappings":"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","sourcesContent":["import \"./VcanciesItem.css\"\r\nimport moment from \"moment\";\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport ModalVacanciesItem from \"../VacanciesItem/ModalVacanciesItem/ModalVacanciesItem\";\r\n\r\n\r\nconst VacanciesItem =({department,vacancies,status})=> {\r\n    const localUser = JSON.parse(localStorage.getItem('user'))\r\n\r\n    const [selectDep, setSelectDep] = useState(\"\")\r\n\r\n    const [company, setCompany] = useState([])\r\n    const [selectCompany, setSelectCompany] = useState([])\r\n\r\n\r\n    const [selectItc, setSelectItc] = useState([])\r\n\r\n    const [projectItem, setProjectItem] = useState([])\r\n\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n\r\n\r\n    const [plannedReleaseDate, setPlannedReleaseDate] = useState([])\r\n\r\n    const [vacanciesId, setVacanciesId] = useState(\"\")\r\n\r\n    const [modalVacations, setModalVacations] = useState(false)\r\n\r\n    const [inputValue, setInputValue] = useState(\"\")\r\n\r\n    const [old_user, setOld_user] = useState(\"\")\r\n\r\n    const [inputValueDescription, setInputValueDescription] = useState(\"\")\r\n\r\n    const [inputValueStatuses, setInputValueStatuses] = useState(\"\")\r\n\r\n    const [inputValueGrade, setInputValueGrade] = useState(\"\")\r\n\r\n    const [user_name, setUser_name] = useState('')\r\n\r\n    const date = moment().format('YYYY-MM-DD');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [userId, setUserId] = useState([])\r\n    const [filteredUsers, setFilteredUsers] = useState([]);\r\n    const [users, setUsers] = useState([])\r\n\r\n    const [selectedVacanciesName, setSelectedVacanciesName] = useState('');\r\n    const [selectedVacanciesStatuses, setSelectedVacanciesStatuses] = useState('');\r\n    const [selectedVacanciesDescription, setSelectedVacanciesDescription] = useState('');\r\n    const [selectedVacanciesGrade, setSelectedVacanciesGrade] = useState('');\r\n\r\n    const statusRef = useRef()\r\n    const departRef = useRef()\r\n    const companyRef = useRef()\r\n    const ITCRef = useRef()\r\n    const projectRef = useRef()\r\n    const DateReleaseRef = useRef()\r\n\r\n    const searchRef = useRef()\r\n\r\n    const [startDate, setStartDate] = useState(''); // начальная дата фильтра\r\n    const [endDate, setEndDate] = useState(''); // конечная дата фильтра\r\n\r\n    const [deps, setDeps] = useState([])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const Department = async () => {\r\n\r\n            const departs = await axios.get('/api/departments/')\r\n            setDeps(departs.data)\r\n            const company = await axios.get('/api/Vacations/?company=company')\r\n            setCompany(company.data)\r\n            const user = await axios.get('/api/user')\r\n            setUsers(user.data)\r\n\r\n        }\r\n\r\n        Department()\r\n    }, [])\r\n\r\n\r\n\r\n    const handleNameInputChange = (e) => {\r\n        setInputValue(e.target.value);\r\n    }\r\n\r\n    // Обработчик изменения значения для поля ввода с grade\r\n    const handleDescriptionInputChange = (e) => {\r\n        setInputValueDescription(e.target.value);\r\n    }\r\n\r\n    const handleGradeInputChange = (e) => {\r\n        // Проверяем, является ли введенное значение числом (включая пустое значение)\r\n        if (/^\\d*$/.test(e.target.value)) {\r\n            setInputValueGrade(e.target.value);\r\n        }\r\n    };\r\n\r\n    const selectValue = () => {\r\n        setInputValueStatuses(statusRef.current.value)\r\n    }\r\n\r\n    const selectDeps = () => {\r\n        setSelectDep(departRef.current.value)\r\n    }\r\n\r\n    const companySelect = () => {\r\n        setSelectCompany(companyRef.current.value)\r\n    }\r\n\r\n    const SelectITC = () => {\r\n        setSelectItc(ITCRef.current.value)\r\n    }\r\n\r\n    const Project = (e) => {\r\n        if (/^\\d*$/.test(e.target.value)) {\r\n            setProjectItem(e.target.value);\r\n        }\r\n    }\r\n\r\n    const DataCurrent = () => {\r\n        setPlannedReleaseDate(DateReleaseRef.current.value)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleClick = (name, grade,id,description,status_id,user_name,user_id,department_id,company_id,vacancy_code,project_id,planned_release_date) => {\r\n        if(localUser.isAdmin===true) {\r\n\r\n            if(user_name===null){\r\n                setUser_name([])\r\n            }else {\r\n                setUser_name(user_name)\r\n            }\r\n\r\n            setFilteredUsers([])\r\n            setMessage([])\r\n            setModalVacations(true);\r\n            setVacanciesId(id)\r\n            setSelectedVacanciesName(name);\r\n            setInputValue(name); // Установка начального значения для name\r\n\r\n\r\n            setSelectedVacanciesDescription(description)\r\n            setInputValueDescription(description)\r\n\r\n            setSelectedVacanciesGrade(grade);\r\n            setInputValueGrade(grade); // Установка начального значения для grade\r\n\r\n            setSelectedVacanciesStatuses(status_id)\r\n            setInputValueStatuses(status_id)\r\n\r\n            setOld_user(user_id)\r\n\r\n            setSelectDep(department_id)\r\n\r\n            setSelectCompany(company_id)\r\n\r\n            setSelectItc(vacancy_code)\r\n\r\n            setProjectItem(project_id)\r\n\r\n            setPlannedReleaseDate(planned_release_date)\r\n        }\r\n    };\r\n\r\n    const handleUserClick = (userName,userId) => {\r\n\r\n        setUserId(userId)\r\n        setSearchTerm(userName)\r\n        setFilteredUsers([])\r\n\r\n    }\r\n\r\n\r\n    const getColorByStatusId = (statusId) => {\r\n        switch (statusId) {\r\n            case 20:\r\n                return 'Reserve'; //  Резерв Установите Белый цвет для статуса 1\r\n            case 30:\r\n                return 'Selection'; // Подбор Установите желтый цвет для статуса 2\r\n            case 50:\r\n                return 'Securely'; // Обеспеченно Установите зелёный цвет для статуса 3\r\n            case 10:\r\n                return 'Liquidated'; // Ликвидированно Установите белый прозрачный цвет для статуса 4\r\n            case 40:\r\n                return 'Finalist'; //  Финалист Установите красный цвет для статуса 5\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <h2 className='departmentName'>{department}</h2>\r\n            <div className=\"vacancies-container\">\r\n                {vacancies.map(vac => (\r\n                    <div key={vac.id} className={\"angry-grid1\"+getColorByStatusId(vac.status_id)}\r\n                         onClick={() => handleClick(vac.name, vac.grade,vac.id,vac.description,vac.status_id,\r\n                             vac.user_name,vac.user_id,vac.department_id,vac.company_id,vac.vacancy_code,vac.project_id,vac.planned_release_date)}>\r\n\r\n                        <div id=\"cssportal-grid\">\r\n                            <div id=\"div1\"></div>\r\n                            <div id=\"div2\">{vac.user_name}</div>\r\n                            <div id=\"div3\">{date === vac.create_date ? 'NEW' : ''}</div>\r\n                            <div id=\"div4\"></div>\r\n                            <div id=\"div5\">{vac.name}</div>\r\n                            <div id=\"div6\"></div>\r\n                            <div id=\"div7\"></div>\r\n                            <div id=\"div8\">{vac.vacancy_code}</div>\r\n                            <div id=\"div9\"></div>\r\n                            <div id=\"div10\">Грейд: {vac.grade}</div>\r\n                            <div id=\"div11\">{vac.status_name}</div>\r\n                            <div id=\"div12\">Проект: {vac.project_id}</div>\r\n                            <div id=\"div13\">{vac.company_name}</div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                <ModalVacanciesItem\r\n                    modalVacations={modalVacations}\r\n                    setModalVacations={setModalVacations}\r\n                    vacanciesId={vacanciesId}\r\n                    setVacanciesId={setVacanciesId}\r\n                    deps={deps}\r\n                    status={status}\r\n                    company={company}\r\n                    users={users}\r\n                    ChangeData={ChangeData}\r\n                    localUser={localUser}\r\n                    selectedVacanciesName={selectedVacanciesName}\r\n                    setSelectedVacanciesName={setSelectedVacanciesName}\r\n                    selectedVacanciesDescription={selectedVacanciesDescription}\r\n                    setSelectedVacanciesDescription={setSelectedVacanciesDescription}\r\n                    selectedVacanciesGrade={selectedVacanciesGrade}\r\n                    setSelectedVacanciesGrade={setSelectedVacanciesGrade}\r\n                    selectedVacanciesStatuses={selectedVacanciesStatuses}\r\n                    setSelectedVacanciesStatuses={setSelectedVacanciesStatuses}\r\n                    selectedDep={selectDep}\r\n                    setSelectDep={setSelectDep}\r\n                    selectCompany={selectCompany}\r\n                    setSelectCompany={setSelectCompany}\r\n                    selectItc={selectItc}\r\n                    setSelectItc={setSelectItc}\r\n                    projectItem={projectItem}\r\n                    setProjectItem={setProjectItem}\r\n                    plannedReleaseDate={plannedReleaseDate}\r\n                    setPlannedReleaseDate={setPlannedReleaseDate}\r\n                    old_user={old_user}\r\n                    setOld_user={setOld_user}\r\n                    userId={userId}\r\n                    setUserId={setUserId}\r\n                    user_name={user_name}\r\n                    setUser_name={setUser_name}\r\n                    searchTerm={searchTerm}\r\n                    setSearchTerm={setSearchTerm}\r\n                    filteredUsers={filteredUsers}\r\n                    setFilteredUsers={setFilteredUsers}\r\n                    message={message}\r\n                    setMessage={setMessage}\r\n                />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default VacanciesItem"]},"metadata":{},"sourceType":"module"}
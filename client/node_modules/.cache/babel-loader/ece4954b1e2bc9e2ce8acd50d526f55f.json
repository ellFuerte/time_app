{"ast":null,"code":"var _jsxFileName = \"D:\\\\time_app\\\\client\\\\src\\\\components\\\\ProfileInfo\\\\\\u0421hangePassword\\\\\\u0421hangePassword.jsx\";\nimport React from 'react';\nimport Modal from \"../../Templates/Modal/Modal\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChangePassword({\n  modalActivePass,\n  setModalActivePass\n}) {\n  const handleChangePassword = async e => {\n    e.preventDefault();\n\n    if (modalNewPass.current.value !== modalNewPassAgain.current.value) {\n      setErr('Новые пароли не совпадают');\n      return;\n    }\n\n    const passwords = {\n      userId: localUse._id,\n      password: localUse.password,\n      oldPassword: modalOldPass.current.value,\n      newPassword: modalNewPass.current.value\n    };\n\n    try {\n      await axios.put('/api/newPassword/', passwords);\n      setModalActivePass(false);\n      /*      localStorage.clear()\r\n            window.location.reload()\r\n            window.location.href = '/'*/\n    } catch (er) {\n      setErr('Старые пароли не совпадают');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    active: modalActivePass,\n    setActive: setModalActivePass,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), er && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modalError\",\n      children: er\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"modalLoginBox\",\n      onSubmit: handleChangePassword,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u0421\\u0442\\u0430\\u0440\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        type: \"password\",\n        className: \"inputChangePassword\",\n        ref: modalOldPass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        type: \"password\",\n        className: \"inputChangePassword\",\n        ref: modalNewPass,\n        minLength: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437\",\n        type: \"password\",\n        className: \"inputChangePassword\",\n        ref: modalNewPassAgain,\n        minLength: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ModalButtonChangePassword\",\n        type: \"submit\",\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n\n_c = ChangePassword;\nexport default ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"sources":["D:/time_app/client/src/components/ProfileInfo/СhangePassword/СhangePassword.jsx"],"names":["React","Modal","axios","ChangePassword","modalActivePass","setModalActivePass","handleChangePassword","e","preventDefault","modalNewPass","current","value","modalNewPassAgain","setErr","passwords","userId","localUse","_id","password","oldPassword","modalOldPass","newPassword","put","er"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,SAASC,cAAT,CAAwB;AAACC,EAAAA,eAAD;AAAiBC,EAAAA;AAAjB,CAAxB,EAA8D;AAE1D,QAAMC,oBAAoB,GAAG,MAAOC,CAAP,IAAa;AACtCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAIC,YAAY,CAACC,OAAb,CAAqBC,KAArB,KAA+BC,iBAAiB,CAACF,OAAlB,CAA0BC,KAA7D,EAAoE;AAChEE,MAAAA,MAAM,CAAC,2BAAD,CAAN;AACA;AACH;;AACD,UAAMC,SAAS,GAAG;AACdC,MAAAA,MAAM,EAAEC,QAAQ,CAACC,GADH;AAEdC,MAAAA,QAAQ,EAAEF,QAAQ,CAACE,QAFL;AAGdC,MAAAA,WAAW,EAAEC,YAAY,CAACV,OAAb,CAAqBC,KAHpB;AAIdU,MAAAA,WAAW,EAAEZ,YAAY,CAACC,OAAb,CAAqBC;AAJpB,KAAlB;;AAMA,QAAI;AACA,YAAMT,KAAK,CAACoB,GAAN,CAAU,mBAAV,EAA+BR,SAA/B,CAAN;AACAT,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACA;AACZ;AACA;AACS,KAND,CAME,OAAOkB,EAAP,EAAW;AACTV,MAAAA,MAAM,CAAC,4BAAD,CAAN;AACH;AACJ,GArBD;;AAsBA,sBACI,QAAC,KAAD;AAAO,IAAA,MAAM,EAAET,eAAf;AAAgC,IAAA,SAAS,EAAEC,kBAA3C;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA;AAAA;AAAA;AAAA,YAFJ,EAGKkB,EAAE,iBAAI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,gBAA6BA;AAA7B;AAAA;AAAA;AAAA;AAAA,YAHX,eAII;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAgC,MAAA,QAAQ,EAAEjB,oBAA1C;AAAA,8BACI;AACI,QAAA,WAAW,EAAC,2EADhB;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,SAAS,EAAC,qBAHd;AAII,QAAA,GAAG,EAAEc;AAJT;AAAA;AAAA;AAAA;AAAA,cADJ,eAOI;AACI,QAAA,WAAW,EAAC,qEADhB;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,SAAS,EAAC,qBAHd;AAII,QAAA,GAAG,EAAEX,YAJT;AAKI,QAAA,SAAS,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,cAPJ,eAcI;AACI,QAAA,WAAW,EAAC,2GADhB;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,SAAS,EAAC,qBAHd;AAII,QAAA,GAAG,EAAEG,iBAJT;AAKI,QAAA,SAAS,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,cAdJ,eAqBI;AAAQ,QAAA,SAAS,EAAC,2BAAlB;AAA8C,QAAA,IAAI,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiCH;;KAzDQT,c;AA2DT,eAAeA,cAAf","sourcesContent":["import React from 'react';\r\nimport Modal from \"../../Templates/Modal/Modal\";\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction ChangePassword({modalActivePass,setModalActivePass}) {\r\n\r\n    const handleChangePassword = async (e) => {\r\n        e.preventDefault()\r\n        if (modalNewPass.current.value !== modalNewPassAgain.current.value) {\r\n            setErr('Новые пароли не совпадают')\r\n            return\r\n        }\r\n        const passwords = {\r\n            userId: localUse._id,\r\n            password: localUse.password,\r\n            oldPassword: modalOldPass.current.value,\r\n            newPassword: modalNewPass.current.value\r\n        }\r\n        try {\r\n            await axios.put('/api/newPassword/', passwords)\r\n            setModalActivePass(false)\r\n            /*      localStorage.clear()\r\n                  window.location.reload()\r\n                  window.location.href = '/'*/\r\n        } catch (er) {\r\n            setErr('Старые пароли не совпадают')\r\n        }\r\n    }\r\n    return (\r\n        <Modal active={modalActivePass} setActive={setModalActivePass}>\r\n            <h1>Изменение информации:</h1>\r\n            <hr/>\r\n            {er && <div className='modalError'>{er}</div>}\r\n            <form className=\"modalLoginBox\" onSubmit={handleChangePassword}>\r\n                <input\r\n                    placeholder=\"Старый пароль\"\r\n                    type='password'\r\n                    className=\"inputChangePassword\"\r\n                    ref={modalOldPass}\r\n                />\r\n                <input\r\n                    placeholder=\"Новый пароль\"\r\n                    type='password'\r\n                    className=\"inputChangePassword\"\r\n                    ref={modalNewPass}\r\n                    minLength='6'\r\n                />\r\n                <input\r\n                    placeholder=\"Новый пароль ещё раз\"\r\n                    type='password'\r\n                    className=\"inputChangePassword\"\r\n                    ref={modalNewPassAgain}\r\n                    minLength='6'\r\n                />\r\n                <button className=\"ModalButtonChangePassword\" type=\"submit\" >\r\n                    Изменить\r\n                </button>\r\n            </form>\r\n        </Modal>\r\n    );\r\n\r\n}\r\n\r\nexport default ChangePassword;"]},"metadata":{},"sourceType":"module"}
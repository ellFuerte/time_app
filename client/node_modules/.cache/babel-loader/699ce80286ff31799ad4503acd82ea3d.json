{"ast":null,"code":"var _jsxFileName = \"D:\\\\time_app\\\\client\\\\src\\\\components\\\\Employee\\\\Employee.jsx\",\n    _s = $RefreshSig$();\n\nimport { Link, useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './Employee.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst statuses = {\n  1: 'Тучка',\n  2: 'Аркадий Паровозов',\n  3: 'И так сойдет',\n  4: 'Портной',\n  5: 'Мама обезьянка',\n  6: 'Кот Матроскин',\n  7: 'Крот',\n  8: 'Птица говорун(голосуем только среди дежурных)',\n  9: 'Хома(Голосуем среди коллег из внедрения)',\n  10: 'Симка и нолик'\n};\nexport default function Employee({\n  user\n}) {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [vacationDates, setVacationDates] = useState({\n    start: '',\n    end: ''\n  });\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(`/api/vacation?id=${id}`);\n\n        if (res.data.length > 0) {\n          const {\n            workdate,\n            worked\n          } = res.data[0];\n          setVacationDates({\n            start: workdate,\n            end: worked\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n\n    const fetchIsAdmin = async () => {\n      try {\n        const res = await axios.get(`/api/user/${id}`);\n        setIsAdmin(res.data.isadmin);\n      } catch (error) {\n        console.error('Error fetching user admin status:', error);\n      }\n    };\n\n    fetchUserData();\n    fetchIsAdmin();\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `employee ${statuses[user.status]}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topemployee\",\n      children: [isAdmin ? /*#__PURE__*/_jsxDEV(Link, {\n        to: `/profile/${user.id}`,\n        className: \"name\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: user.user_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: user.user_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `../${user.nomination_status}.png`,\n        title: statuses[user.nomination_status],\n        alt: `Image for ${user.nomination_status}`,\n        className: \"images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"down\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"downRight\",\n        children: [user.status === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacationText\",\n          children: [\"\\u041E\\u0442\\u043F\\u0443\\u0441\\u043A: \", vacationDates.start, \"-\", vacationDates.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 35\n        }, this), user.status === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacationText\",\n          children: [\"\\u041E\\u0442\\u0433\\u0443\\u043B: \", vacationDates.start, \"-\", vacationDates.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 35\n        }, this), user.status === 7 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacationText\",\n          children: [\"\\u0414\\u0440\\u0443\\u0433\\u0430\\u044F \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430: \", vacationDates.start, \"-\", vacationDates.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 35\n        }, this), user.status === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacationText\",\n          children: [\"\\u0411\\u043E\\u043B\\u044C\\u043D\\u0438\\u0447\\u043D\\u044B\\u0439: \", vacationDates.start, \"-\", vacationDates.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 35\n        }, this), user.status === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vacationText\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Employee, \"TOlxeKM3YMJu5CENtTzG7pWfR4g=\", false, function () {\n  return [useParams];\n});\n\n_c = Employee;\n\nvar _c;\n\n$RefreshReg$(_c, \"Employee\");","map":{"version":3,"sources":["D:/time_app/client/src/components/Employee/Employee.jsx"],"names":["Link","useParams","useEffect","useState","axios","statuses","Employee","user","id","isAdmin","setIsAdmin","vacationDates","setVacationDates","start","end","fetchUserData","res","get","data","length","workdate","worked","error","console","fetchIsAdmin","isadmin","status","user_name","nomination_status"],"mappings":"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","sourcesContent":["import { Link, useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './Employee.css';\r\n\r\nconst statuses = {\r\n  1: 'Тучка',\r\n  2: 'Аркадий Паровозов',\r\n  3: 'И так сойдет',\r\n  4: 'Портной',\r\n  5: 'Мама обезьянка',\r\n  6: 'Кот Матроскин',\r\n  7: 'Крот',\r\n  8: 'Птица говорун(голосуем только среди дежурных)',\r\n  9: 'Хома(Голосуем среди коллег из внедрения)',\r\n  10: 'Симка и нолик'\r\n};\r\n\r\nexport default function Employee({ user }) {\r\n  const { id } = useParams();\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [vacationDates, setVacationDates] = useState({ start: '', end: '' });\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        const res = await axios.get(`/api/vacation?id=${id}`);\r\n        if (res.data.length > 0) {\r\n          const { workdate, worked } = res.data[0];\r\n          setVacationDates({ start: workdate, end: worked });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    };\r\n\r\n    const fetchIsAdmin = async () => {\r\n      try {\r\n        const res = await axios.get(`/api/user/${id}`);\r\n        setIsAdmin(res.data.isadmin);\r\n      } catch (error) {\r\n        console.error('Error fetching user admin status:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n    fetchIsAdmin();\r\n  }, [id]);\r\n\r\n  return (\r\n      <div className={`employee ${statuses[user.status]}`}>\r\n        <div className=\"topemployee\">\r\n          {isAdmin ? (\r\n              <Link to={`/profile/${user.id}`} className=\"name\">\r\n                <span className=\"name\">{user.user_name}</span>\r\n              </Link>\r\n          ) : (\r\n              <div className=\"name\">\r\n                <span className=\"name\">{user.user_name}</span>\r\n              </div>\r\n          )}\r\n          <img\r\n              src={`../${user.nomination_status}.png`}\r\n              title={statuses[user.nomination_status]}\r\n              alt={`Image for ${user.nomination_status}`}\r\n              className=\"images\"\r\n          />\r\n        </div>\r\n        <div className=\"down\">\r\n          <div className=\"downRight\">\r\n            {user.status === 5 && <div className=\"vacationText\">Отпуск: {vacationDates.start}-{vacationDates.end}</div>}\r\n            {user.status === 6 && <div className=\"vacationText\">Отгул: {vacationDates.start}-{vacationDates.end}</div>}\r\n            {user.status === 7 && <div className=\"vacationText\">Другая причина: {vacationDates.start}-{vacationDates.end}</div>}\r\n            {user.status === 3 && <div className=\"vacationText\">Больничный: {vacationDates.start}-{vacationDates.end}</div>}\r\n            {user.status === 2 && <div className=\"vacationText\"></div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/time_app/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/time_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useRef,useState}from'react';import{Link,useParams}from\"react-router-dom\";import{Create,Delete,Settings,Message}from'@material-ui/icons';import Skills from'../ProfileInfo/Skills/Skills';import Modal from'../Templates/Modal/Modal';import ModalVacanciesItem from\"../VacanciesItem/ModalVacanciesItem/ModalVacanciesItem\";import ModalVacancies from\"../Templates/ModalVacancies/ModalVacancies\";import Editing from\"./Editing/Editing\";import'./ProfileInfo.css';import DeleteUser from\"./DeleteUser/DeleteUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileInfo(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),timeZone=_useState2[0],setTimeZone=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTermCities=_useState4[0],setSearchTermCities=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),allDateUser=_useState6[0],setAllDateUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalVacancies=_useState8[0],setModalVacancies=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),inputValues=_useState10[0],setInputValues=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedInputIndex=_useState12[0],setSelectedInputIndex=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),check=_useState14[0],setCheck=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),checkedItems=_useState16[0],setCheckedItems=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),votearray=_useState18[0],setVotearray=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),userVote=_useState20[0],setUserVote=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),depsName=_useState22[0],setDepsName=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),cityName=_useState24[0],setCityName=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),user=_useState26[0],setUser=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isFetching=_useState28[0],setIsFetching=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),modalActive=_useState30[0],setModalActive=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),modalActivePass=_useState32[0],setModalActivePass=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),modalActiveVote=_useState34[0],setModalActiveVote=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),modalVote=_useState36[0],setModalVote=_useState36[1];var _useState37=useState([]),_useState38=_slicedToArray(_useState37,2),vote=_useState38[0],setVote=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),modalActiveResetPass=_useState40[0],setModalActiveResetPass=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),modalActiveReset=_useState42[0],setModalActiveReset=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),modalActiveDelete=_useState44[0],setModalActiveDelete=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),modalActiveSkills=_useState46[0],setModalActiveSkills=_useState46[1];var _useState47=useState(''),_useState48=_slicedToArray(_useState47,2),er=_useState48[0],setErr=_useState48[1];var username=useParams();var localUser=!!username?{_id:username.username,email:\"\"}:JSON.parse(localStorage.getItem('user'));var localUse=JSON.parse(localStorage.getItem('user'));var modalOldPass=useRef();var modalNewPass=useRef();var modalNewPassAgain=useRef();var _useState49=useState([]),_useState50=_slicedToArray(_useState49,2),filteredCities=_useState50[0],setFilteredCities=_useState50[1];var _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),hasImage=_useState52[0],setHasImage=_useState52[1];var usersStatuses={0:'',1:'start',2:'end',3:'sick_leave',4:'deleted',5:'vacation',6:'time_off',7:'other'};function findStatus(k){for(var i in usersStatuses){if(i==k){return usersStatuses[i];}}}useEffect(function(){var hasImageStatus=Object.keys(images).some(function(key){return user.nomination_status===key||user.nomination_status===parseInt(key);});setHasImage(hasImageStatus);var getNameDeps=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var deps,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:deps={user:username.username};_context.next=3;return axios.post('/api/departments/',deps);case 3:res=_context.sent;setTimeZone(res.data[0]['timezone']);setDepsName(res.data[0]['department_name']);setCityName(res.data[0]['city_name']);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getNameDeps(){return _ref.apply(this,arguments);};}();var fetchUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,user,sort,mass;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:localUser._id=!!localUser._id?localUser._id:localUser.id;localUser._id=!!username?username.username:localUser._id;_context2.next=4;return axios.get('/api/user/'+username.username);case 4:res=_context2.sent;setUser(res.data);setIsFetching(false);_context2.next=9;return axios.get('/api/user/');case 9:user=_context2.sent;sort=user.data.sort(function(a,b){return a.user_name.localeCompare(b.user_name);});mass=sort.filter(function(element){return element.id!==username.username&&element.status!==4;});setUserVote(mass);case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUser(){return _ref2.apply(this,arguments);};}();// Номинации\nvar fetchVote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get('/api/vote/');case 2:res=_context3.sent;setVote(res.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchVote(){return _ref3.apply(this,arguments);};}();fetchVote();fetchUser();getNameDeps();},[user.user_name,user.email,user.phone_number,user.additional_contact,user.distribution_group,user.activity_profile,user.place_of_residence,username.username]);// изменить пароль\nvar handleClickPassword=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var passwords;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();if(!(modalNewPass.current.value!==modalNewPassAgain.current.value)){_context4.next=4;break;}setErr('Новые пароли не совпадают');return _context4.abrupt(\"return\");case 4:passwords={userId:localUse._id,password:localUse.password,oldPassword:modalOldPass.current.value,newPassword:modalNewPass.current.value};_context4.prev=5;_context4.next=8;return axios.put('/api/newPassword/',passwords);case 8:setModalActivePass(false);/*      localStorage.clear()\n                  window.location.reload()\n                  window.location.href = '/'*/_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](5);setErr('Старые пароли не совпадают');case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[5,11]]);}));return function handleClickPassword(_x){return _ref4.apply(this,arguments);};}();// сбросить пароль\nvar handleResetPass=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e){var resetPassword;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:e.preventDefault();resetPassword={userId:username.username,newPassword:'qwerty123'};_context5.prev=2;_context5.next=5;return axios.put('/api/resetPassword/',resetPassword);case 5:setModalActiveResetPass(false);_context5.next=10;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](2);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[2,8]]);}));return function handleResetPass(_x2){return _ref5.apply(this,arguments);};}();var status=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var _status;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(user.status===1)){_context6.next=6;break;}_status={status:2,typework_id:1,userId:user.id,healthEnd:'-',commentEnd:'-',workEnd:new Date(Date.now())};_context6.next=4;return axios.put(\"/api/post/\",_status);case 4:_context6.next=7;break;case 6:alert(\"Пользователь не в работе\");case 7:case\"end\":return _context6.stop();}}},_callee6);}));return function status(){return _ref6.apply(this,arguments);};}();// удалить пользователя\nvar handleDelete=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(e){var newPost;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:e.preventDefault();newPost={userId:username.username,healthEnd:1,status:4};_context7.prev=2;_context7.next=5;return axios.put('/api/deluser/',newPost);case 5:setModalActiveDelete(false);window.location.href=\"/profile/\".concat(user.id);_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](2);console.log(_context7.t0);case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[2,9]]);}));return function handleDelete(_x3){return _ref7.apply(this,arguments);};}();localUser=!!user&&!Array.isArray(user)?user:localUser;localUser.username=!!localUser.user_name?localUser.user_name:localUser.username;var name=localUser.email.toLowerCase();var button=function button(){if(votearray.length===0){setErr('Выберите участников номинации');}else{votearray.forEach(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(vote){var arr,voteUser;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:arr=vote.split(\"_\");voteUser={user_id:localUse._id,vote_for_user:arr[1],nominations_id:arr[0]};_context8.next=4;return axios.post('/api/vote/',voteUser);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x4){return _ref8.apply(this,arguments);};}());setModalActiveVote(false);}};var clickVote=function clickVote(e,id,user_name){setFilteredCities([]);console.log('index=',id,user_name);setInputValues(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},selectedInputIndex,user_name));});e.preventDefault();var data=id.toString();var arr=data.split(\"_\");if(arr[0]===''||arr[1]===''){return;}else{var str=arr[1].toString();var str1=arr[0].toString();var existingIndex=votearray.findIndex(function(item){return item.split(\"_\")[0]===str1;});if(existingIndex!==-1){var _newArray=_toConsumableArray(votearray);_newArray[existingIndex]=data;console.log('Массив с обновленным элементом:',_newArray);setVotearray(_newArray);return;}}var votearr=_toConsumableArray(votearray);votearr.push(data);var newArray=votearr.filter(function(element){return element!==\"\";});console.log('newArray=',newArray);setVotearray(newArray);};var secureButton=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var res,addNomination;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log('chek=',checkedItems);_context9.next=3;return axios.get('/api/user/'+username.username);case 3:res=_context9.sent;addNomination={userId:username.username,id_nomination:check};if(!(check===undefined)){_context9.next=9;break;}setErr('Выберите номинацию');_context9.next=13;break;case 9:_context9.next=11;return axios.post('/api/vote/',addNomination);case 11:setModalVote(false);window.location.reload();case 13:case\"end\":return _context9.stop();}}},_callee9);}));return function secureButton(){return _ref9.apply(this,arguments);};}();var clearSecureButton=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var res,addNomination;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return axios.get('/api/user/'+username.username);case 2:res=_context10.sent;addNomination={userId:username.username,id_nomination:null};_context10.next=6;return axios.post('/api/vote/',addNomination);case 6:setModalVote(false);window.location.reload();case 8:case\"end\":return _context10.stop();}}},_callee10);}));return function clearSecureButton(){return _ref10.apply(this,arguments);};}();var inputClick=function inputClick(event,voteId){var _event$target=event.target,id=_event$target.id,checked=_event$target.checked;if(checked){setCheckedItems(checked);}else{setCheckedItems(null);}setCheck(event.target.value);setCheckedItems(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},id,checked));});setUser(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{nomination_status:checked?voteId:null});});};var nextModal=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:setModalVote(true);setModalActiveVote(false);case 2:case\"end\":return _context11.stop();}}},_callee11);}));return function nextModal(){return _ref11.apply(this,arguments);};}();var images={'1':{src:'../images/1.png',title:'Тучка'},'2':{src:'../images/2.png',title:'Аркадий Паровозов'},'3':{src:'../images/3.png',title:'И так сойдет'},'4':{src:'../images/4.png',title:'Портной'},'5':{src:'../images/5.png',title:'Мама обезьянка'},'6':{src:'../images/6.png',title:'Кот Матроскин'},'7':{src:'../images/7.png',title:'Крот'},'8':{src:'../images/8.png',title:'Птица говорун(голосуем только среди дежурных)'},'9':{src:'../images/9.png',title:'Хома(Голосуем среди коллег из внедрения)'},'10':{src:'../images/10.png',title:'Симка и нолик'}};var handleInputChangeUsers=function handleInputChangeUsers(e,id){var index=id+1;var value=e.target.value;setInputValues(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},index,value));});setSelectedInputIndex(index);var termCities=e.target.value;setSearchTermCities(termCities);var filtered=userVote.filter(function(city){return city.user_name&&city.user_name.toLowerCase().includes(termCities.toLowerCase());});if(termCities===''){setFilteredCities([]);}else{setFilteredCities(filtered);}};var getChangeVacancies=function getChangeVacancies(){if(localUse.isAdmin){setModalVacancies(true);setAllDateUser(user);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"profileInfo\",children:[Object.keys(images).map(function(key,id){return(user.nomination_status===key||user.nomination_status===parseInt(key))&&/*#__PURE__*/_jsx(\"img\",{src:images[key].src,title:images[key].title,alt:\"Image for \".concat(key),className:\"imagesProfile\"},id);}),isFetching?/*#__PURE__*/_jsx(\"div\",{className:\"isFatching\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"}):/*#__PURE__*/_jsxs(\"div\",{className:'employeePI '+findStatus(user.status),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileName\",style:{paddingTop:hasImage?'30px':'0px'},children:[user.user_name,localUse.isAdmin||localUse._id===username.username?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Create,{style:{cursor:'pointer',fontSize:'20px',paddingLeft:'5px'},onClick:function onClick(){return setModalActive(true);}}),/*#__PURE__*/_jsx(Editing,{modalActive:modalActive,setModalActive:setModalActive})]}):'',localUse.isAdmin?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Delete,{style:{cursor:'pointer',fontSize:'20px'},onClick:function onClick(){return setModalActiveDelete(true);}}),/*#__PURE__*/_jsx(DeleteUser,{modalActive:modalActiveDelete,setModalActive:setModalActiveDelete,username:username.username,user:user.id})]}):'',localUse.isAdmin===true&&localUse._id===user.id?/*#__PURE__*/_jsx(Link,{to:\"/AdminPanel\",children:/*#__PURE__*/_jsx(Settings,{style:{cursor:'pointer',fontSize:'20px',paddingTop:'5px',color:'black'}})}):'']}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{style:{cursor:'pointer'},onClick:getChangeVacancies,className:\"ProfileLinkVacancies\",children:user.vacancy_code})}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'3px dashed black',padding:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"Email: \",name.charAt(0).toUpperCase()+name.slice(1)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D: \",user.phone_number]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[localUse.isAdmin!==false||localUse._id===username.username?'Доп.Контакт: ':'',localUse.isAdmin!==false||localUse._id===username.username?user.additional_contact:'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0430 \\u0440\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0438: \",user.distribution_group]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438: \",user.activity_profile]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"\\u0413\\u043E\\u0440\\u043E\\u0434 \\u043F\\u0440\\u043E\\u0436\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F: \",cityName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[localUse.isAdmin!==false||localUse._id===username.username?'Адрес фактического проживания: ':'',localUse.isAdmin!==false||localUse._id===username.username?user.place_of_residence:'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProfileInfoCard\",children:[\"\\u041F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435: \",depsName]})]}),localUse.isAdmin||localUse._id===username.username?/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:function onClick(){return setModalActivePass(true);},children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}):'',localUse.isAdmin?/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:function onClick(){return setModalActiveResetPass(true);},children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}):'',localUse.isAdmin?/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:function onClick(){return setModalActiveReset(true);},children:\"\\u0417\\u0430\\u043A\\u043E\\u043D\\u0447\\u0438\\u0442\\u044C\"}):'',localUse._id===user.id?/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:function onClick(){return setModalActiveVote(true);},children:\"\\u041F\\u0440\\u043E\\u0433\\u043E\\u043B\\u043E\\u0441\\u043E\\u0432\\u0430\\u0442\\u044C\"}):'',localUse.isAdmin?/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:nextModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u043D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u044E\"}):'',/*#__PURE__*/_jsx(\"div\",{className:\"changePass\",onClick:function onClick(){return setModalActiveSkills(true);},children:\"\\u041D\\u0430\\u0432\\u044B\\u043A\\u0438\"}),/*#__PURE__*/_jsx(Skills,{modalActiveSkills:modalActiveSkills,setModalActiveSkills:setModalActiveSkills})]}),/*#__PURE__*/_jsxs(Modal,{active:modalActivePass,setActive:setModalActivePass,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"hr\",{}),er&&/*#__PURE__*/_jsx(\"div\",{className:\"modalError\",children:er}),/*#__PURE__*/_jsxs(\"form\",{className:\"modalLoginBox\",onSubmit:handleClickPassword,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0421\\u0442\\u0430\\u0440\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",className:\"inputChangePassword\",ref:modalOldPass}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",className:\"inputChangePassword\",ref:modalNewPass,minLength:\"6\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437\",type:\"password\",className:\"inputChangePassword\",ref:modalNewPassAgain,minLength:\"6\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ModalButtonChangePassword\",type:\"submit\",disabled:isFetching,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(Modal,{active:modalActiveResetPass,setActive:setModalActiveResetPass,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"modalLoginBox\",onSubmit:handleResetPass,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0431\\u0443\\u0434\\u0435\\u0442: qwerty123\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ModalButtonRePasswordUser\",type:\"submit\",disabled:isFetching,children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(Modal,{active:modalActiveReset,setActive:setModalActiveReset,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"modalLoginBox\",onSubmit:status,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u044B \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C \\u043E\\u0442\\u043C\\u0435\\u0442\\u043A\\u0443 \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ModalButtonDelete\",type:\"submit\",disabled:isFetching,children:\"\\u0417\\u0430\\u043A\\u043E\\u043D\\u0447\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(Modal,{active:modalActiveDelete,setActive:setModalActiveDelete,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"modalLoginBox\",onSubmit:handleDelete,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ModalButtonDelete\",type:\"submit\",disabled:isFetching,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(Modal,{active:modalActiveVote,setActive:setModalActiveVote,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u0438:\"}),er&&/*#__PURE__*/_jsx(\"div\",{className:\"modalError\",children:er}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"div\",children:[/*#__PURE__*/_jsx(\"div\",{children:vote.map(function(vote,id){return/*#__PURE__*/_jsxs(\"label\",{htmlFor:vote.id,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"inputVote\",children:vote.nominations_name}),vote.description]},id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"di\",children:vote.map(function(vote,id){return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleInputChangeUsers(e,id);},value:inputValues[id+1]||'',className:\"select\"}),selectedInputIndex===id+1&&filteredCities.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"divSelectRegister\",style:{position:'absolute',top:'100%',left:0,zIndex:1000,marginLeft:'20px'},children:filteredCities.map(function(city,cityId){return/*#__PURE__*/_jsx(\"div\",{className:\"selectNameDiv\",onClick:function onClick(e){return clickVote(e,selectedInputIndex+\"_\"+city.id,city.user_name);},children:city.user_name},cityId);})})]},id+1);})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:isFetching,onClick:button,children:\"\\u041F\\u0440\\u043E\\u0433\\u043E\\u043B\\u043E\\u0441\\u043E\\u0432\\u0430\\u0442\\u044C\"})]}),/*#__PURE__*/_jsxs(Modal,{active:modalVote,setActive:setModalVote,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0417\\u0430\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u043D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u044E:\"}),er&&/*#__PURE__*/_jsx(\"div\",{className:\"modalError\",children:er}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"voteContainer\",children:vote.map(function(vote,id){return/*#__PURE__*/_jsx(\"div\",{className:\"voteItem\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:vote.id,className:\"inputVote\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:vote.id,value:vote.id,onChange:function onChange(e){return inputClick(e,vote.id);},checked:user.nomination_status===vote.id}),vote.nominations_name,' ',/*#__PURE__*/_jsx(\"img\",{src:\"../images/\".concat(vote.id,\".png\"),alt:\"Image for \".concat(vote.nominations_name),className:\"images\"})]},id)},id);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:isFetching,onClick:secureButton,children:\"\\u0417\\u0430\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:isFetching,onClick:clearSecureButton,children:\"\\u0421\\u043D\\u044F\\u0442\\u044C \\u043D\\u043E\\u043C\\u0438\\u043D\\u0430\\u0446\\u0438\\u044E\"})]}),/*#__PURE__*/_jsx(ModalVacancies,{active:modalVacancies,setActive:setModalVacancies,children:/*#__PURE__*/_jsx(ModalVacanciesItem,{allDateUser:allDateUser})}),/*#__PURE__*/_jsx(Skills,{})]});}/*                            <select onChange={clickVote} key={id} value={userVote.id} className='select'>\n                                <option value=''>Выберите участника</option>\n\n                                {userVote.map((userVote, id) => <option key={id}\n                                                                        value={vote.id + '_' + userVote.id}>{userVote.user_name}</option>)}\n                            </select>*/","map":{"version":3,"sources":["D:/time_app/client/src/components/ProfileInfo/ProfileInfo.jsx"],"names":["axios","React","useEffect","useRef","useState","Link","useParams","Create","Delete","Settings","Message","Skills","Modal","ModalVacanciesItem","ModalVacancies","Editing","DeleteUser","ProfileInfo","timeZone","setTimeZone","searchTermCities","setSearchTermCities","allDateUser","setAllDateUser","modalVacancies","setModalVacancies","inputValues","setInputValues","selectedInputIndex","setSelectedInputIndex","check","setCheck","checkedItems","setCheckedItems","votearray","setVotearray","userVote","setUserVote","depsName","setDepsName","cityName","setCityName","user","setUser","isFetching","setIsFetching","modalActive","setModalActive","modalActivePass","setModalActivePass","modalActiveVote","setModalActiveVote","modalVote","setModalVote","vote","setVote","modalActiveResetPass","setModalActiveResetPass","modalActiveReset","setModalActiveReset","modalActiveDelete","setModalActiveDelete","modalActiveSkills","setModalActiveSkills","er","setErr","username","localUser","_id","email","JSON","parse","localStorage","getItem","localUse","modalOldPass","modalNewPass","modalNewPassAgain","filteredCities","setFilteredCities","hasImage","setHasImage","usersStatuses","findStatus","k","i","hasImageStatus","Object","keys","images","some","key","nomination_status","parseInt","getNameDeps","deps","post","res","data","fetchUser","id","get","sort","a","b","user_name","localeCompare","mass","filter","element","status","fetchVote","phone_number","additional_contact","distribution_group","activity_profile","place_of_residence","handleClickPassword","e","preventDefault","current","value","passwords","userId","password","oldPassword","newPassword","put","handleResetPass","resetPassword","typework_id","healthEnd","commentEnd","workEnd","Date","now","alert","handleDelete","newPost","window","location","href","console","log","Array","isArray","name","toLowerCase","button","length","forEach","arr","split","voteUser","user_id","vote_for_user","nominations_id","clickVote","prev","toString","str","str1","existingIndex","findIndex","item","newArray","votearr","push","secureButton","addNomination","id_nomination","undefined","reload","clearSecureButton","inputClick","event","voteId","target","checked","prevState","nextModal","src","title","handleInputChangeUsers","index","termCities","filtered","city","includes","getChangeVacancies","isAdmin","map","paddingTop","cursor","fontSize","paddingLeft","color","vacancy_code","border","padding","charAt","toUpperCase","slice","nominations_name","description","position","top","left","zIndex","marginLeft","cityId"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, {useEffect, useRef, useState} from 'react'\nimport {Link, useParams} from \"react-router-dom\";\nimport {Create, Delete, Settings, Message} from '@material-ui/icons'\n\n\nimport Skills from '../ProfileInfo/Skills/Skills'\nimport Modal from '../Templates/Modal/Modal'\nimport ModalVacanciesItem from \"../VacanciesItem/ModalVacanciesItem/ModalVacanciesItem\";\nimport ModalVacancies from \"../Templates/ModalVacancies/ModalVacancies\";\nimport Editing from \"./Editing/Editing\"\n\nimport './ProfileInfo.css'\nimport DeleteUser from \"./DeleteUser/DeleteUser\";\n\nexport default function ProfileInfo() {\n\n    const [timeZone, setTimeZone] = useState([])\n    const [searchTermCities, setSearchTermCities] = useState('');\n\n    const [allDateUser,setAllDateUser]=useState()\n\n    const [modalVacancies, setModalVacancies] = useState(false)\n    const [inputValues, setInputValues] = useState('');\n    const [selectedInputIndex, setSelectedInputIndex] = useState(null);\n\n    const [check, setCheck] = useState();\n    const [checkedItems, setCheckedItems] = useState({});\n    const [votearray, setVotearray] = useState([])\n    const [userVote, setUserVote] = useState([])\n\n\n    const [depsName, setDepsName] = useState([])\n    const [cityName, setCityName] = useState([])\n\n    const [user, setUser] = useState([])\n\n\n\n    const [isFetching, setIsFetching] = useState(false)\n    const [modalActive, setModalActive] = useState(false)\n    const [modalActivePass, setModalActivePass] = useState(false)\n    const [modalActiveVote, setModalActiveVote] = useState(false)\n    const [modalVote, setModalVote] = useState(false)\n    const [vote, setVote] = useState([])\n    const [modalActiveResetPass, setModalActiveResetPass] = useState(false)\n    const [modalActiveReset, setModalActiveReset] = useState(false)\n    const [modalActiveDelete, setModalActiveDelete] = useState(false)\n    const [modalActiveSkills, setModalActiveSkills] = useState(false)\n\n\n    const [er, setErr] = useState('')\n    const username = useParams()\n\n\n    let localUser = !!username ? {_id: username.username, email: \"\"} : JSON.parse(localStorage.getItem('user'))\n    const localUse = JSON.parse(localStorage.getItem('user'))\n\n    const modalOldPass = useRef()\n    const modalNewPass = useRef()\n    const modalNewPassAgain = useRef()\n\n\n    const [filteredCities, setFilteredCities] = useState([]);\n    const [hasImage, setHasImage] = useState(false);\n\n\n\n    const usersStatuses = {\n        0: '',\n        1: 'start',\n        2: 'end',\n        3: 'sick_leave',\n        4: 'deleted',\n        5: 'vacation',\n        6: 'time_off',\n        7: 'other'\n    }\n\n    function findStatus(k) {\n        for (let i in usersStatuses) {\n            if (i == k) {\n                return usersStatuses[i]\n            }\n        }\n    }\n\n\n    useEffect(() => {\n\n        const hasImageStatus = Object.keys(images).some(key =>\n            user.nomination_status === key || user.nomination_status === parseInt(key)\n        );\n        setHasImage(hasImageStatus);\n\n\n        const getNameDeps = async () => {\n            const deps = {\n                user: username.username\n            }\n            const res = await axios.post('/api/departments/', deps)\n            setTimeZone(res.data[0]['timezone'])\n            setDepsName(res.data[0]['department_name'])\n            setCityName(res.data[0]['city_name'])\n        }\n\n        const fetchUser = async () => {\n            localUser._id = !!localUser._id ? localUser._id : localUser.id\n            localUser._id = !!username ? username.username : localUser._id\n            const res = await axios.get('/api/user/' + username.username)\n            setUser(res.data)\n            setIsFetching(false)\n\n            const user = await axios.get('/api/user/')\n            const sort = user.data.sort((a, b) => a.user_name.localeCompare(b.user_name))\n            const mass = sort.filter(element => element.id !== username.username && element.status !== 4)\n            setUserVote(mass)\n        }\n        // Номинации\n        const fetchVote = async () => {\n            const res = await axios.get('/api/vote/')\n            setVote(res.data)\n        }\n\n        fetchVote()\n        fetchUser()\n        getNameDeps()\n    }, [\n        user.user_name,\n        user.email,\n        user.phone_number,\n        user.additional_contact,\n        user.distribution_group,\n        user.activity_profile,\n        user.place_of_residence,\n        username.username\n    ])\n\n\n    // изменить пароль\n    const handleClickPassword = async (e) => {\n        e.preventDefault()\n        if (modalNewPass.current.value !== modalNewPassAgain.current.value) {\n            setErr('Новые пароли не совпадают')\n            return\n        }\n        const passwords = {\n            userId: localUse._id,\n            password: localUse.password,\n            oldPassword: modalOldPass.current.value,\n            newPassword: modalNewPass.current.value\n        }\n        try {\n            await axios.put('/api/newPassword/', passwords)\n            setModalActivePass(false)\n            /*      localStorage.clear()\n                  window.location.reload()\n                  window.location.href = '/'*/\n        } catch (er) {\n            setErr('Старые пароли не совпадают')\n        }\n    }\n\n    // сбросить пароль\n    const handleResetPass = async (e) => {\n        e.preventDefault()\n\n        const resetPassword = {\n            userId: username.username,\n            newPassword: 'qwerty123'\n        }\n\n        try {\n            await axios.put('/api/resetPassword/', resetPassword)\n            setModalActiveResetPass(false)\n        } catch (error) {\n        }\n    }\n\n    const status = async () => {\n        if (user.status === 1) {\n            const status = {\n                status: 2,\n                typework_id: 1,\n                userId: user.id,\n                healthEnd: '-',\n                commentEnd: '-',\n                workEnd: new Date(Date.now())\n            }\n            await axios.put(\"/api/post/\", status)\n        } else {\n            alert(\"Пользователь не в работе\")\n        }\n    }\n\n    // удалить пользователя\n    const handleDelete = async (e) => {\n        e.preventDefault()\n\n\n        const newPost = {\n            userId: username.username,\n            healthEnd: 1,\n            status: 4\n        }\n        try {\n            await axios.put('/api/deluser/', newPost)\n            setModalActiveDelete(false)\n            window.location.href = `/profile/${user.id}`\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n\n    localUser = (!!user && !Array.isArray(user)) ? user : localUser\n    localUser.username = !!localUser.user_name ? localUser.user_name : localUser.username\n    const name = localUser.email.toLowerCase()\n\n\n    const button = () => {\n        if (votearray.length === 0) {\n            setErr('Выберите участников номинации')\n        } else {\n            votearray.forEach(async (vote) => {\n\n\n                    const arr = vote.split(\"_\")\n\n                    const voteUser = {\n                        user_id: localUse._id,\n                        vote_for_user: arr[1],\n                        nominations_id: arr[0]\n                    }\n                    await axios.post('/api/vote/', voteUser)\n                }\n            )\n            setModalActiveVote(false)\n        }\n    }\n\n    const clickVote = (e, id,user_name) => {\n        setFilteredCities([])\n        console.log('index=',id,user_name)\n        setInputValues(prev => ({ ...prev, [selectedInputIndex]: user_name }));\n        e.preventDefault();\n        const data =id.toString();\n        const arr = data.split(\"_\");\n        if (arr[0] === '' || arr[1] === '') {\n            return;\n        } else {\n            const str = arr[1].toString();\n            const str1 = arr[0].toString();\n\n            const existingIndex = votearray.findIndex(item => item.split(\"_\")[0] === str1);\n            if (existingIndex !== -1) {\n                const newArray = [...votearray];\n                newArray[existingIndex] = data;\n                console.log('Массив с обновленным элементом:', newArray);\n                setVotearray(newArray);\n                return;\n            }\n        }\n\n        const votearr = [...votearray];\n        votearr.push(data);\n\n        const newArray = votearr.filter(element => element !== \"\");\n        console.log('newArray=', newArray);\n        setVotearray(newArray);\n\n    };\n\n\n    const secureButton = async () => {\n        console.log('chek=', checkedItems)\n\n        const res = await axios.get('/api/user/' + username.username)\n\n        const addNomination = {\n            userId: username.username,\n            id_nomination: check\n        }\n\n        if (check === undefined) {\n            setErr('Выберите номинацию')\n        } else {\n            await axios.post('/api/vote/', addNomination)\n            setModalVote(false)\n            window.location.reload()\n        }\n    }\n\n    const clearSecureButton = async () => {\n        const res = await axios.get('/api/user/' + username.username)\n        const addNomination = {\n            userId: username.username,\n            id_nomination: null\n        }\n\n        await axios.post('/api/vote/', addNomination)\n        setModalVote(false)\n        window.location.reload()\n\n    }\n\n\n    const inputClick = (event, voteId) => {\n        const {id, checked} = event.target\n        if (checked) {\n            setCheckedItems(checked)\n        } else {\n            setCheckedItems(null)\n        }\n        setCheck(event.target.value)\n        setCheckedItems(prevState => ({\n            ...prevState,\n            [id]: checked,\n        }))\n\n        setUser(prevState => ({\n                ...prevState,\n                nomination_status: checked ? voteId : null\n            }\n        ))\n    }\n\n\n    const nextModal = async () => {\n        setModalVote(true)\n        setModalActiveVote(false)\n    }\n\n    const images = {\n        '1': {src: '../images/1.png', title: 'Тучка'},\n        '2': {src: '../images/2.png', title: 'Аркадий Паровозов'},\n        '3': {src: '../images/3.png', title: 'И так сойдет'},\n        '4': {src: '../images/4.png', title: 'Портной'},\n        '5': {src: '../images/5.png', title: 'Мама обезьянка'},\n        '6': {src: '../images/6.png', title: 'Кот Матроскин'},\n        '7': {src: '../images/7.png', title: 'Крот'},\n        '8': {src: '../images/8.png', title: 'Птица говорун(голосуем только среди дежурных)'},\n        '9': {src: '../images/9.png', title: 'Хома(Голосуем среди коллег из внедрения)'},\n        '10': {src: '../images/10.png', title: 'Симка и нолик'}\n    };\n\n\n    const handleInputChangeUsers = (e,id) => {\n        const index = id + 1\n        const { value } = e.target;\n        setInputValues(prev => ({ ...prev, [index]: value }));\n        setSelectedInputIndex(index);\n\n        const termCities = e.target.value;\n        setSearchTermCities(termCities);\n        const filtered = userVote.filter(city =>\n            city.user_name && city.user_name.toLowerCase().includes(termCities.toLowerCase())\n        );\n        if (termCities === '') {\n            setFilteredCities([])\n        } else {\n            setFilteredCities(filtered);\n        }\n    }\n\n\n    const getChangeVacancies =  () => {\n        if(localUse.isAdmin) {\n            setModalVacancies(true)\n            setAllDateUser(user)\n        }\n    }\n\n    return (\n\n        <div className='profileInfo'>\n\n            {Object.keys(images).map((key, id) => (\n                (user.nomination_status === key || user.nomination_status === parseInt(key)) &&\n                <img\n                    key={id}\n                    src={images[key].src}\n                    title={images[key].title}\n                    alt={`Image for ${key}`}\n                    className='imagesProfile'\n                />\n            ))}\n\n            {isFetching ? <div className='isFatching'>Загрузка...</div> :\n                <div className={'employeePI ' + (findStatus(user.status))}>\n                        <div className='ProfileName' style={{ paddingTop: hasImage ? '30px' : '0px'}}>\n\n                            {user.user_name}\n\n                            {localUse.isAdmin || localUse._id===username.username\n                                ?\n                                <>\n                                    <Create style={{cursor:'pointer', fontSize:'20px',paddingLeft:'5px'}} onClick={() => setModalActive(true)}/>\n                                    <Editing modalActive={modalActive} setModalActive={setModalActive} />\n                                </>\n                                : ''}\n\n\n                            {localUse.isAdmin ?\n                                <>\n                            <Delete style={{cursor:'pointer',fontSize:'20px'}}  onClick={() => setModalActiveDelete(true)}/>\n                             <DeleteUser modalActive={modalActiveDelete} setModalActive={setModalActiveDelete} username={username.username} user={user.id} />\n                                </>\n                            : ''}\n\n\n\n                            {localUse.isAdmin === true && localUse._id === user.id ?\n                                <Link to={`/AdminPanel`}>\n                                    <Settings style={{cursor:'pointer',fontSize:'20px',paddingTop:'5px',color:'black'}}/>\n                                </Link>\n                                : ''}\n                        </div>\n\n\n                        <div>\n                            <label style={{cursor:'pointer'}} onClick={getChangeVacancies} className='ProfileLinkVacancies'>{user.vacancy_code}</label>\n                        </div>\n\n\n{/*                    {\n                        <Message style={{cursor: 'pointer', fontSize: 'large'}} />\n                    }*/}\n\n\n                    <div style={{border: '3px dashed black',padding:'10px'}}>\n                    <div className='ProfileInfoCard'>Email: {name.charAt(0).toUpperCase() + name.slice(1)}</div>\n                    <div className='ProfileInfoCard'>Телефон: {user.phone_number}</div>\n                    <div className='ProfileInfoCard'>\n                        {localUse.isAdmin !== false || localUse._id===username.username? 'Доп.Контакт: ' : ''}\n                        {localUse.isAdmin !== false || localUse._id===username.username? user.additional_contact : ''}\n                    </div>\n                    <div className='ProfileInfoCard'>Группа рассылки: {user.distribution_group}</div>\n                    <div className='ProfileInfoCard'>Профиль деятельности: {user.activity_profile}</div>\n                    <div className='ProfileInfoCard'>Город проживания: {cityName}</div>\n                    <div className='ProfileInfoCard'>\n                        {localUse.isAdmin !== false  || localUse._id===username.username ? 'Адрес фактического проживания: ' : ''}\n                        {localUse.isAdmin !== false || localUse._id===username.username ? user.place_of_residence : ''}\n                    </div>\n                    <div className='ProfileInfoCard'>Подразделение: {depsName}</div>\n                    </div>\n\n\n\n                    {localUse.isAdmin || localUse._id===username.username ?\n                    <div className='changePass' onClick={() => setModalActivePass(true)}>Изменить пароль</div>:''\n                    }\n\n                    {localUse.isAdmin ?\n                        <div className='changePass' onClick={() => setModalActiveResetPass(true)}>Сбросить\n                            пароль</div> : ''}\n\n\n                    {localUse.isAdmin ?\n                        <div className='changePass' onClick={() => setModalActiveReset(true)}>Закончить</div> :'' }\n\n\n                    {localUse._id === user.id ?\n                        <div className='changePass' onClick={() => setModalActiveVote(true)}>Проголосовать</div> : ''}\n\n\n                    {localUse.isAdmin ? <div className=\"changePass\" onClick={nextModal}>Закрепить номинацию</div> : ''}\n\n\n                    <div className=\"changePass\" onClick={() => setModalActiveSkills(true)}>Навыки</div>\n                    <Skills modalActiveSkills={modalActiveSkills} setModalActiveSkills={setModalActiveSkills} />\n\n\n                </div>\n            }\n\n\n            <Modal active={modalActivePass} setActive={setModalActivePass}>\n                <h1>Изменение информации:</h1>\n                <hr/>\n                {er && <div className='modalError'>{er}</div>}\n                <form className=\"modalLoginBox\" onSubmit={handleClickPassword}>\n                    <input\n                        placeholder=\"Старый пароль\"\n                        type='password'\n                        className=\"inputChangePassword\"\n                        ref={modalOldPass}\n                    />\n                    <input\n                        placeholder=\"Новый пароль\"\n                        type='password'\n                        className=\"inputChangePassword\"\n                        ref={modalNewPass}\n                        minLength='6'\n                    />\n                    <input\n                        placeholder=\"Новый пароль ещё раз\"\n                        type='password'\n                        className=\"inputChangePassword\"\n                        ref={modalNewPassAgain}\n                        minLength='6'\n                    />\n                    <button className=\"ModalButtonChangePassword\" type=\"submit\" disabled={isFetching}>\n                        Изменить\n                    </button>\n                </form>\n            </Modal>\n            <Modal active={modalActiveResetPass} setActive={setModalActiveResetPass}>\n                <h1>Изменение информации:</h1>\n                <hr/>\n                <form className=\"modalLoginBox\" onSubmit={handleResetPass}>\n                    <h2>Новый пароль будет: qwerty123</h2>\n                    <button className=\"ModalButtonRePasswordUser\" type=\"submit\" disabled={isFetching}>\n                        Сбросить\n                    </button>\n                </form>\n            </Modal>\n            <Modal active={modalActiveReset} setActive={setModalActiveReset}>\n                <h1>Изменение информации:</h1>\n                <hr/>\n                <form className=\"modalLoginBox\" onSubmit={status}>\n                    <h2>Вы хотите завершить отметку времени пользователя?</h2>\n                    <button className=\"ModalButtonDelete\" type=\"submit\" disabled={isFetching}>\n                        Закончить\n                    </button>\n                </form>\n            </Modal>\n            <Modal active={modalActiveDelete} setActive={setModalActiveDelete}>\n                <h1>Изменение информации:</h1>\n                <hr/>\n                <form className=\"modalLoginBox\" onSubmit={handleDelete}>\n                    <h2>Пользователь будет удален</h2>\n                    <button className=\"ModalButtonDelete\" type=\"submit\" disabled={isFetching}>\n                        Удалить\n                    </button>\n                </form>\n            </Modal>\n\n\n\n            <Modal active={modalActiveVote} setActive={setModalActiveVote}>\n                <h1>Номинации:</h1>\n                {er && <div className='modalError'>{er}</div>}\n                <hr/>\n                <div className='div'>\n                    <div>\n                        {\n                            vote.map((vote, id) =>\n\n                                <label key={id} htmlFor={vote.id}>\n                                    <h3 className='inputVote'>{vote.nominations_name}</h3>\n                                    {vote.description}\n                                </label>\n                            )}\n                    </div>\n                    <div className='di'>\n\n                            {vote.map((vote, id) => (\n                                <div key={id+1} style={{ position: 'relative' }}>\n                                    <input\n                                        onChange={(e) => handleInputChangeUsers(e, id)}\n                                        value={inputValues[id+1] || ''}\n                                        className='select'\n                                    />\n                                    {selectedInputIndex === id+1 && filteredCities.length > 0 && (\n                                        <div className='divSelectRegister' style={{ position: 'absolute', top: '100%', left: 0, zIndex: 1000,marginLeft:'20px' }}>\n                                            {filteredCities.map((city, cityId) => (\n                                                <div\n                                                    className='selectNameDiv'\n                                                    key={cityId}\n                                                    onClick={(e) => clickVote(e, selectedInputIndex + \"_\" + city.id, city.user_name)}>\n                                                    {city.user_name}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n\n                </div>\n                <button className=\"button\" type=\"submit\" disabled={isFetching} onClick={button}>Проголосовать</button>\n            </Modal>\n            <Modal active={modalVote} setActive={setModalVote}>\n                <h1>Закрепить номинацию:</h1>\n                {er && <div className='modalError'>{er}</div>}\n                <hr/>\n                <div>\n                    <div className='voteContainer'>\n                        {vote.map((vote, id) => (\n                            <div key={id} className=\"voteItem\">\n                                <label key={id} htmlFor={vote.id} className=\"inputVote\">\n\n                                    <input\n                                        type='checkbox'\n                                        id={vote.id}\n                                        value={vote.id}\n                                        onChange={(e) => inputClick(e, vote.id)}\n                                        checked={user.nomination_status === vote.id}\n                                    />\n\n                                    {vote.nominations_name}{' '}\n\n                                    <img src={`../images/${vote.id}.png`} alt={`Image for ${vote.nominations_name}`}\n                                         className='images'/>\n\n                                </label>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                <button className=\"button\" type=\"submit\" disabled={isFetching} onClick={secureButton}>Закрепить</button>\n                <button className=\"button\" type=\"submit\" disabled={isFetching} onClick={clearSecureButton}>Снять\n                    номинацию\n                </button>\n            </Modal>\n\n            <ModalVacancies active={modalVacancies} setActive={setModalVacancies}>\n                <ModalVacanciesItem\n                    allDateUser={allDateUser}\n                />\n            </ModalVacancies>\n\n\n\n<Skills/>\n\n        </div>\n    )\n}\n\n\n\n\n/*                            <select onChange={clickVote} key={id} value={userVote.id} className='select'>\n                                <option value=''>Выберите участника</option>\n\n                                {userVote.map((userVote, id) => <option key={id}\n                                                                        value={vote.id + '_' + userVote.id}>{userVote.user_name}</option>)}\n                            </select>*/"]},"metadata":{},"sourceType":"module"}
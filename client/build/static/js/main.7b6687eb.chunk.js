(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{486:function(e,t,a){},505:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){"use strict";a.r(t);a(126),a(135),a(136),a(137),a(138),a(139),a(140),a(141),a(142),a(143),a(144),a(145),a(146),a(147),a(148),a(188),a(190),a(191),a(192),a(193),a(194),a(196),a(150),a(199),a(200),a(72),a(204),a(205),a(207),a(208),a(209),a(210),a(211),a(212),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(156),a(157),a(224),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(159),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(251),a(253),a(254),a(256),a(257),a(258),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(112),a(277),a(278),a(279),a(280),a(286),a(287),a(288),a(289),a(290),a(291),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(163),a(303),a(304),a(165),a(305),a(306),a(307),a(308),a(92),a(309),a(310),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(377),a(378),a(119),a(381),a(382),a(383),a(385),a(172),a(430),a(173),a(441);var n=a(1),c=a.n(n),s=a(402),r=a.n(s),i=a(3),u=a.n(i),l=a(6),o=a(2),j=a(10),d=a(26),b=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,posts:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,posts:null,isFetching:!1,error:!1};case"LOGIN_FAIL":return{user:null,posts:null,isFetching:!1,error:t.payload};default:return e}},O=a(0),p={user:null,isFetching:!1,error:!1},m=Object(n.createContext)(p),h=function(e){var t=e.children,a=Object(n.useReducer)(b,p),c=Object(o.a)(a,2),s=c[0],r=c[1];return null!==s.user&&localStorage.setItem("user",JSON.stringify(s.user)),Object(O.jsx)(m.Provider,{value:{user:s.user,isFetching:s.isFetching,error:s.error,dispatch:r},children:t})};a(486);function x(){return Object(O.jsx)("div",{className:"errorMessage",children:Object(O.jsx)("h1",{className:"errorTitle",children:"ERROR 404!"})})}var f=a(565),v=a(5),g=a.n(v),_=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_START"}),e.prev=1,e.next=4,g.a.post("api/login",t);case 4:n=e.sent,a({type:"LOGIN_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"LOGIN_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),y=_;a(505);function k(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],d=r[1];Object(n.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("/api/user").then((function(e){if(!e)throw new Error("\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")})).catch((function(e){d(!0),c("\u041e\u0448\u0438\u0431\u043a\u0430: "+e.message)}));case 1:case"end":return e.stop()}}),e)}))),[]);var b=Object(n.useRef)(),p=Object(n.useRef)(),h=Object(n.useContext)(m),x=h.isFetching,v=h.error,_=h.dispatch;return Object(O.jsxs)("div",{className:"login",children:[!a&&v&&Object(O.jsx)("div",{className:"error",children:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),i&&Object(O.jsx)("div",{className:"error",children:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"}),Object(O.jsx)("div",{className:"loginWrapper",children:Object(O.jsx)("div",{className:"loginCenter",children:Object(O.jsxs)("form",{className:"loginBox",onSubmit:function(e){e.preventDefault(),y({email:b.current.value.toUpperCase(),password:p.current.value},_)},children:[Object(O.jsx)("input",{placeholder:"Email",className:"loginInput",type:"emailLogin",ref:b,required:!0}),Object(O.jsx)("input",{placeholder:"Password",type:"password",className:"loginInput",ref:p,required:!0,minLength:"6"}),Object(O.jsx)("button",{className:"loginButton",type:"submit",disabled:x,children:x?Object(O.jsx)(f.a,{style:{color:"white"}}):"\u0412\u043e\u0439\u0442\u0438"}),Object(O.jsx)(j.b,{to:"/register",style:{width:"167%"},children:Object(O.jsx)("button",{className:"loginRegisterButton",disabled:x,children:x?Object(O.jsx)(f.a,{style:{color:"white"}}):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})})})]})}a(513);function N(e){var t=e.post;return Object(O.jsxs)("tr",{className:"info",children:[Object(O.jsx)("td",{className:"infopostdate",children:t.workdate}),Object(O.jsx)("td",{className:"infotable",children:t.workstart}),Object(O.jsx)("td",{className:"infotable",children:t.workend}),Object(O.jsx)("td",{className:"infotable",children:t.worklong}),Object(O.jsxs)("td",{className:"infotable",children:["0"===t.healthstart?"\u0411\u043e\u043b\u0435\u043d":"\u0417\u0434\u043e\u0440\u043e\u0432",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"1"===t.healthend||"-"===t.healthend?"\u0417\u0434\u043e\u0440\u043e\u0432":"0"===t.healthend?"\u0411\u043e\u043b\u0435\u043d":""]}),Object(O.jsxs)("td",{className:"infoComment",children:[t.commentstart,Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),t.commentend]})]})}a(514);function w(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,c=e.currentPage,s=[],r=1;r<=Math.ceil(a/t);r++)s.push(r);return Object(O.jsx)(O.Fragment,{children:s.length>1?Object(O.jsx)("div",{className:"pagination",children:s.map((function(e,t){return Object(O.jsx)("div",{className:c===e?"pageItemNow":"pageItem",onClick:function(){return n(e)},children:e},t)}))}):Object(O.jsx)(O.Fragment,{})})}a(515);function S(e){var t=e.post;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"vacationpost",children:t.workdate}),Object(O.jsx)("td",{className:"vacationpost",children:t.worked}),Object(O.jsx)("td",{className:"vacationpost",children:t.work.replace(/(^|\s)0/g,"$1")}),Object(O.jsx)("td",{className:"vacationpost",children:"5"===t.typework_id?"\u041e\u0442\u043f\u0443\u0441\u043a":"3"===t.typework_id?"\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439":"7"===t.typework_id?"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430":"6"===t.typework_id?"\u041e\u0442\u0433\u0443\u043b":""}),Object(O.jsx)("td",{className:"vacationpostComment",children:t.commentstart})]})}a(516);var C=a(566);a(517);var I=function(e){var t=e.active,a=e.setActive,n=e.children;return Object(O.jsx)("div",{className:t?"modal active":"modal",children:Object(O.jsxs)("div",{className:t?"modalContent active":"modalContent",onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("div",{className:"closeModal",children:Object(O.jsx)("span",{onClick:function(){return a(!1)},children:Object(O.jsx)(C.a,{})})}),n]})})};function D(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=(t[1],Object(n.useState)([])),s=Object(o.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)([]),b=Object(o.a)(j,2),p=b[0],m=b[1],h=Object(n.useState)(!1),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)(1),y=Object(o.a)(_,2),k=y[0],C=y[1],D=Object(n.useState)(30),R=Object(o.a)(D,1)[0],M=k*R,A=M-R,L=r.slice(A,M),V=k*R,P=V-R,F=p.slice(P,V),E=Object(n.useRef)(null),B=Object(n.useRef)(null),T=Object(n.useState)(!1),U=Object(o.a)(T,2),Y=U[0],J=U[1],q=Object(n.useState)(""),W=Object(o.a)(q,2),H=W[0],$=W[1],G=Object(n.useState)(""),X=Object(o.a)(G,2),z=X[0],K=X[1],Q=Object(d.h)(),Z=Q?{_id:Q.username,email:""}:JSON.parse(localStorage.getItem("user")),ee=Object(n.useState)(!0),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),se=Object(o.a)(ce,2),re=se[0],ie=se[1],ue=Object(n.useState)(null),le=Object(o.a)(ue,2),oe=le[0],je=le[1],de=Object(n.useRef)(),be=Object(n.useRef)(),Oe=Object(n.useRef)();Object(n.useEffect)((function(){v(!0),pe()}),[Q]);var pe=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/post?type=1&id="+Z._id);case 2:t=e.sent,i(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),v(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e){return C(e)},he=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.current.value,a=B.current.value,""===t||""===a?$("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||$("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?$("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startdate:E.current.value,enddate:B.current.value,userId:Z._id,typework:ae},$(""),c=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/filter",n);case 2:t=e.sent,m(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),i(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),$("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(""),J(!1),E.current.value="",B.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v(!0),fe()}),[Q]);var fe=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/vacation?id="+Z._id);case 2:t=e.sent,m(t.data.sort((function(e,t){return new Date(t.start)-new Date(e.start)}))),v(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),new Date,""!==be.current.value&&""!==Oe.current.value&&null!==oe&&""!==de.current.value){e.next=5;break}return K("\u0412c\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),e.abrupt("return");case 5:if(!(new Date(be.current.value)>new Date(Oe.current.value)&&""!==Oe.current.value)){e.next=8;break}return K("\u0412\u0442\u043e\u0440\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043f\u0435\u0440\u0432\u043e\u0439"),e.abrupt("return");case 8:return a={userId:Z._id,status:oe,comment:de.current.value,start:new Date(be.current.value),end:new Date(Oe.current.value)},e.prev=9,e.next=12,g.a.post("/api/vacation/",a);case 12:window.location.reload(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){je(e.target.value)};return Object(O.jsxs)("div",{className:"historyInfo",children:[Object(O.jsxs)("div",{className:"historyInfoTop",children:[Object(O.jsx)("span",{className:"historyInfoTitle",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(O.jsx)("span",{className:"workVacation",onClick:function(){ae?fe():pe(),ne(!ae),$(""),J(!1),E.current.value="",B.current.value=""},children:ae?Object(O.jsx)("button",{className:"filterButton",style:{width:"155px"},children:"\u041e\u0442\u043f\u0443\u0441\u043a/\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"}):Object(O.jsx)("button",{className:"filterButton",children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),!ae&&(Z||Q===Z._id)&&Object(O.jsx)("div",{className:"addVacation",onClick:function(){return ie(!0)},children:Object(O.jsx)("span",{children:"+"})})]}),Object(O.jsx)("hr",{}),H&&Object(O.jsx)("div",{className:"errorHistoryInfo",children:H}),Object(O.jsxs)("div",{className:"historyFilter",children:[Object(O.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:E,style:{marginRight:"10px"}}),"\u2014  ",Object(O.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:B,style:{marginRight:"10px"}}),Object(O.jsx)("button",{className:"filterButton",onClick:he,children:"\u041e\u043a"}),Object(O.jsx)("button",{className:"filterButton",onClick:xe,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),ae?Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"historyinfodate",children:"\u0414\u0430\u0442\u0430"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"}),Object(O.jsx)("td",{className:"historyinfocomment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]}):Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"historyinfopostdate",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u041a\u043e\u043d\u0435\u0446"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(O.jsx)("td",{className:"historyinfopost",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"}),Object(O.jsx)("td",{className:"historycomment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]}),ae?Y?a.map((function(e,t){return Object(O.jsx)(N,{post:e,username:Q},t)})):L.map((function(e,t){return Object(O.jsx)(N,{post:e,username:Q},t)})):f?Object(O.jsx)("div",{className:"isFatching",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Y?a.map((function(e,t){return Object(O.jsx)(S,{post:e,username:Q},t)})):F.map((function(e,t){return Object(O.jsx)(S,{post:e},t)})),ae?Object(O.jsx)(w,{postsPerPage:R,totalPosts:r.length,paginate:me,currentPage:k}):Object(O.jsx)(w,{postsPerPage:R,totalPosts:p.length,paginate:me,currentPage:k}),Object(O.jsxs)(I,{active:re,setActive:ie,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),z&&Object(O.jsx)("div",{className:"errorHistoryInfo",children:z}),Object(O.jsxs)("form",{className:"modalLoginBox",onSubmit:ve,children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",width:"60%",marginLeft:"20%"},children:[Object(O.jsxs)("label",{htmlFor:"sickLeave",children:[Object(O.jsx)("input",{type:"radio",value:3,id:"sickLeave",name:"sickLeave",onChange:ge,checked:"3"===oe}),"\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"]}),Object(O.jsxs)("label",{htmlFor:"vacation",children:[Object(O.jsx)("input",{type:"radio",value:5,id:"vacation",name:"vacation",onChange:ge,checked:"5"===oe}),"\u041e\u0442\u043f\u0443\u0441\u043a"]}),Object(O.jsxs)("label",{htmlFor:"time",children:[Object(O.jsx)("input",{type:"radio",value:6,id:"other",name:"time",onChange:ge,checked:"6"===oe}),"\u041e\u0442\u0433\u0443\u043b"]}),Object(O.jsxs)("label",{htmlFor:"anotherReason",children:[Object(O.jsx)("input",{type:"radio",value:7,id:"anotherReason",name:"anotherReason",onChange:ge,checked:"7"===oe}),"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430"]})]}),Object(O.jsxs)("div",{className:"inputVacanciesDiv",children:[Object(O.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInputInfoVacancies",ref:be,style:{marginRight:"10px"}}),"\u2014   ",Object(O.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInputInfoVacancies",ref:Oe,style:{marginRight:"10px"}})]}),Object(O.jsx)("textarea",{placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",className:"textAreaHistory",ref:de}),Object(O.jsx)("button",{className:"ModalButton",type:"submit",disabled:f,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})}var R=a(12),M=a(567),A=a(568),L=a(569),V=(a(518),function(e){var t=e.modalActiveSkills,a=e.setModalActiveSkills,c=Object(n.useRef)(),s=Object(d.h)(),r=JSON.parse(localStorage.getItem("user")),i=Object(n.useState)(""),j=Object(o.a)(i,2),b=j[0],p=j[1],m=Object(n.useState)([]),h=Object(o.a)(m,2),x=h[0],f=h[1],v=Object(n.useState)(""),_=Object(o.a)(v,2),y=_[0],k=_[1],N=Object(n.useState)([]),w=Object(o.a)(N,2),S=w[0],C=w[1],D=Object(n.useState)([]),R=Object(o.a)(D,2),M=R[0],A=R[1],L=Object(n.useState)([]),V=Object(o.a)(L,2),P=V[0],F=V[1],E=Object(n.useState)(null),B=Object(o.a)(E,2),T=B[0],U=B[1],Y=Object(n.useState)(null),J=Object(o.a)(Y,2);J[0],J[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+s.username);case 2:return t=e.sent,a=t.data.id,e.next=6,g.a.get("/api/Skills/");case 6:return null===(n=e.sent).data[0].get_all_skills_json?f([]):f(n.data[0].get_all_skills_json),e.next=10,g.a.get("/api/Skills/"+a);case 10:null===(c=e.sent).data[0].get_user_skills_json?A([]):A(c.data[0].get_user_skills_json);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var q=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(null),0!==S.length){e.next=5;break}k("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435"),e.next=26;break;case 5:if(null!=T){e.next=9;break}k("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u0442 1 \u0434\u043e 5"),e.next=26;break;case 9:if(!(0===S.length&&T>0)){e.next=13;break}k("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435"),e.next=26;break;case 13:return t={user_id:s.username,skill_id:S,self_grade:T},(S.length>0||null!==T||0===S.length&&T>0)&&k(""),e.next=17,g.a.post("/api/Skills/",t);case 17:return e.sent,e.next=20,g.a.get("/api/user/"+s.username);case 20:return a=e.sent,n=a.data.id,e.next=24,g.a.get("/api/Skills/"+n);case 24:null===(c=e.sent).data[0].get_user_skills_json?A([]):A(c.data[0].get_user_skills_json);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n={is_active:!1,skill_id:a},e.next=4,g.a.post("/api/Skills/",n);case 4:return e.sent,e.next=7,g.a.get("/api/user/"+s.username);case 7:return c=e.sent,r=c.data.id,e.next=11,g.a.get("/api/Skills/"+r);case 11:null===(i=e.sent).data[0].get_user_skills_json?A([]):A(i.data[0].get_user_skills_json);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,c=n.name,r=n.value,i={user_id:s.username,skill_id:a},"gradeSelf"===c&&void 0!==r?i.newGradeSelf=r:"gradeHead"===c&&void 0!==r&&(i.newGradeHead=r),e.next=5,g.a.post("/api/Skills/",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u041d\u0430\u0432\u044b\u043a\u0438:"}),Object(O.jsx)("div",{className:"error",children:y}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"modalError"}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{style:{fontWeight:"bold"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435:"})}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"inputContainer",children:[Object(O.jsx)("input",{placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435",ref:c,className:"registerInput",value:b,onChange:function(e){var t=e.target.value;p(t);var a=x.filter((function(e){return e.name&&e.name.toLowerCase().includes(t.toLowerCase())}));F(""===t?[]:a)}}),Object(O.jsx)("div",{children:P.length>0&&Object(O.jsx)("div",{className:"dropdown",children:P.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:t,onClick:function(){return function(e,t){F([]),C(e),p(t)}(e.id,e.name)},children:e.name},t)}))})})]})})]}),Object(O.jsx)("div",{style:{width:"50px"}}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("label",{style:{fontWeight:"bold"},children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"MainContainer",children:[1,2,3,4,5].map((function(e){return Object(O.jsx)("div",{className:"WrapperContainer ".concat(T===e?"selected":""),onClick:function(){return function(e){U(e),console.log("You clicked number ".concat(e))}(e)},children:e},e)}))})})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"ModalButton",type:"submit",onClick:q,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"divreserve",children:Object(O.jsxs)("table",{className:"skills-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"skills-header",children:[Object(O.jsx)("th",{children:"\u041d\u0430\u0432\u044b\u043a"}),Object(O.jsx)("th",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),Object(O.jsx)("th",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:M.map((function(e,t){return Object(O.jsxs)("tr",{className:"skill-item",children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:Object(O.jsx)("select",{name:"gradeSelf",defaultValue:e.self_grade,onChange:function(t){return H(t,e.id)},children:[1,2,3,4,5].map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})}),Object(O.jsx)("td",{children:Object(O.jsxs)("select",{name:"gradeHead",defaultValue:e.head_grade,disabled:!r.isAdmin,onChange:function(t){return H(t,e.id)},children:[null!==e.head_grade||r.isAdmin?"":Object(O.jsx)("option",{children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438"}),null===e.head_grade?Object(O.jsx)("option",{children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438"}):"",[1,2,3,4,5].map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))]})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{value:e.id,className:"SkillButton",onClick:W,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)}))})]})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})})}),P=a(94),F=a.n(P),E=function(e){var t=e.allDateUser;Object(n.useEffect)((function(){if(t&&(G(t.vacancies_name),oe(t.grade),b(t.vacancies_department_id),ae(t.description),re(t.vacancies_status_id),y(t.company_id),S(t.vacancy_code),R(t.project_id),q(t.vacancy_id),Q(t.id),null!==t.planned_release_date)){var e=F()(t.planned_release_date).format("YYYY-MM-DD");T(e)}}),[t]);var a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(""),j=Object(o.a)(i,2),d=j[0],b=j[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)([]),N=Object(o.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(""),A=Object(o.a)(M,2),L=A[0],V=A[1],P=Object(n.useState)([]),E=Object(o.a)(P,2),B=E[0],T=E[1],U=Object(n.useState)(""),Y=Object(o.a)(U,2),J=Y[0],q=Y[1],W=Object(n.useState)(""),H=Object(o.a)(W,2),$=H[0],G=H[1],X=Object(n.useState)(""),z=Object(o.a)(X,2),K=z[0],Q=z[1],Z=Object(n.useState)(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(o.a)(ne,2),se=ce[0],re=ce[1],ie=Object(n.useState)(""),ue=Object(o.a)(ie,2),le=ue[0],oe=ue[1],je=Object(n.useState)(""),de=Object(o.a)(je,2),be=(de[0],de[1]),Oe=Object(n.useState)(""),pe=Object(o.a)(Oe,2),me=pe[0],he=pe[1],xe=Object(n.useState)([]),fe=Object(o.a)(xe,2),ve=fe[0],ge=fe[1],_e=Object(n.useState)([]),ye=Object(o.a)(_e,2),ke=ye[0],Ne=ye[1],we=Object(n.useState)([]),Se=Object(o.a)(we,2),Ce=Se[0],Ie=Se[1],De=Object(n.useRef)(),Re=Object(n.useRef)(),Me=Object(n.useRef)(),Ae=Object(n.useRef)(),Le=Object(n.useRef)(),Ve=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?status=status");case 2:return t=e.sent,r(t.data),e.next=6,g.a.get("/api/departments/");case 6:return a=e.sent,Be(a.data),e.next=10,g.a.get("/api/Vacations/?company=company");case 10:return n=e.sent,x(n.data),e.next=14,g.a.get("/api/user");case 14:c=e.sent,Ie(c.data);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Pe=Object(n.useState)([]),Fe=Object(o.a)(Pe,2),Ee=Fe[0],Be=Fe[1],Te=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={namevacanciesId:J,namevacancies:$,description:te,grade:le,statuses:De.current.value,users:0===ve.length?K:ve,search:ve,old_user:K,deps:d,company_id:_,vacancy_code:w,project_id:D,planned_release_date:0===Ve.current.value.length?null:Ve.current.value},!("3"===De.current.value&&null===K&&ve.length<1)){e.next=5;break}V("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"),e.next=10;break;case 5:return e.next=7,g.a.put("/api/Vacations/",t);case 7:e.sent,V("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"MessageItemVacancies",children:Object(O.jsx)("span",{children:L})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",className:"ModalInputVacancies",value:$,onChange:function(e){G(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{className:"textDescription",value:te,onChange:function(e){ae(e.target.value)}})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:Re,value:d,onChange:function(){b(Re.current.value)},className:"InputVacanciesItemDeps",children:Ee.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.department_name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:De,value:se,onChange:function(){re(De.current.value)},className:"InputVacanciesItemSelect",children:s.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0413\u0440\u0435\u0439\u0434:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",value:le,onChange:function(e){/^\d*$/.test(e.target.value)&&oe(e.target.value)},placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacanciesItem"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:Me,value:_,onChange:function(){y(Me.current.value)},className:"InputVacanciesItemSelect",children:h.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"inputDiv",children:[Object(O.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",value:me||t&&t.user_name,onChange:function(e){var t=e.target.value;he(""===t?null:t);var a=Ce.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));""===t?be(""):Ne(a)},className:"InputVacanciesItem"}),ke.length>0&&Object(O.jsx)("div",{className:"userListContainer",children:ke.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){ge(t),console.log("old=",t),he(e),Ne([])}(e.user_name,e.id)},children:e.user_name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"date",ref:Ve,placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem",value:B,onChange:function(){T(Ve.current.value)}})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0418\u0422\u0421:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",ref:Ae,value:w,onChange:function(){S(Ae.current.value)},placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",ref:Le,value:D,onChange:function(e){/^\d*$/.test(e.target.value)&&R(e.target.value)},placeholder:"\u041f\u0440\u043e\u0435\u043a\u0442(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",className:"InputVacanciesItem"})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"divHistory",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"ModalButton",type:"submit",onClick:Te,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})};a(520);var B=function(e){var t=e.active,a=e.setActive,n=e.children;return Object(O.jsx)("div",{className:t?"modal1 active":"modal1",children:Object(O.jsxs)("div",{className:t?"modalContent1 active":"modalContent1",onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("div",{className:"closeModal1",children:Object(O.jsx)("span",{onClick:function(){return a(!1)},children:Object(O.jsx)(C.a,{})})}),n]})})};var T=function(e){var t=e.modalActive,a=e.setModalActive,c=Object(d.h)(),s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],j=(r[1],Object(n.useState)("")),b=Object(o.a)(j,2),p=b[0],m=b[1],h=Object(n.useState)([]),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)([]),y=Object(o.a)(_,2),k=y[0],N=y[1],w=Object(n.useState)(""),S=Object(o.a)(w,2),C=S[0],D=S[1],M=Object(n.useState)([]),A=Object(o.a)(M,2),L=A[0],V=A[1],P=Object(n.useState)([]),F=Object(o.a)(P,2),E=F[0],B=F[1],T=Object(n.useState)([]),U=Object(o.a)(T,2),Y=U[0],J=U[1],q=Object(n.useState)([]),W=Object(o.a)(q,2),H=W[0],$=W[1],G=Object(n.useState)([]),X=Object(o.a)(G,2),z=X[0],K=X[1],Q=Object(n.useState)([]),Z=Object(o.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(n.useState)([]),ne=Object(o.a)(ae,2),ce=ne[0],se=ne[1],re=Object(n.useState)([]),ie=Object(o.a)(re,2),ue=ie[0],le=ie[1],oe=Object(n.useState)([]),je=Object(o.a)(oe,2),de=je[0],be=je[1],Oe=Object(n.useState)([]),pe=Object(o.a)(Oe,2),me=pe[0],he=pe[1],xe=Object(n.useState)([]),fe=Object(o.a)(xe,2),ve=fe[0],ge=fe[1],_e=Object(n.useState)([]),ye=Object(o.a)(_e,2),ke=ye[0],Ne=ye[1],we=Object(n.useState)([]),Se=Object(o.a)(we,2),Ce=Se[0],Ie=Se[1],De=Object(n.useState)([]),Re=Object(o.a)(De,2),Me=Re[0],Ae=Re[1],Le=JSON.parse(localStorage.getItem("user")),Ve=Object(n.useRef)(),Pe=Object(n.useRef)(),Fe=Object(n.useRef)(),Ee=Object(n.useRef)(),Be=Object(n.useRef)(),Te=Object(n.useRef)(),Ue=Object(n.useRef)(),Ye=Object(n.useState)([]),Je=Object(o.a)(Ye,2),qe=Je[0],We=Je[1],He=Object(n.useState)(""),$e=Object(o.a)(He,2),Ge=$e[0],Xe=$e[1],ze=Object(n.useState)([]),Ke=Object(o.a)(ze,2),Qe=Ke[0],Ze=Ke[1],et=Object(n.useState)([]),tt=Object(o.a)(et,2),at=tt[0],nt=tt[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/department_tree_to_json/");case 2:a=e.sent,n=a.data[0].department_tree_to_json,c=t(n),Ae(c),m(k.department_id);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function e(t){var a=[{id:t.id,name:t.Name}];return t.Subclasses&&t.Subclasses.length>0&&t.Subclasses.forEach((function(t){a=a.concat(e(t))})),a},a=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:c.username},e.next=3,g.a.post("/api/departments/",t);case 3:a=e.sent,v(a.data[0].city_name);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+c.username);case 2:return t=e.sent,N(t.data),e.next=6,g.a.get("/api/Cities/");case 6:a=e.sent,nt(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k&&k.email&&L&&V(k.email),k&&k.phone_number&&Y&&J(k.phone_number),k&&k.additional_contact&&z&&K(k.additional_contact),k&&k.distribution_group&&ce&&se(k.distribution_group),k&&k.activity_profile&&de&&be(k.activity_profile),k&&k.place_of_residence&&ve&&ge(k.place_of_residence),function(){if(k.user_name){var e=k.user_name.split(" "),t=Object(o.a)(e,2),a=t[0],n=t[1];Ie(n||""),D(a)}}(),n(),e(),a()}),[k.user_name,k.email,k.phone_number,k.additional_contact,k.distribution_group,k.activity_profile,k.place_of_residence,c.username]);var ct=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.user_name,n.split(" "),t.preventDefault(),s={departmentId:Ve.current.value||k.department_id,email:L||E.toUpperCase(),username:C+" "+Ce,_id:k.id,isAdmin:k.isadmin,see_child:k.see_child,status:k.status,main_department:k.main_department,phone_number:""===Pe.current.value?"":Pe.current.value,additional_contact:Fe.current.value,distribution_group:Ee.current.value,activity_profile:Be.current.value,city_id:qe,cityPlaceChange:Ue.current.value},Le._id===c.username){e.next=11;break}return r={departmentId:Ve.current.value||k.department_id,email:L||E.toUpperCase(),username:C+" "+Ce,phone_number:""===Pe.current.value?"":Pe.current.value,additional_contact:Fe.current.value,distribution_group:Ee.current.value,activity_profile:Be.current.value,city_id:qe,_id:k.id,cityPlaceChange:Ue.current.value},e.next=8,g.a.put("/api/user/",r);case 8:window.location.reload(),e.next=22;break;case 11:return e.next=13,g.a.put("/api/user/",s);case 13:delete s.phone_number,delete s.additional_contact,delete s.distribution_group,delete s.activity_profile,delete s.city_id,delete s.cityPlaceChange,localStorage.setItem("user",JSON.stringify(Object(R.a)({},s))),a(!1),window.location.reload();case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),i&&Object(O.jsx)("div",{className:"modalError",children:i}),Object(O.jsxs)("form",{className:"modalLoginBox",onSubmit:ct,children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",className:"ModalInputUpdate",onChange:function(e){D(e.target.value)},value:C})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u0418\u043c\u044f",className:"ModalInputUpdate",onChange:function(e){Ie(e.target.value)},value:Ce})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"Email",type:"email",className:"ModalInputUpdate",onChange:function(e){e.target.value&&(V(""),B(e.target.value)),""===e.target.value&&(V(""),B(""))},value:L||E,minLength:6})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",className:"ModalInputUpdate",ref:Pe,onChange:function(e){e.target.value&&(J(""),$(e.target.value)),""===e.target.value&&(J(""),$(""));var t=e.target.value;if(t.length<1)$("");else{var a=function(e){var t=e.replace(/\D/g,"");t.startsWith("7")&&(t=t.slice(1));var a=(t=t.slice(0,10)).match(/^(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})$/);return a?"+7 "+[a[1],a[2],a[3],a[4]].filter(Boolean).join("-"):"+7 "+t}(t);$(a)}},value:Y||H})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u0414\u043e\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442(\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430,\u0424\u0418\u041e,\u0441\u0442\u0430\u0442\u0443\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430)",type:"text",className:"ModalInputUpdate",ref:Fe,onChange:function(e){e.target.value&&(K(""),te(e.target.value)),""===e.target.value&&(K(""),te(""))},value:z||ee})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438",type:"text",className:"ModalInputUpdate",ref:Ee,onChange:function(e){e.target.value&&(se(""),le(e.target.value)),""===e.target.value&&(se(""),le(""))},value:ce||ue})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{placeholder:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",type:"text",className:"ModalInputUpdate",ref:Be,onChange:function(e){e.target.value&&(be(""),he(e.target.value)),""===e.target.value&&(be(""),he(""))},value:de||me})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{placeholder:"\u0413\u043e\u0440\u043e\u0434",type:"text",className:"ModalInputUpdate",ref:Te,value:Ge||f,onChange:function(e){var t=e.target.value;if(Xe(t),""===t)return We(""),Ze([]),void v("");var a=at.filter((function(e){return e.city_name&&e.city_name.toLowerCase().includes(t.toLowerCase())}));Ze(a)}}),Object(O.jsxs)("div",{children:[Qe.length>0&&Object(O.jsx)("div",{className:"divSelectRegister",children:Qe.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){We(t),Xe(e),Ze([])}(e.city_name,e.id)},children:e.city_name},t)}))}),Object(O.jsx)("input",{placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",type:"text",className:"ModalInputUpdate",ref:Ue,onChange:function(e){e.target.value&&(ge(""),Ne(e.target.value)),""===e.target.value&&(ge(""),Ne(""))},value:ve||ke})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{value:p,onChange:function(e){m(e.target.value)},ref:Ve,className:"ModalInputUpdateSelect",children:Me.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(O.jsx)("button",{className:"ModalButton",type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})};a(521);var U=function(e){var t=e.modalActiveDelete,a=e.setModalActiveDelete,n=e.username,c=e.user,s=function(){var e=Object(l.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={userId:n.username,healthEnd:1,status:4},e.prev=2,e.next=5,g.a.put("/api/deluser/",s);case 5:a(!1),window.location.href="/profile/".concat(c.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{className:"modalLoginBox",onSubmit:s,children:[Object(O.jsx)("h2",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d"}),Object(O.jsx)("button",{className:"ModalButtonDelete",type:"submit",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})};var Y=function(e){var t=e.modalResetPassword,a=e.setModalResetPassword,n=e.username,c=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:n,newPassword:"qwerty123"},e.next=3,g.a.put("/api/resetPassword/",t);case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),Object(O.jsx)("h2",{children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u0443\u0434\u0435\u0442: qwerty123"}),Object(O.jsx)("button",{className:"ModalButtonRePasswordUser",type:"submit",onClick:c,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})};var J=function(e){var t=e.modalFinishTime,a=e.setModalFinishTime,n=e.user,c=e.status,s=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==c){e.next=6;break}return t={status:2,typework_id:1,userId:n,healthEnd:"-",commentEnd:"-",workEnd:new Date(Date.now())},e.next=4,g.a.put("/api/post/",t);case 4:e.next=7;break;case 6:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435");case 7:a(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{className:"modalLoginBox",onSubmit:s,children:[Object(O.jsx)("h2",{children:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043e\u0442\u043c\u0435\u0442\u043a\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?"}),Object(O.jsx)("button",{className:"ModalButtonDelete",type:"submit",children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})]})]})},q=a(44);var W=function(e){var t=e.modalVote,a=e.setModalVote,c=e.username,s=e.updateNominationStatus,r=Object(n.useState)({}),i=Object(o.a)(r,2),j=(i[0],i[1]),d=Object(n.useState)(),b=Object(o.a)(d,2),p=b[0],m=b[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)([]),y=Object(o.a)(_,2),k=y[0],N=y[1],w=Object(n.useState)([]),S=Object(o.a)(w,2),C=S[0],D=S[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/vote/");case 2:return t=e.sent,e.next=5,g.a.get("/api/user/"+c.username);case 5:a=e.sent,N(a.data),D(t.data),j((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(q.a)({},k.nomination_status,!0))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var M=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+c.username);case 2:if(e.sent,t={userId:c.username,id_nomination:p},void 0!==p){e.next=8;break}v("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"),e.next=12;break;case 8:return e.next=10,g.a.post("/api/vote/",t);case 10:a(!1),window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+c.username);case 2:return e.sent,t={userId:c.username,id_nomination:null},e.next=6,g.a.post("/api/vote/",t);case 6:a(!1),window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e:"}),f&&Object(O.jsx)("div",{className:"modalError",children:f}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"voteContainer",children:C.map((function(e,t){return Object(O.jsx)("div",{className:"voteItem",children:Object(O.jsxs)("label",{htmlFor:e.id,className:"inputVote",children:[Object(O.jsx)("input",{type:"checkbox",id:e.id,value:e.id,onChange:function(t){return function(e,t){var a=e.target,n=a.id,c=a.checked;j(c||null),m(e.target.value),j((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(q.a)({},n,c))})),s(n),N((function(e){return Object(R.a)(Object(R.a)({},e),{},{nomination_status:c?t:null})}))}(t,e.id)},checked:k.nomination_status===e.id}),e.nominations_name," ",Object(O.jsx)("img",{src:"../images/".concat(e.id,".png"),alt:"Image for ".concat(e.nominations_name),className:"images"})]},t)},t)}))})}),Object(O.jsx)("button",{className:"button",type:"submit",onClick:M,children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}),Object(O.jsx)("button",{className:"button",type:"submit",onClick:A,children:"\u0421\u043d\u044f\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"})]})};var H=function(e){var t=e.modalActivePass,a=e.setModalActivePass,c=JSON.parse(localStorage.getItem("user")),s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],j=r[1],d=Object(n.useRef)(),b=Object(n.useRef)(),p=Object(n.useRef)(),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b.current.value===p.current.value){e.next=4;break}return j("\u041d\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),e.abrupt("return");case 4:return n={userId:c._id,password:c.password,oldPassword:d.current.value,newPassword:b.current.value},e.prev=5,e.next=8,g.a.put("/api/newPassword/",n);case 8:a(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),j("\u0421\u0442\u0430\u0440\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),i&&Object(O.jsx)("div",{className:"modalError",children:i}),Object(O.jsxs)("form",{className:"modalLoginBox",onSubmit:m,children:[Object(O.jsx)("input",{placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"inputChangePassword",ref:d}),Object(O.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"inputChangePassword",ref:b,minLength:"6"}),Object(O.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0451 \u0440\u0430\u0437",type:"password",className:"inputChangePassword",ref:p,minLength:"6"}),Object(O.jsx)("button",{className:"ModalButtonChangePassword",type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},$=a(29);a(522);var G=function(e){var t=e.modalActiveVote,a=e.setModalActiveVote,c=e.username,s=Object(n.useState)(""),r=Object(o.a)(s,2),i=(r[0],r[1]),j=JSON.parse(localStorage.getItem("user")),d=Object(n.useState)(""),b=Object(o.a)(d,2),p=b[0],m=b[1],h=Object(n.useState)([]),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)(""),y=Object(o.a)(_,2),k=y[0],N=y[1],w=Object(n.useState)(null),S=Object(o.a)(w,2),C=S[0],D=S[1],M=Object(n.useState)([]),A=Object(o.a)(M,2),L=A[0],V=A[1],P=Object(n.useState)([]),F=Object(o.a)(P,2),E=F[0],B=F[1],T=Object(n.useState)([]),U=Object(o.a)(T,2),Y=U[0],J=U[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/vote/");case 2:return t=e.sent,v(t.data),e.next=6,g.a.get("/api/user/");case 6:a=e.sent,n=a.data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),s=n.filter((function(e){return e.id!==c.username&&4!==e.status})),V(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u041d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438:"}),p&&Object(O.jsx)("div",{className:"modalError",children:p}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"div",children:[Object(O.jsx)("div",{children:f.map((function(e,t){return Object(O.jsxs)("label",{htmlFor:e.id,children:[Object(O.jsx)("h3",{className:"inputVote",children:e.nominations_name}),e.description]},t)}))}),Object(O.jsx)("div",{className:"di",children:f.map((function(e,t){return Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(O.jsx)("input",{onChange:function(e){return function(e,t){var a=t+1,n=e.target.value;N((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(q.a)({},a,n))})),D(a);var c=e.target.value;i(c);var s=L.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(c.toLowerCase())}));B(""===c?[]:s)}(e,t)},value:k[t+1]||"",className:"select"}),C===t+1&&E.length>0&&Object(O.jsx)("div",{className:"divVoteNomination",children:E.slice(0,15).map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",onClick:function(t){return function(e,t,a){B([]),console.log("index=",t,a),N((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(q.a)({},C,a))})),e.preventDefault();var n=t.toString(),c=n.split("_");if(""!==c[0]&&""!==c[1]){c[1].toString();var s=c[0].toString(),r=Y.findIndex((function(e){return e.split("_")[0]===s}));if(-1!==r){var i=Object($.a)(Y);return i[r]=n,console.log("\u041c\u0430\u0441\u0441\u0438\u0432 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u043c:",i),void J(i)}var u=Object($.a)(Y);u.push(n);var l=u.filter((function(e){return""!==e}));console.log("newArray=",l),J(l)}}(t,C+"_"+e.id,e.user_name)},children:e.user_name},t)}))})]},t+1)}))})]}),Object(O.jsx)("button",{className:"button",type:"submit",onClick:function(){0===Y.length?m("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438"):(Y.forEach(function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("_"),n={user_id:j._id,vote_for_user:a[1],nominations_id:a[0]},e.next=4,g.a.post("/api/vote/",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a(!1))},children:"\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"})]})};function X(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],b=Object(n.useState)(),p=Object(o.a)(b,2),m=p[0],h=p[1],x=Object(n.useState)(!1),f=Object(o.a)(x,2),v=f[0],_=f[1],y=Object(n.useState)([]),k=Object(o.a)(y,2),N=k[0],w=k[1],S=Object(n.useState)([]),C=Object(o.a)(S,2),I=C[0],D=C[1],P=Object(n.useState)([]),F=Object(o.a)(P,2),q=F[0],$=F[1],X=Object(n.useState)(!1),z=Object(o.a)(X,2),K=z[0],Q=z[1],Z=Object(n.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),se=ce[0],re=ce[1],ie=Object(n.useState)(!1),ue=Object(o.a)(ie,2),le=ue[0],oe=ue[1],je=Object(n.useState)(!1),de=Object(o.a)(je,2),be=de[0],Oe=de[1],pe=Object(n.useState)(!1),me=Object(o.a)(pe,2),he=me[0],xe=me[1],fe=Object(n.useState)(!1),ve=Object(o.a)(fe,2),ge=ve[0],_e=ve[1],ye=Object(n.useState)(!1),ke=Object(o.a)(ye,2),Ne=ke[0],we=ke[1],Se=Object(n.useState)(!1),Ce=Object(o.a)(Se,2),Ie=Ce[0],De=Ce[1],Re=Object(d.h)(),Me=Re?{_id:Re.username,email:""}:JSON.parse(localStorage.getItem("user")),Ae=JSON.parse(localStorage.getItem("user")),Le={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=Object.keys(Pe).some((function(e){return q.nomination_status===e||q.nomination_status===parseInt(e)}));i(e);var t=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:Re.username},e.next=3,g.a.post("/api/departments/",t);case 3:n=e.sent,a(n.data[0].timezone),w(n.data[0].department_name),D(n.data[0].city_name);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me._id=Me._id?Me._id:Me.id,Me._id=Re?Re.username:Me._id,e.next=4,g.a.get("/api/user/"+Re.username);case 4:t=e.sent,$(t.data),Q(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(),t()}),[q.user_name,q.email,q.phone_number,q.additional_contact,q.distribution_group,q.activity_profile,q.place_of_residence,Re.username]),(Me=q&&!Array.isArray(q)?q:Me).username=Me.user_name?Me.user_name:Me.username;var Ve=Me.email.toLowerCase(),Pe={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(O.jsxs)("div",{className:"profileInfo",children:[Object.keys(Pe).map((function(e,t){return(q.nomination_status===e||q.nomination_status===parseInt(e))&&Object(O.jsx)("img",{src:Pe[e].src,title:Pe[e].title,alt:"Image for ".concat(e),className:"imagesProfile"},t)})),K?Object(O.jsx)("div",{className:"isFatching",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(O.jsxs)("div",{className:"employeePI "+function(e){for(var t in Le)if(t==e)return Le[t]}(q.status),children:[Object(O.jsxs)("div",{className:"ProfileName",style:{paddingTop:r?"10px":"0px"},children:[q.user_name,Ae.isAdmin||Ae._id===Re.username?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M.a,{style:{cursor:"pointer",fontSize:"20px",paddingLeft:"5px"},onClick:function(){return ae(!0)}}),Object(O.jsx)(T,{modalActive:te,setModalActive:ae})]}):"",Ae.isAdmin?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A.a,{style:{cursor:"pointer",fontSize:"20px"},onClick:function(){return we(!0)}}),Object(O.jsx)(U,{modalActiveDelete:Ne,setModalActiveDelete:we,username:Re.username,user:q.id})]}):"",!0===Ae.isAdmin&&Ae._id===q.id?Object(O.jsx)(j.b,{to:"/AdminPanel",children:Object(O.jsx)(L.a,{style:{cursor:"pointer",fontSize:"20px",paddingTop:"5px",color:"black"}})}):""]}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{style:{cursor:"pointer"},onClick:function(){Ae.isAdmin&&(_(!0),h(q))},className:"ProfileLinkVacancies",children:q.vacancy_code})}),Object(O.jsxs)("div",{style:{border:"3px dashed black",padding:"10px"},children:[Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["Email: ",Ve.charAt(0).toUpperCase()+Ve.slice(1)]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",q.phone_number]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:[!1!==Ae.isAdmin||Ae._id===Re.username?"\u0414\u043e\u043f.\u041a\u043e\u043d\u0442\u0430\u043a\u0442: ":"",!1!==Ae.isAdmin||Ae._id===Re.username?q.additional_contact:""]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438: ",q.distribution_group]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: ",q.activity_profile]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",I]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:[!1!==Ae.isAdmin||Ae._id===Re.username?"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ":"",!1!==Ae.isAdmin||Ae._id===Re.username?q.place_of_residence:""]}),Object(O.jsxs)("div",{className:"ProfileInfoCard",children:["\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435: ",N]})]}),Ae.isAdmin||Ae._id===Re.username?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"changePass",onClick:function(){return re(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(O.jsx)(H,{modalActivePass:se,setModalActivePass:re})]}):"",Ae.isAdmin?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"changePass",onClick:function(){return xe(!0)},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(O.jsx)(Y,{modalResetPassword:he,setModalResetPassword:xe,username:Re.username})]}):"",Ae.isAdmin?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"changePass",onClick:function(){return _e(!0)},children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"}),Object(O.jsx)(J,{modalFinishTime:ge,setModalFinishTime:_e,user:q.id,status:q.status})]}):"",Ae._id===q.id?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"changePass",onClick:function(){return oe(!0)},children:"\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"}),Object(O.jsx)(G,{modalActiveVote:le,setModalActiveVote:oe,username:Re})]}):"",Ae.isAdmin?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"changePass",onClick:function(){return Oe(!0)},children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"}),Object(O.jsx)(W,{modalVote:be,setModalVote:Oe,username:Re,updateNominationStatus:function(e){$((function(t){return Object(R.a)(Object(R.a)({},t),{},{nomination_status:e})}))}})]}):"",Object(O.jsx)("div",{className:"changePass",onClick:function(){return De(!0)},children:"\u041d\u0430\u0432\u044b\u043a\u0438"}),Object(O.jsx)(V,{modalActiveSkills:Ie,setModalActiveSkills:De})]}),Object(O.jsx)(B,{active:v,setActive:_,children:Object(O.jsx)(E,{allDateUser:m})}),Object(O.jsx)(V,{})]})}a(523);function z(e){var t=JSON.parse(localStorage.getItem("user"));return Object(O.jsxs)("div",{className:"homeWrapper",children:[Object(O.jsx)(X,{}),t._id!==e.username.username&&t.isAdmin||t._id===e.username.username?Object(O.jsx)(D,{}):""]})}a(524);function K(){var e=Object(d.h)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(z,{username:e})})}a(525);function Q(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useRef)(),r=Object(n.useRef)(),i=Object(d.g)(),b=Object(n.useRef)(),p=Object(n.useRef)(),m=Object(n.useRef)(),h=Object(n.useRef)(),x=Object(n.useRef)(),f=Object(n.useRef)(),v=Object(n.useRef)(),_=Object(n.useRef)(),y=Object(n.useState)([]),k=Object(o.a)(y,2),N=k[0],w=k[1],S=Object(n.useState)([]),C=Object(o.a)(S,2),I=C[0],D=C[1],R=Object(n.useState)([]),M=Object(o.a)(R,2),A=M[0],L=M[1],V=Object(n.useState)([]),P=Object(o.a)(V,2),F=P[0],E=P[1],B=Object(n.useState)(""),T=Object(o.a)(B,2),U=T[0],Y=T[1],J=Object(n.useState)([]),q=Object(o.a)(J,2),W=q[0],H=q[1],$=Object(n.useState)(""),G=Object(o.a)($,2),X=G[0],z=G[1],K=Object(n.useState)(!1),Q=Object(o.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1],se=Object(n.useState)([]),re=Object(o.a)(se,2),ie=re[0],ue=re[1],le=Object(n.useState)([]),oe=Object(o.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(""),Oe=Object(o.a)(be,2),pe=Oe[0],me=Oe[1],he=Object(n.useState)(""),xe=Object(o.a)(he,2),fe=xe[0],ve=xe[1],ge=Object(n.useState)([]),_e=Object(o.a)(ge,2),ye=_e[0],ke=_e[1],Ne=Object(n.useState)([]),we=Object(o.a)(Ne,2),Se=we[0],Ce=we[1],Ie=function(){ee(!Z)};Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a,n,c,s,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?company=company");case 2:return a=e.sent,E(a.data),e.next=6,g.a.get("/api/Vacations/");case 6:return n=e.sent,ce(n.data),e.next=10,g.a.get("/api/Cities/");case 10:return c=e.sent,H(c.data),e.next=14,g.a.get("/api/department_tree_to_json/");case 14:s=e.sent,r=s.data[0].department_tree_to_json,i=t(r),L(i);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function e(t){var a=[{id:t.id,name:t.Name}];return t.Subclasses&&t.Subclasses.length>0&&t.Subclasses.forEach((function(t){a=a.concat(e(t))})),a};e()}),[]);var De=function(){var n=Object(l.a)(u.a.mark((function n(l){var o,j,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.preventDefault(),/^\u0418\u0422\u0421-[\d\W]+$/.test(pe)){n.next=5;break}return Y("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0418\u0422\u0421-XX-XX\u0425-\u0425\u0425\u0425XXXX"),n.abrupt("return");case 5:if(t.current.value===a.current.value){n.next=8;break}return a.current.setCustomValidity("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),n.abrupt("return");case 8:if(""!==r.current.value){n.next=11;break}return Y("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),n.abrupt("return");case 11:if(o=s.current.value+" "+c.current.value,""!==_.current.value){n.next=15;break}return Y("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),n.abrupt("return");case 15:return j={user_name:o,email:e.current.value.toUpperCase(),department_id:r.current.value,password:t.current.value,isadmin:Z,phone_number:b.current.value,link_vacancies:0!==ye.length?ye:pe.trim().toUpperCase(),city_id:0===Se.length?null:Se,additionalContact:m.current.value,distributionGroup:h.current.value,activityProfile:f.current.value,place_of_residence:v.current.value,companyName:_.current.value,grade:N,project:I},n.prev=16,n.next=19,g.a.post("/api/Register/",j);case 19:if("Username user taken"!==(d=n.sent).data.status){n.next=24;break}Y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u0437\u0430 \u0442\u0430\u043a\u043e\u0439 \u0418\u0422\u0421"),n.next=39;break;case 24:if("Username taken"!==d.data.status){n.next=28;break}Y("\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=39;break;case 28:if("noITC"!==d.data.noITC){n.next=32;break}Y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u043e\u0439 \u0418\u0422\u0421 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=39;break;case 32:if("THIS IS ALREADY EXISTS"!==d.data.ITC){n.next=36;break}Y("\u0422\u0430\u043a\u0430\u044f \u0418\u0422\u0421 \u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=39;break;case 36:return n.next=38,g.a.post("/api/Register/",j);case 38:i.push("/login");case 39:n.next=44;break;case 41:n.prev=41,n.t0=n.catch(16),Y("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438");case 44:case"end":return n.stop()}}),n,null,[[16,41]])})));return function(e){return n.apply(this,arguments)}}();function Re(e){""===e.target.value&&Y("Email \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u043e\u043c\u0435\u043d\u0430 VTB"),e.target.value.length>0&&Y("")}function Me(){Y(""),X.length<=3&&z("")}return Object(O.jsx)("div",{className:"register",children:Object(O.jsx)("div",{className:"registerWrapper",children:Object(O.jsxs)("form",{className:"registerBox",onSubmit:De,children:[U&&Object(O.jsx)("div",{className:"errorRegister",children:U}),Object(O.jsx)("input",{placeholder:"\u0418\u043c\u044f",required:!0,ref:c,className:"registerInput",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",required:!0,ref:s,className:"registerInput",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",required:!0,ref:b,className:"registerInput",onMouseDown:Me,onChange:function(e){var t=e.target.value;if(t.length<1)z("");else{var a=function(e){var t=e.replace(/\D/g,"");t.startsWith("7")&&(t=t.slice(1));var a=(t=t.slice(0,10)).match(/^(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})$/);return a?"+7 "+[a[1],a[2],a[3],a[4]].filter(Boolean).join("-"):"+7 "+t}(t);z(a)}},value:X}),Object(O.jsxs)("div",{className:"inputContainer",children:[Object(O.jsx)("input",{placeholder:"\u0413\u043e\u0440\u043e\u0434",ref:p,className:"registerInput",value:fe,onChange:function(e){var t=e.target.value;ve(t);var a=W.filter((function(e){return e.city_name&&e.city_name.toLowerCase().includes(t.toLowerCase())}));de(""===t?[]:a)},onMouseDown:Me}),je.length>0&&Object(O.jsx)("div",{className:"dropdown",children:je.slice(0,10).map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){Ce(t),ve(e),de([])}(e.city_name,e.id)},children:e.city_name},t)}))})]}),Object(O.jsx)("input",{placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",type:"text",required:!0,ref:v,className:"registerInput",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u0414\u043e\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442(\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430,\u0424\u0418\u041e,\u0441\u0442\u0430\u0442\u0443\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430)",type:"text",required:!0,ref:m,className:"registerInput",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438",required:!0,ref:h,className:"registerInput",onMouseDown:Me}),Object(O.jsxs)("div",{className:"inputContainer",children:[Object(O.jsx)("input",{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e",required:!0,ref:x,className:"registerInput",value:pe,onChange:function(e){var t=e.target.value;0===pe.length&&ke([]),me(t);var a=ne.filter((function(e){return e.vacancy_code&&e.vacancy_code.toLowerCase().includes(t.toLowerCase())}));ue(""===t?[]:a)},onMouseDown:Me}),ie.length>0&&Object(O.jsx)("div",{className:"dropdown",children:ie.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:t,onClick:function(){return function(e,t){ke(t),me(e),ue([])}(e.vacancy_code,e.id)},children:e.vacancy_code},t)}))})]}),Object(O.jsx)("input",{placeholder:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",required:!0,ref:f,className:"registerInput",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u0413\u0440\u0435\u0439\u0434",type:"text",required:!0,className:"registerInput",onMouseDown:Me,onChange:function(e){/^\d*$/.test(e.target.value)&&w(e.target.value)},value:N}),Object(O.jsxs)("select",{ref:_,className:"selectDeps",children:[Object(O.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}),F.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(O.jsx)("input",{placeholder:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",type:"text",required:!0,className:"registerInput",onMouseDown:Me,onChange:function(e){/^\d*$/.test(e.target.value)&&D(e.target.value)},value:I}),Object(O.jsx)("input",{placeholder:"Email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 IvanoIA@vtb.ru",type:"email",required:!0,ref:e,className:"registerInput",onMouseDown:Re,onInput:Re}),Object(O.jsxs)("select",{ref:r,className:"selectDeps",children:[Object(O.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),A.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(O.jsxs)("div",{children:["\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430?",Object(O.jsxs)("label",{htmlFor:"trueAdmin",children:[Object(O.jsx)("input",{type:"radio",value:!0,name:"trueAdmin",checked:Z,onChange:Ie,onMouseDown:Me}),"\u0414\u0430"]}),Object(O.jsxs)("label",{htmlFor:"falseAdmin",children:[Object(O.jsx)("input",{type:"radio",value:!1,name:"falseAdmin",checked:!Z,onChange:Ie,onMouseDown:Me}),"\u041d\u0435\u0442"]})]}),Object(O.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",required:!0,ref:t,className:"registerInput",minLength:"6",onMouseDown:Me}),Object(O.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0451 \u0440\u0430\u0437",type:"password",required:!0,ref:a,className:"registerInput",minLength:"6",onMouseDown:Me}),Object(O.jsx)("div",{style:{width:"100%"},children:Object(O.jsx)("button",{className:"registerButton",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(O.jsx)("div",{style:{width:"100%"},children:Object(O.jsx)(j.b,{to:"/login",children:Object(O.jsx)("button",{className:"registerLoginButton",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})})]})})})}a(526);function Z(e){var t=e.user,a=Object(d.g)(),c=Object(n.useState)([]),s=Object(o.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(),b=Object(o.a)(j,2),p=b[0],m=b[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)(""),y=Object(o.a)(_,2),k=y[0],N=y[1],w=Object(n.useState)(),S=Object(o.a)(w,2),C=S[0],I=S[1],D=Object(n.useState)(),R=Object(o.a)(D,2),M=R[0],A=R[1],L=JSON.parse(localStorage.getItem("user")),V={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+t.id);case 2:return a=e.sent,e.next=5,g.a.get("/api/vacation?id="+t.id);case 5:return n=e.sent,e.next=8,g.a.get("/api/post?type=1&id="+t.id);case 8:c=e.sent,i(a.data.nomination_status),!0!==a.data.isadmin?m(""):m("*"),0===n.data.length?(I(""),A("")):(I(n.data[0].workdate),A(n.data[0].worked)),0===c.data.length?(v(""),N("")):(v(c.data[0].workdate),N(c.data[0].workend));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();1!==t.status&&2!==t.status&&3!==t.status&&5!==t.status&&6!==t.status&&7!==t.status||e()}),[t.id]);var P={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{onClick:function(){a.push("/profile/".concat(t.id))},className:"name",children:Object(O.jsx)("div",{className:"searchBlockContainer",children:Object(O.jsx)("div",{className:"employee "+function(e){for(var t in V)if(t==e)return V[t]}(t.status),children:Object(O.jsxs)("div",{className:"angry-grid",children:[Object(O.jsx)("div",{id:"item-0",children:Object(O.jsxs)("span",{className:"searchName",children:[t.user_name,L.isAdmin?p:""]})}),Object(O.jsxs)("div",{id:"item-1",children:[5===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u043f\u0443\u0441\u043a:",C,"-",M]}),6===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u0433\u0443\u043b:",C,"-",M]}),7===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430:",C,"-",M]}),3===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439:",C,"-",M]}),2===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:[f," ",k]})]}),Object(O.jsx)("div",{id:"item-2",children:Object.keys(P).map((function(e,a){return(t.nomination_status===e||t.nomination_status===parseInt(e)||r===e||r===parseInt(e))&&Object(O.jsx)("img",{src:P[e].src,title:P[e].title,alt:"Image for ".concat(e)},a)}))})]})})})})})}a(527);function ee(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(o.a)(s,2),i=r[0],b=r[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)([]),N=Object(o.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)(!1),D=Object(o.a)(C,2),R=D[0],M=D[1],A=Object(n.useState)(!0),L=Object(o.a)(A,2),V=L[0],P=L[1],F=Object(n.useState)(!1),E=Object(o.a)(F,2),B=E[0],T=E[1],U=JSON.parse(localStorage.getItem("user")),Y=Object(d.h)().username;function J(e){return e.filter((function(e){return 1===e.status})).concat(e.filter((function(e){return 2===e.status}))).concat(e.filter((function(e){return 3===e.status}))).concat(e.filter((function(e){return 1!==e.status&&2!==e.status&&3!==e.status&&4!==e.status}))).concat(e.filter((function(e){return 4===e.status})))}Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c,s,r,i,l,o,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==U.isAdmin){e.next=21;break}return t={id:U._id},e.next=4,g.a.post("/api/get_statistics_all_users",t);case 4:a=e.sent,n=a.data[0].get_statistics_all_users[0].all_users.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),c=J(n),null===a.data[0].get_statistics_all_users[0].all_users&&~document.location.href.indexOf("/all_users/")&&alert("\u041d\u0435\u0442 \u043d\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),null===a.data[0].get_statistics_all_users[0].not_working_today&&~document.location.href.indexOf("/not_working_today/")&&(alert("\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u0441\u0435 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].not_worked_yesterday&&~document.location.href.indexOf("/not_worked_yesterday/")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u0432\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].sick_today&&~document.location.href.indexOf("/sick_today/")&&(alert("\u041d\u0435\u0442 \u0431\u043e\u043b\u0435\u044e\u0449\u0438\u0445 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].sick_yesterday&&~document.location.href.indexOf("/sick_yesterday")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0430 \u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u043e\u043c"),window.location.href="/department/".concat(U.main_department)),null===a.data[0].get_statistics_all_users[0].vacation_today&&~document.location.href.indexOf("/vacation_today")&&(alert("\u041d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435\u0442 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435"),window.location.href="/department/".concat(U.main_department)),null===a.data[0].get_statistics_all_users[0].vacation_yesterday&&~document.location.href.indexOf("/vacation_yesterday")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435"),window.location.href="/department/".concat(U.main_department)),~document.location.href.indexOf("/all_users/")&&(P(V),b(c)),~document.location.href.indexOf("/not_working_today/")&&(null===a.data[0].get_statistics_all_users[0].not_working_today||(P(V),s=a.data[0].get_statistics_all_users[0].not_working_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(s)))),~document.location.href.indexOf("/not_worked_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].not_worked_yesterday||(P(V),r=a.data[0].get_statistics_all_users[0].not_worked_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(r)))),~document.location.href.indexOf("/sick_today/")&&(null===a.data[0].get_statistics_all_users[0].sick_today||(P(V),i=a.data[0].get_statistics_all_users[0].sick_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(i)))),~document.location.href.indexOf("/sick_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].sick_yesterday||(P(V),l=a.data[0].get_statistics_all_users[0].sick_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(l)))),~document.location.href.indexOf("/vacation_today/")&&(null===a.data[0].get_statistics_all_users[0].vacation_today||(P(V),o=a.data[0].get_statistics_all_users[0].vacation_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(o)))),~document.location.href.indexOf("/vacation_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].vacation_yesterday||(P(V),j=a.data[0].get_statistics_all_users[0].vacation_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),b(J(j))));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+U._id);case 2:t=e.sent,c(t.data.see_child),S(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user");case 2:return(t=e.sent).data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),a=J(t.data),e.abrupt("return",a.filter((function(e){return e.department_id===Y})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={depsId:Y},e.next=3,g.a.post("/api/get_users_by_dep/",t);case 3:if(a=e.sent,null!==(n=a.data[0].get_users_by_dep)){e.next=9;break}return e.abrupt("return",[]);case 9:return c=n.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),s=J(c),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(l.a)(u.a.mark((function e(){var t,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:if(t=e.sent,c=[],!a||w.main_department!==Y){e.next=13;break}return P(!1),e.next=9,s();case 9:r=e.sent,c=c.concat(r),e.next=14;break;case 13:c=t;case 14:x(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();r(),P(!0),Y&&y([]),e(),t()}),[Y,w.main_department]);var q=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!a),t={userId:U._id,ischeked:!a},e.next=4,g.a.post("/api/statusChild/",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:U._id,depsId:Y},e.next=3,g.a.put("/api/user",t);case 3:e.sent,T(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=7;break}return t={depsId:Y},e.next=4,g.a.post("/api/get_users_by_dep/",t);case 4:a=e.sent,null!==(n=a.data[0].get_users_by_dep)&&(n.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),c=J(n),y(c),x([]),P(!V),M(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"staff",children:[Object(O.jsx)(O.Fragment,{children:Y&&Object(O.jsxs)(O.Fragment,{children:[V?Object(O.jsx)("button",{onClick:H,className:"btnStaff",style:{width:"155px"},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"}):Object(O.jsx)("button",{onClick:function(){return window.location.href="/department/".concat(Y)},className:"btnStaff",disabled:a&&w.main_department===Y,children:"\u0421\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"}),Object(O.jsx)("button",{onClick:function(){return T(!0)},className:"btnStaff",style:{float:"right"},children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439"}),U.isAdmin?Object(O.jsx)(j.b,{to:"/VacanciesView/",children:Object(O.jsx)("button",{className:"btnStaff",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"})}):""]})}),Object(O.jsxs)("div",{className:"employeeWrapper",children:[h.map((function(e,t){return Object(O.jsx)(Z,{user:e},t)})),R?_.map((function(e,t){return Object(O.jsx)(Z,{user:e},t)})):"",Y?"":i.map((function(e,t){return Object(O.jsx)(Z,{user:e},t)}))]}),Object(O.jsxs)(I,{active:B,setActive:T,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{className:"modalLoginBox",children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",onChange:q,checked:a}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"]}),Object(O.jsx)("button",{className:"ModalButtonDepartment",type:"submit",onClick:W,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u044b\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u043c"})]})]})]})}a(528);function te(){return Object(O.jsxs)("div",{className:"feed",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{className:"h1",children:["\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435  \u279c ",Object(O.jsx)("a",{className:"a4",href:"https://sfera.vtb.ru/knowledge/pages?id=110481",target:"_blank",children:"\u041d\u0430\u0448\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443? \u041f\u0438\u0448\u0438 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445!"})]})}),Object(O.jsx)("div",{className:"feedWrapper",children:Object(O.jsx)(ee,{})}),Object(O.jsx)("div",{className:"circle-container",children:Object(O.jsx)("div",{className:"circle"})})]})}a(529);function ae(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(te,{})})}var ne=a(570),ce=(a(530),a(94)),se={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};function re(e){for(var t in se)if(t==e)return se[t]}function ie(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),j=i[0],d=i[1],b=Object(n.useState)([]),p=Object(o.a)(b,2),m=p[0],h=p[1],x=Object(n.useState)([]),v=Object(o.a)(x,2),_=(v[0],v[1]),y=Object(n.useState)(""),k=Object(o.a)(y,2),N=k[0],w=k[1],S=Object(n.useState)([]),C=Object(o.a)(S,2),D=C[0],M=C[1],A=Object(n.useState)(!1),L=Object(o.a)(A,2),V=L[0],P=(L[1],Object(n.useState)("")),F=Object(o.a)(P,2),E=F[0],B=F[1],T=Object(n.useState)(!1),U=Object(o.a)(T,2),Y=U[0],J=U[1],q=Object(n.useState)(!1),W=Object(o.a)(q,2),H=W[0],$=W[1],G=Object(n.useState)(),X=Object(o.a)(G,2),z=X[0],K=X[1],Q=Object(n.useRef)(),Z=Object(n.useRef)(),ee=Object(n.useRef)(),te=Object(n.useRef)();Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,r,i,l,o,j,b,O,p,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/user/"+e._id);case 2:return a=t.sent,M(a.data),t.next=6,g.a.get("/api/workplace_logs_get/"+e._id);case 6:return n=t.sent,r=n.data.filter((function(e){return!0!==e.is_canceled})),h(r),t.next=11,g.a.get("/api/office_get/");case 11:if(i=t.sent,l=i.data.map((function(e){return e.location})),d(l),o=ce().format("YYYY-MM-DD"),ee.current&&(ee.current.value=o),te.current&&""!==te.current.value&&Z.current&&""!==Z.current.value&&ee.current&&""!==ee.current.value){t.next=23;break}return 1,j={date:o,office:1},t.next=21,g.a.post("/api/workplaces/",j);case 21:b=t.sent,s(b.data);case 23:if(!te.current){t.next=34;break}if(null!==te.current.value){t.next=28;break}te.current.value="",t.next=33;break;case 28:return O={date:o,office:te.current.value},t.next=31,g.a.post("/api/workplaces/",O);case 31:p=t.sent,s(p.data);case 33:c&&c.length>0?(m=c.map((function(e){return e.location_res})),_(m)):_([]);case 34:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]);var ae=function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==+z||""!==Q.current.value){t.next=3;break}return B("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.abrupt("return");case 3:if(0===+z||1===+z){t.next=7;break}B("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"),t.next=19;break;case 7:return a={userId:e._id,typework_id:1,status:1,healthStart:+z,commentStart:Q.current.value||"-",workStart:new Date(Date.now())},t.prev=8,t.next=11,g.a.post("/api/post/",a);case 11:t.sent,localStorage.setItem("user",JSON.stringify(Object(R.a)(Object(R.a)({},e),{},{status:1}))),window.location.reload(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==+z||""!==Q.current.value){t.next=3;break}return B("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.abrupt("return");case 3:if(0===+z||1===+z){t.next=7;break}B("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"),t.next=23;break;case 7:return t.prev=7,t.next=10,g.a.get("/api/vacation?id="+e._id);case 10:return a=t.sent,n=ce().format("DD.MM.YY"),c=a.data.length>0&&n>=a.data[0].workdate&&n<=a.data[0].worked?a.data[0].typework_id:2,s={userId:e._id,typework_id:1,status:c,healthEnd:+z,commentEnd:Q.current.value||"-",workEnd:new Date(Date.now())},t.next=16,g.a.put("/api/post/",s);case 16:localStorage.setItem("user",JSON.stringify(Object(R.a)(Object(R.a)({},e),{},{status:2}))),window.location.reload(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(7),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[7,20]])})));return function(){return t.apply(this,arguments)}}(),se=function(e){K(e.target.value)},ie=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c,r,i,l,o,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(""),""!==Z.current.value&&""!==ee.current.value){t.next=4;break}t.next=19;break;case 4:if(a=Z.current.value.toString(),n=a.split("("),c=n[0].split("^"),!n[1]){t.next=11;break}w("\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u043d\u044f\u0442\u043e"),t.next=14;break;case 11:return r={user_id:e._id,wp_id:c[0],office:te.current.value,booking_date:ee.current.value,is_canceled:!1},t.next=14,g.a.post("/api/workplace_logs/",r);case 14:return i={date:ee.current.value,office:te.current.value},t.next=17,g.a.post("/api/workplaces/",i);case 17:l=t.sent,s(l.data);case 19:return t.next=21,g.a.get("/api/workplace_logs_get/"+e._id);case 21:o=t.sent,j=o.data.filter((function(e){return!0!==e.is_canceled})),h(j);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ce().format("YYYY-MM-DD"),ee.current.value<t?(ee.current.value=t,w("\u041d\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430")):w(""),a={date:ee.current.value,office:te.current.value},e.next=5,g.a.post("/api/workplaces/",a);case 5:n=e.sent,s(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(""),t=ce().format("YYYY-MM-DD"),""!==ee.current.value){e.next=6;break}ee.current.value=t,e.next=13;break;case 6:return a={date:ee.current.value,office:te.current.value},e.next=9,g.a.post("/api/workplaces/",a);case 9:n=e.sent,s(n.data),c=n.data.map((function(e){return e.location_res})),_(c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(""),""!==ee.current.value&&""!==Z.current.value){e.next=4;break}e.next=11;break;case 4:return t={date:ee.current.value,office:te.current.value},e.next=7,g.a.post("/api/workplaces/",t);case 7:a=e.sent,s(a.data),n=a.data.map((function(e){return e.location_res})),_(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c,r,i,l,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(""),a=ce().format("YYYY-MM-DD"),n={user_id:e._id,canceled:!0,date:a},t.next=5,g.a.post("/api/workplace_logs_clear/",n);case 5:return t.next=7,g.a.get("/api/workplace_logs_get/"+e._id);case 7:return c=t.sent,r=c.data.filter((function(e){return!0!==e.is_canceled})),h(r),i={date:ee.current.value,office:te.current.value},t.next=13,g.a.post("/api/workplaces/",i);case 13:l=t.sent,s(l.data),o=l.data.map((function(e){return e.location_res})),_(o);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){var t=Object(l.a)(u.a.mark((function t(a){var n,c,r,i,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(""),a.preventDefault(),n={user_id:e._id,id:a.target.value,canceled:!0},t.next=5,g.a.post("/api/workplace_logs_post/",n);case 5:return t.next=7,g.a.get("/api/workplace_logs_get/"+e._id);case 7:return c=t.sent,r=c.data.filter((function(e){return!0!==e.is_canceled})),i={date:ee.current.value,office:te.current.value},t.next=12,g.a.post("/api/workplaces/",i);case 12:l=t.sent,s(l.data),h(r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("table",{border:"0",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"submit",onClick:function(){return J(!0)},className:"statusBtn "+re(D.status),children:V?Object(O.jsx)(f.a,{style:{color:"white",size:"20px",width:"20px",height:"20px"}}):1!==D.status?"\u041d\u0430\u0447\u0430\u0442\u044c":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"submit",onClick:function(){return $(!0)},className:"statusBtn",children:Object(O.jsx)("h5",{children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e"})})})]})}),Object(O.jsxs)(I,{active:Y,setActive:J,children:[Object(O.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(O.jsx)("hr",{}),E&&Object(O.jsx)("div",{className:"modalError",children:E}),Object(O.jsxs)("div",{className:"statusCheckbox",children:[Object(O.jsxs)("label",{htmlFor:"sickLeave",children:[Object(O.jsx)("input",{type:"radio",value:1,id:"sickLeave",name:"sickLeave",onChange:se,checked:1===+z}),"\u0417\u0434\u043e\u0440\u043e\u0432"]}),Object(O.jsxs)("label",{htmlFor:"vacation",children:[Object(O.jsx)("input",{type:"radio",value:0,id:"vacation",name:"vacation",onChange:se,checked:0===+z}),"\u0411\u043e\u043b\u0435\u043d"]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("textarea",{placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",className:"textArea",ref:Q}),Object(O.jsx)("button",{className:"ModalButton",type:"submit",onClick:1===D.status?ne:ae,children:1!==D.status?"\u041d\u0430\u0447\u0430\u0442\u044c":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})]})]}),Object(O.jsxs)(I,{active:H,setActive:$,children:[Object(O.jsx)("h1",{style:{textAlign:"center"},children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043c\u0435\u0441\u0442\u043e"}),Object(O.jsx)("br",{}),N&&Object(O.jsx)("div",{className:"modalError",children:N}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{style:{fontWeight:"bold"},children:"\u0414\u0430\u0442\u0430: "}),Object(O.jsx)("input",{type:"date",className:"ModalInputDate",ref:ee,onChange:ue})]}),Object(O.jsx)("div",{style:{width:"50px"}}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{style:{fontWeight:"bold"},children:"\u041e\u0444\u0438\u0441: "}),Object(O.jsx)("select",{ref:te,onClick:le,className:"selectwork",children:j.map((function(e,t){return Object(O.jsx)("option",{title:e,value:t+1,children:e},t)}))})]}),Object(O.jsx)("div",{style:{width:"50px"}}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{style:{fontWeight:"bold"},children:"\u041c\u0435\u0441\u0442\u043e: "}),Object(O.jsx)("select",{ref:Z,onClick:oe,className:"selectwork",children:c.map((function(e,t){return Object(O.jsx)("option",{title:e.workplace_id,value:e.workplace_id+"^"+e.location_res,children:e.location_res},t)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"ModalButton",onClick:ie,type:"submit",children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"divreserve",children:m.map((function(e,t){return Object(O.jsxs)("div",{className:"place",children:["\u0414\u0430\u0442\u0430: ",e.booking_date," \u041c\u0435\u0441\u0442\u043e: ",e.place," \u041e\u0444\u0438\u0441:",e.location,Object(O.jsx)("button",{className:"placeButton",value:e.id,onClick:de,children:"\u0421\u043d\u044f\u0442\u044c \u0440\u0435\u0437\u0435\u0440\u0432"},t)]})}))}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:je,className:"ModalButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043c\u0435\u0441\u0442\u0430"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})]})}a(531),a(532),a(533);function ue(e){var t=e.user,a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(),d=Object(o.a)(i,2),b=d[0],p=d[1],m=Object(n.useState)(""),h=Object(o.a)(m,2),x=h[0],f=h[1],v=Object(n.useState)(""),_=Object(o.a)(v,2),y=_[0],k=_[1],N=Object(n.useState)(),w=Object(o.a)(N,2),S=w[0],C=w[1],I=Object(n.useState)(),D=Object(o.a)(I,2),R=D[0],M=D[1],A=JSON.parse(localStorage.getItem("user")),L={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+t.id);case 2:return a=e.sent,e.next=5,g.a.get("/api/vacation?id="+t.id);case 5:return n=e.sent,e.next=8,g.a.get("/api/post?type=1&id="+t.id);case 8:c=e.sent,r(a.data.nomination_status),!0!==a.data.isadmin?p(""):p("*"),0===n.data.length?(C(""),M("")):(C(n.data[0].workdate),M(n.data[0].worked)),0===c.data.length?(f(""),k("")):(f(c.data[0].workdate),k(c.data[0].workend));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();1!==t.status&&2!==t.status&&3!==t.status&&5!==t.status&&6!==t.status&&7!==t.status||e()}),[t.id]);var V={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"searchBlockContainer",children:Object(O.jsx)(j.b,{to:"/profile/".concat(t.id),className:"name",onClick:function(){return window.location.href="/profile/".concat(t.id)},children:Object(O.jsx)("div",{className:"employee "+function(e){for(var t in L)if(t==e)return L[t]}(t.status),children:Object(O.jsxs)("div",{className:"angry-grid",children:[Object(O.jsx)("div",{id:"item-0",children:Object(O.jsxs)("span",{className:"searchName",children:[t.user_name,A.isAdmin?b:""]})}),Object(O.jsxs)("div",{id:"item-1",children:[5===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u043f\u0443\u0441\u043a:",S,"-",R]}),6===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u0433\u0443\u043b:",S,"-",R]}),7===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430:",S,"-",R]}),3===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:["\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439:",S,"-",R]}),2===t.status&&Object(O.jsxs)("div",{className:"vacationText",children:[x," ",y]})]}),Object(O.jsx)("div",{id:"item-2",children:Object.keys(V).map((function(e,a){return(t.nomination_status===e||t.nomination_status===parseInt(e)||s===e||s===parseInt(e))&&Object(O.jsx)("img",{src:V[e].src,title:V[e].title,alt:"Image for ".concat(e)},a)}))})]})})})})})}var le=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(0),i=Object(o.a)(r,2),d=i[0],b=i[1],p=Object(n.useState)(0),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)(0),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)(0),N=Object(o.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)(0),I=Object(o.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(0),A=Object(o.a)(M,2),L=A[0],V=A[1];return Object(n.useEffect)((function(){var t=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/typework_status/");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={id:e._id},!0!==e.isAdmin){t.next=12;break}return t.next=4,g.a.post("/api/get_statistics_all_users",a);case 4:null===(n=t.sent).data[0].get_statistics_all_users[0].all_users?n.data[0].get_statistics_all_users[0].all_users=0:s(n.data[0].get_statistics_all_users[0].all_users.length),null===n.data[0].get_statistics_all_users[0].not_working_today?n.data[0].get_statistics_all_users[0].not_working_today=0:b(n.data[0].get_statistics_all_users[0].not_working_today.length),null===n.data[0].get_statistics_all_users[0].not_worked_yesterday?n.data[0].get_statistics_all_users[0].not_worked_yesterday=0:x(n.data[0].get_statistics_all_users[0].not_worked_yesterday.length),null===n.data[0].get_statistics_all_users[0].sick_today?n.data[0].get_statistics_all_users[0].sick_today=0:y(n.data[0].get_statistics_all_users[0].sick_today.length),null===n.data[0].get_statistics_all_users[0].sick_yesterday?n.data[0].get_statistics_all_users[0].sick_yesterday=0:S(n.data[0].get_statistics_all_users[0].sick_yesterday.length),null===n.data[0].get_statistics_all_users[0].vacation_today?n.data[0].get_statistics_all_users[0].vacation_today=0:R(n.data[0].get_statistics_all_users[0].vacation_today.length),null===n.data[0].get_statistics_all_users[0].vacation_yesterday?n.data[0].get_statistics_all_users[0].vacation_yesterday=0:V(n.data[0].get_statistics_all_users[0].vacation_yesterday.length);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),a()}),[]),Object(O.jsx)("div",{className:"topbarCenter",children:e.isAdmin?Object(O.jsxs)("div",{className:"statistics",children:[Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/all_users/"},title:"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432",children:c})," /",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/not_working_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442",children:d})," /",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/not_worked_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438",children:h})," /",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/sick_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0431\u043e\u043b\u0435\u044e\u0442",children:_})," /",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/sick_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u0431\u043e\u043b\u0435\u043b\u0438",children:w})," /",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/vacation_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435",children:D}),"/",Object(O.jsx)(j.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/vacation_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435",children:L})]}):""})};function oe(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],b=r[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)(!1),N=Object(o.a)(k,2),w=N[0],S=N[1],C=JSON.parse(localStorage.getItem("user"));Object(d.h)().username;Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/");case 2:t=e.sent,A(t.data),t.data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),n=t.data,a=n.filter((function(e){return 1===e.status})).concat(n.filter((function(e){return 2===e.status}))).concat(n.filter((function(e){return 3===e.status}))).concat(n.filter((function(e){return 1!==e.status&&2!==e.status&&3!==e.status&&4!==e.status}))).concat(n.filter((function(e){return 4===e.status}))),x(a);case 7:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/typework_status/");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+C._id);case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),a(),e()}),[]);var D=function(e){""!==e.target.value&&(y(h.filter((function(e){return e.user_name.toLowerCase().includes(i.toLowerCase())}))),S(!0))},R=Object(n.useState)(0),M=Object(o.a)(R,2),A=(M[0],M[1]),L=Object(n.useState)(!1),V=Object(o.a)(L,2);V[0],V[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"topbarContainer",children:[Object(O.jsx)("div",{className:"topbarLeft",children:Object(O.jsx)(ie,{})}),Object(O.jsx)(le,{}),Object(O.jsxs)("div",{className:"topbarRight",children:[Object(O.jsxs)("div",{className:"topbarLinks",children:[Object(O.jsx)("div",{children:Object(O.jsx)(j.b,{to:"/department/".concat(a.main_department),className:"topbarLink",children:Object(O.jsx)("img",{src:"../images/VTB.png",alt:"VTB",width:"150",height:"50"})})}),Object(O.jsx)("div",{className:"vr"}),Object(O.jsx)("div",{className:"topPage",children:Object(O.jsx)(j.b,{to:"/profile/".concat(a.id),className:"topbarLink",children:C.username})}),C.isAdmin?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"vr"}),Object(O.jsx)("div",{className:"topPage",children:Object(O.jsx)(j.b,{to:"/Reports",className:"topbarLink",children:Object(O.jsx)("span",{className:"link",children:"\u041e\u0442\u0447\u0435\u0442\u044b"})})})]}):"",Object(O.jsx)("div",{className:"vr"}),Object(O.jsx)("div",{className:"topPage",children:Object(O.jsx)(j.b,{to:"/Information",className:"topbarLink",children:"?"})})]}),Object(O.jsxs)("div",{className:"search",children:[Object(O.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&""!==e.target.value&&(y(h.filter((function(e){return e.user_name.toLowerCase().includes(i.toLowerCase())}))),S(!0))},value:i,onChange:function(e){return b(e.target.value)},type:"search",name:"",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"input"}),Object(O.jsx)("button",{onClick:D,value:i,onChange:function(e){return b(e.target.value)},type:"submit",className:"submit"})]}),Object(O.jsx)("div",{className:"exit",children:Object(O.jsx)(ne.a,{onClick:function(){localStorage.clear(),window.location.reload(),window.location.href="/"}})})]})]}),w?Object(O.jsxs)(I,{active:D,setActive:S,children:[Object(O.jsx)("h1",{children:Object(O.jsx)("p",{align:"center",children:"\u041f\u043e\u0438\u0441\u043a"})}),Object(O.jsxs)("h4",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",_.length]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{children:_.map((function(e){return Object(O.jsx)(ue,{user:e})}))}),Object(O.jsx)("button",{className:"button",type:"submit",onClick:function(){return S(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]}):Object(O.jsx)(O.Fragment,{})]})}a(534);function je(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"information",children:Object(O.jsxs)("div",{className:"informationContainer",children:[Object(O.jsx)("h2",{className:"infoMainText",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(O.jsx)("div",{className:"testInformation",children:Object(O.jsx)("a",{className:"divLinkInformation",href:"https://sfera.vtb.ru/knowledge/pages?id=110481",target:"_blank",rel:"noopener noreferrer",children:Object(O.jsx)("h4",{children:"\u041d\u0430\u0448\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0438\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u043f\u0438\u0448\u0438\u0442\u0435 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445!"})})}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"infoContainer",children:Object(O.jsxs)("div",{className:"infoText",children:[Object(O.jsx)("h3",{children:"\u041a\u043d\u043e\u043f\u043a\u0430 \u041d\u0430\u0447\u0430\u0442\u044c/\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"}),Object(O.jsxs)("p",{children:["\u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e. \u0412 \u043d\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c ",Object(O.jsx)("b",{children:'"\u0437\u0434\u043e\u0440\u043e\u0432"'})," \u0438\u043b\u0438 ",Object(O.jsx)("b",{children:'"\u0431\u043e\u043b\u0435\u043d"'}),". \u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043e ",Object(O.jsx)("b",{children:'"\u0431\u043e\u043b\u0435\u043d"'}),", \u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438."]}),Object(O.jsx)("h3",{children:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"}),Object(O.jsxs)("p",{style:{marginTop:"10px"},children:[Object(O.jsx)("b",{style:{color:"green"},children:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u0440\u0430\u0431\u043e\u0442\u0435."]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{style:{color:"red"},children:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443."]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{style:{color:"yellow"},children:"\u0416\u0451\u043b\u0442\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430 \u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u043e\u043c."]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{style:{color:"dodgerblue"},children:"\u0421\u0438\u043d\u0438\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435/\u043e\u0442\u0433\u0443\u043b."]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{style:{color:"chocolate"},children:"\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435."]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{style:{opacity:"0.5"},children:"\u041f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d."]}),Object(O.jsx)("h3",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(O.jsx)("p",{children:"\u041d\u0430 \u0433\u0430\u043b\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u0432\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u0442\u0430/\u043e\u0442\u0434\u0435\u043b\u0430/\u0433\u0440\u0443\u043f\u043f\u044b"}),Object(O.jsx)("h3",{children:"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(O.jsxs)("p",{children:["\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0434\u043e \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043d\u0430\u0434\u043f\u0438\u0441\u044c ",Object(O.jsx)("b",{children:'"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"'}),". \u0412 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u0442\u0430\u0440\u044b\u0439 \u0438 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, \u0435\u0441\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0441\u044f."]}),Object(O.jsx)("p",{children:"\u041d\u0438\u0436\u0435 \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043e \u0440\u0430\u0431\u043e\u0442\u0435. \u041c\u043e\u0436\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0443\u0436\u043d\u044b\u0445 \u0434\u0430\u0442."}),Object(O.jsxs)("p",{children:["\u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ",Object(O.jsx)("b",{children:'"\u041e\u0442\u043f\u0443\u0441\u043a/\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"'})," \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438. \u0414\u043e\u0431\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0430 ",Object(O.jsx)("b",{children:'"+"'}),". \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043d\u0435\u0435 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e. ","."]}),Object(O.jsx)("h4",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u043e\u0432"}),Object(O.jsx)("p",{children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c,\u0437\u0430\u043a\u043e\u0447\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u043f\u0443\u0441\u043a/\u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439."}),Object(O.jsx)("p",{children:"\u0422\u0430\u043a \u0436\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0443 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043e\u0442\u0447\u0451\u0442\u0430\u043c"}),Object(O.jsx)("h3",{children:"\u0414\u0435\u0440\u0435\u0432\u043e"}),Object(O.jsx)("p",{children:"\u0427\u0435\u0440\u0435\u0437 \u0434\u0435\u0440\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044b. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0443 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043b\u0443\u0436\u0431,\u043e\u0442\u0434\u0435\u043b\u043e\u0432 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f."}),Object(O.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0442\u0434\u0435\u043b\u0430"}),Object(O.jsxs)("p",{children:["\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043e\u0442\u0434\u0435\u043b\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0442\u0434\u0435\u043b\u0430. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ",Object(O.jsx)("b",{children:'"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439"'})," \u0432 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0430 \u0442\u0430\u043a \u0436\u0435 \u0437\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442."]}),Object(O.jsx)("h3",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(O.jsx)("p",{children:'\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0434 \u0435\u0433\u043e \u0423\u0417 \u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 "\u041d\u0430\u0447\u0430\u0442\u044c".'})]})})]})})})}a(535);function de(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"ReportsButton",children:[Object(O.jsx)(j.b,{to:"/ReportsHistory",className:"linkReports",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),Object(O.jsx)("br",{}),Object(O.jsx)(j.b,{to:"/ReportsNominations",className:"linkReports",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044f\u043c"})]})})}a(536);var be=a(406);a(540);function Oe(e){var t=e.posts;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("tr",{className:"info",children:[Object(O.jsx)("td",{className:"infotableend",children:Object(O.jsx)(j.b,{to:"/profile/".concat(t.user_id),className:"name",children:t.\u041a\u0442\u043e})}),Object(O.jsx)("td",{className:"infotableend",children:t.\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442}),Object(O.jsx)("td",{className:"infotablestart",children:t.nominations_name}),Object(O.jsx)("td",{className:"infotableend",children:t.date})]})})}function pe(){var e=Object(n.useState)({key:"\u041a\u0442\u043e",direction:"ascending"}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({key:"\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442",direction:"ascending"}),r=Object(o.a)(s,2),i=r[0],j=r[1],b=Object(n.useState)({key:"nominations_name",direction:"ascending"}),p=Object(o.a)(b,2),m=p[0],h=p[1],x=Object(n.useState)({key:"date",direction:"ascending"}),f=Object(o.a)(x,2),v=f[0],_=f[1],y=Object(n.useState)(""),k=Object(o.a)(y,2),N=k[0],w=k[1],S=Object(n.useRef)(null),C=Object(n.useRef)(null),I=Object(n.useState)(!1),D=Object(o.a)(I,2),R=(D[0],D[1]),M=Object(n.useState)([]),A=Object(o.a)(M,2),L=A[0],V=A[1],P=Object(n.useState)(!1),F=Object(o.a)(P,2),E=F[0],B=F[1],T=Object(d.h)(),U=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=S.current.value,a=C.current.value,""===t||""===a?w("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||w("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?w("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startDateNomination:S.current.value,endDateNomination:C.current.value},w(""),c=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/Reports",n);case 2:t=e.sent,V(t.data),w("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(""),R(!1),S.current.value="",C.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){if(""!==S.current.value&&""!==C.current.value){var t="ascending";(a.key===e&&"ascending"===a.direction||i.key===e&&"ascending"===i.direction||m.key===e&&"ascending"===m.direction||v.key===e&&"ascending"===v.direction)&&(t="descending"),c({key:e,direction:t}),j({key:e,direction:t}),h({key:e,direction:t}),_({key:e,direction:t})}},q=Object(n.useMemo)((function(){var e=Object($.a)(L);return null!==a&&e.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:(B(!0),0)})),e}),[L,a]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"Reports",children:Object(O.jsxs)("div",{className:"ReportsContainer",children:[Object(O.jsx)("h2",{className:"ReportsMainText",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044f\u043c"}),N&&Object(O.jsx)("div",{className:"errorHistoryInfo",children:N}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:S,style:{marginRight:"10px"}})}),Object(O.jsxs)("div",{children:["\u2014  ",Object(O.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:C,style:{marginRight:"10px"}})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"historyButton",onClick:U,children:"\u041d\u0430\u0439\u0442\u0438"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"historyButton",onClick:Y,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]}),Object(O.jsx)("div",{}),E&&Object(O.jsx)("div",{children:Object(O.jsx)(be.CSVLink,{data:L,filename:"nominations.csv",children:"Download CSV"})}),Object(O.jsx)("br",{}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return J("\u041a\u0442\u043e")},children:["\u041a\u0442\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b ","\u041a\u0442\u043e"===a.key&&Object(O.jsx)("span",{className:"column",children:"ascending"===a.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return J("\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442")},children:["\u041d\u043e\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043b ","\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442"===i.key&&Object(O.jsx)("span",{className:"column1",children:"ascending"===i.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return J("nominations_name")},children:["\u0418\u043c\u044f \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438 ","nominations_name"===m.key&&Object(O.jsx)("span",{className:"column2",children:"ascending"===m.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return J("date")},children:["\u0414\u0430\u0442\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f ","date"===v.key&&Object(O.jsx)("span",{className:"column3",children:"ascending"===v.direction?"\u25bc":"\u25b2"})]})]}),q.map((function(e,t){return Object(O.jsx)(Oe,{posts:e,username:T},t)}))]})})})}a(541);function me(e){var t=e.posts;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("tr",{className:"info",children:[Object(O.jsx)("td",{className:"number",children:Object(O.jsx)(j.b,{to:"/profile/".concat(t.id),className:"name",children:t.user_name})}),Object(O.jsx)("td",{className:"infotablestart",children:t.workstart}),Object(O.jsx)("td",{className:"infotableend",children:t.workend}),Object(O.jsx)("td",{className:"RepostsLong",children:t.worklong}),Object(O.jsx)("td",{className:"infotableComment",children:t.comment})]})})}a(542);function he(){var e=Object(n.useState)({key:"user_name",direction:"ascending"}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({key:"workstart",direction:"ascending"}),r=Object(o.a)(s,2),i=r[0],j=r[1],b=Object(n.useState)({key:"workend",direction:"ascending"}),p=Object(o.a)(b,2),m=p[0],h=p[1],x=Object(n.useState)({key:"worklong",direction:"ascending"}),f=Object(o.a)(x,2),v=f[0],_=f[1],y=Object(n.useState)({key:"comment",direction:"ascending"}),k=Object(o.a)(y,2),N=k[0],S=k[1],C=Object(n.useState)(1),I=Object(o.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(30),A=Object(o.a)(M,1)[0],L=D*A,V=L-A,P=Object(n.useState)(!1),F=Object(o.a)(P,2),E=(F[0],F[1]),B=Object(n.useState)(""),T=Object(o.a)(B,2),U=T[0],Y=T[1],J=Object(n.useRef)(null),q=Object(n.useRef)(null),W=Object(n.useState)(!1),H=Object(o.a)(W,2),G=(H[0],H[1]),X=Object(n.useState)([]),z=Object(o.a)(X,2),K=z[0],Q=z[1],Z=(K.slice(V,L),Object(d.h)()),ee=D*A,te=ee-A,ae=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=J.current.value,a=q.current.value,""===t||""===a?Y("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||Y("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?Y("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startdate:J.current.value,enddate:q.current.value},Y(""),c=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/Reports",n);case 2:t=e.sent,Q(t.data),Y(""),E(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(""),G(!1),J.current.value="",q.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){if(""!==J.current.value&&""!==q.current.value){var t="ascending";(a.key===e&&"ascending"===a.direction||i.key===e&&"ascending"===i.direction||m.key===e&&"ascending"===m.direction||v.key===e&&"ascending"===v.direction||N.key===e&&"ascending"===N.direction)&&(t="descending"),c({key:e,direction:t}),j({key:e,direction:t}),h({key:e,direction:t}),_({key:e,direction:t}),S({key:e,direction:t})}},se=Object(n.useMemo)((function(){var e=Object($.a)(K);return null!==a&&e.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:0})),e}),[K,a]).slice(te,ee);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"Reports",children:Object(O.jsxs)("div",{className:"ReportsContainer",children:[Object(O.jsx)("h2",{className:"ReportsMainText",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),U&&Object(O.jsx)("div",{className:"errorHistoryInfo",children:U}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:J,style:{marginRight:"10px"}})}),Object(O.jsxs)("div",{children:["\u2014  ",Object(O.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:q,style:{marginRight:"10px"}})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"historyButton",onClick:ae,children:"\u041d\u0430\u0439\u0442\u0438"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"historyButton",onClick:ne,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("hr",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("user_name")},children:["\u0424\u0418\u041e ","user_name"===a.key&&Object(O.jsx)("span",{className:"user_name",children:"ascending"===a.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("workstart")},children:["\u041d\u0430\u0447\u0430\u043b\u043e ","workstart"===i.key&&Object(O.jsx)("span",{className:"workstart",children:"ascending"===i.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("workend")},children:["\u041a\u043e\u043d\u0435\u0446 ","workend"===m.key&&Object(O.jsx)("span",{className:"workend",children:"ascending"===m.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("worklong")},children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ","worklong"===v.key&&Object(O.jsx)("span",{className:"worklong",children:"ascending"===v.direction?"\u25bc":"\u25b2"})]}),Object(O.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("comment")},children:["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 ","comment"===N.key&&Object(O.jsx)("span",{className:"comment",children:"ascending"===N.direction?"\u25bc":"\u25b2"})]})]}),se.map((function(e,t){return Object(O.jsx)(me,{posts:e,username:Z},t)})),Object(O.jsx)(w,{postsPerPage:A,totalPosts:K.length,paginate:function(e){return R(e)},currentPage:D})]})})})}a(543),a(544);var xe=function(e){var t=e.department,a=e.vacancies,c=e.status,s=JSON.parse(localStorage.getItem("user")),r=Object(n.useState)(""),i=Object(o.a)(r,2),d=i[0],b=i[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)([]),N=Object(o.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(""),A=Object(o.a)(M,2),L=A[0],V=A[1],P=Object(n.useState)([]),E=Object(o.a)(P,2),T=E[0],U=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),q=J[0],W=J[1],H=Object(n.useState)(!1),$=Object(o.a)(H,2),G=$[0],X=$[1],z=Object(n.useState)(""),K=Object(o.a)(z,2),Q=K[0],Z=K[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),se=Object(o.a)(ce,2),re=se[0],ie=se[1],ue=Object(n.useState)(""),le=Object(o.a)(ue,2),oe=le[0],je=le[1],de=Object(n.useState)(""),be=Object(o.a)(de,2),Oe=be[0],pe=be[1],me=Object(n.useState)(""),he=Object(o.a)(me,2),xe=he[0],fe=he[1],ve=F()().format("YYYY-MM-DD"),ge=Object(n.useState)(""),_e=Object(o.a)(ge,2),ye=_e[0],ke=_e[1],Ne=Object(n.useState)([]),we=Object(o.a)(Ne,2),Se=we[0],Ce=we[1],Ie=Object(n.useState)([]),De=Object(o.a)(Ie,2),Re=De[0],Me=De[1],Ae=Object(n.useState)([]),Le=Object(o.a)(Ae,2),Ve=Le[0],Pe=Le[1],Fe=Object(n.useState)(""),Ee=Object(o.a)(Fe,2),Be=(Ee[0],Ee[1]),Te=Object(n.useState)(""),Ue=Object(o.a)(Te,2),Ye=(Ue[0],Ue[1]),Je=Object(n.useState)(""),qe=Object(o.a)(Je,2),We=(qe[0],qe[1]),He=Object(n.useState)(""),$e=Object(o.a)(He,2),Ge=($e[0],$e[1]),Xe=Object(n.useRef)(),ze=Object(n.useRef)(),Ke=Object(n.useRef)(),Qe=Object(n.useRef)(),Ze=Object(n.useRef)(),et=Object(n.useRef)(),tt=(Object(n.useRef)(),Object(n.useState)("")),at=Object(o.a)(tt,2),nt=(at[0],at[1],Object(n.useState)("")),ct=Object(o.a)(nt,2),st=(ct[0],ct[1],Object(n.useState)([])),rt=Object(o.a)(st,2),it=rt[0],ut=rt[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/departments/");case 2:return t=e.sent,ut(t.data),e.next=6,g.a.get("/api/Vacations/?company=company");case 6:return a=e.sent,x(a.data),e.next=10,g.a.get("/api/user");case 10:n=e.sent,Pe(n.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var lt=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={namevacanciesId:q,namevacancies:Q,description:re,grade:Oe,statuses:Xe.current.value,users:0===Se.length?ae:Se,search:ye,old_user:ae,deps:d,company_id:_,vacancy_code:w,project_id:D,planned_release_date:""===T?null:T},console.log("log=",t),!("3"===Xe.current.value&&null===ae&&Se.length<1)){e.next=6;break}V("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"),e.next=11;break;case 6:return e.next=8,g.a.put("/api/Vacations/",t);case 8:e.sent,V("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(e){switch(e){case 20:return"Reserve";case 30:return"Selection";case 50:return"Securely";case 10:return"Liquidated";case 40:return"Finalist"}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"departmentName",children:t}),Object(O.jsxs)("div",{className:"vacancies-container",children:[a.map((function(e){return Object(O.jsx)("div",{className:"angry-grid1"+ot(e.status_id),onClick:function(){return function(e,t,a,n,c,r,i,u,l,o,j,d){!0===s.isAdmin&&(fe(null===r?[]:r),Me([]),V([]),X(!0),W(a),Be(e),Z(e),We(n),ie(n),Ge(t),pe(t),Ye(c),je(c),ne(i),b(u),y(l),S(o),R(j),U(d))}(e.name,e.grade,e.id,e.description,e.status_id,e.user_name,e.user_id,e.department_id,e.company_id,e.vacancy_code,e.project_id,e.planned_release_date)},children:Object(O.jsxs)("div",{id:"cssportal-grid",children:[Object(O.jsx)("div",{id:"div1"}),Object(O.jsx)("div",{id:"div2",children:e.user_name}),Object(O.jsx)("div",{id:"div3",children:ve===e.create_date?"NEW":""}),Object(O.jsx)("div",{id:"div4"}),Object(O.jsx)("div",{id:"div5",children:e.name}),Object(O.jsx)("div",{id:"div6"}),Object(O.jsx)("div",{id:"div7"}),Object(O.jsx)("div",{id:"div8",children:e.vacancy_code}),Object(O.jsx)("div",{id:"div9"}),Object(O.jsxs)("div",{id:"div10",children:["\u0413\u0440\u0435\u0439\u0434: ",e.grade]}),Object(O.jsx)("div",{id:"div11",children:e.status_name}),Object(O.jsxs)("div",{id:"div12",children:["\u041f\u0440\u043e\u0435\u043a\u0442: ",e.project_id]}),Object(O.jsx)("div",{id:"div13",children:e.company_name})]})},e.id)})),Object(O.jsxs)(B,{active:G,setActive:X,children:[Object(O.jsx)("div",{className:"MessageItemVacancies",children:Object(O.jsx)("span",{children:L})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",className:"ModalInputVacancies",value:Q,onChange:function(e){Z(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{className:"textDescription",value:re,onChange:function(e){ie(e.target.value)}})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:ze,value:d,onChange:function(){b(ze.current.value)},className:"InputVacanciesItemDeps",children:it.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.department_name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:Xe,value:oe,onChange:function(){je(Xe.current.value)},className:"InputVacanciesItemSelect",children:c.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0413\u0440\u0435\u0439\u0434:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",value:Oe,onChange:function(e){/^\d*$/.test(e.target.value)&&pe(e.target.value)},placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacanciesItem"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:"}),Object(O.jsx)("br",{}),Object(O.jsx)("select",{ref:Ke,value:_,onChange:function(){y(Ke.current.value)},className:"InputVacanciesItemSelect",children:h.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"inputDiv",children:[Object(O.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",value:ye||xe,onChange:function(e){var t=e.target.value;ke(""===t?null:t);var a=Ve.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));""===t?fe(""):Me(a)},className:"InputVacanciesItem"}),ae?Object(O.jsx)(j.b,{className:"ProfileLinkVacancies",style:{paddingLeft:"10px"},to:"/profile/".concat(ae),children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}):"",Re.length>0&&Object(O.jsx)("div",{className:"userListContainer",children:Re.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){Ce(t),ke(e),Me([])}(e.user_name,e.id)},children:e.user_name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"date",ref:et,placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem",value:T||"",onChange:function(){U(et.current.value)}})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u0418\u0422\u0421:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",ref:Qe,value:w,onChange:function(){S(Qe.current.value)},placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",ref:Ze,value:D,onChange:function(e){/^\d*$/.test(e.target.value)&&R(e.target.value)},placeholder:"\u041f\u0440\u043e\u0435\u043a\u0442(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",className:"InputVacanciesItem"})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"divHistory",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"ModalButton",type:"submit",onClick:lt,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})]})},fe=a(177),ve=(a(545),a(124)),ge=a.n(ve),_e=(a(546),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(o.a)(s,2),i=r[0],d=r[1],b=JSON.parse(localStorage.getItem("user"));Object(n.useEffect)((function(){var e=function(e,t){var a,n=[],c=function e(t,a,c){if(t.id===a)return n=[].concat(Object($.a)(c),[t.id]),!0;if(t.Subclasses&&t.Subclasses.length>0){var s,r=Object(fe.a)(t.Subclasses);try{for(r.s();!(s=r.n()).done;){if(e(s.value,a,[].concat(Object($.a)(c),[t.id])))return!0}}catch(i){r.e(i)}finally{r.f()}}return!1},s=Object(fe.a)(e);try{for(s.s();!(a=s.n()).done;){if(c(a.value.department_tree_to_json,t,[]))break}}catch(r){s.e(r)}finally{s.f()}return n},t=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/department_tree_to_json/");case 2:0===(a=t.sent).data[0].department_tree_to_json.length?c([]):(c(a.data),n=e(a.data,parseInt(b.departmentId)),console.log("Path to node:",n),d(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var p=function(e){return i.includes(e)},m=function(e){p(e)?d(i.filter((function(t){return t!==e}))):d([].concat(Object($.a)(i),[e]))};return Object(O.jsx)("div",{className:"sidebar",children:Object(O.jsx)("div",{className:"sidebarWrapper",children:a.length>=1?Object(O.jsx)("div",{className:"tree",children:Object(O.jsx)("div",{className:"treeWrapper",children:a.map((function(e,t){return Object(O.jsx)(ge.a,{nodeLabel:Object(O.jsx)(j.b,{to:"/department/".concat(e.department_tree_to_json.id),className:"level1",children:Object(O.jsx)("span",{className:"node",children:e.department_tree_to_json.Name})}),collapsed:!p(e.department_tree_to_json.id),onClick:function(){return m(e.department_tree_to_json.id)},children:e.department_tree_to_json.Subclasses.map((function(e){return Object(O.jsx)(ge.a,{nodeLabel:Object(O.jsx)(j.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(O.jsx)("span",{className:"node",children:e.Name})},e.id),collapsed:!p(e.id),onClick:function(){return m(e.id)},children:!!e.Subclasses&&e.Subclasses.map((function(e){return Object(O.jsx)(ge.a,{nodeLabel:Object(O.jsx)(j.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(O.jsx)("span",{className:"node",children:e.Name})},e.id),collapsed:!p(e.id),onClick:function(){return m(e.id)},children:!!e.Subclasses&&e.Subclasses.map((function(e){return Object(O.jsx)(j.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(O.jsx)("div",{style:{paddingBottom:"8px"},children:e.Name})},e.id)}))},e.id)}))},e.id)}))},e.department_tree_to_json.Name+"|"+t)}))})}):""})})});a(547);var ye=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),j=i[0],d=i[1],b=Object(n.useState)([]),p=Object(o.a)(b,2),m=p[0],h=p[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),v=f[0],_=f[1],y=Object(n.useState)(""),k=Object(o.a)(y,2),N=k[0],w=k[1],S=Object(n.useState)(""),C=Object(o.a)(S,2),I=C[0],D=C[1],R=Object(n.useState)(!1),M=Object(o.a)(R,2),A=M[0],L=M[1],V=Object(n.useState)([]),P=Object(o.a)(V,2),F=P[0],E=P[1],B=Object(n.useState)([]),T=Object(o.a)(B,2),U=T[0],Y=T[1],J=Object(n.useState)([]),q=Object(o.a)(J,2),W=q[0],H=q[1],$=Object(n.useState)(!1),G=Object(o.a)($,2),X=G[0],z=G[1],K=Object(n.useState)([]),Q=Object(o.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useRef)(),ae=Object(n.useRef)(),ne=Object(n.useRef)(),ce=Object(n.useRef)(),se=Object(n.useRef)(),re=Object(n.useRef)(),ie=Object(n.useRef)(),ue=Object(n.useRef)(),le=function(){z(!X)};Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c,s,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/departments/");case 2:return a=t.sent,d(a.data),t.next=6,g.a.get("/api/Vacations/?status=status");case 6:return(n=t.sent).data.unshift(n.data.splice(n.data.findIndex((function(e){return"\u0420\u0435\u0437\u0435\u0440\u0432"===e.name})),1)[0]),Y(n.data),t.next=11,g.a.get("/api/Vacations/?company=company");case 11:return c=t.sent,H(c.data),t.next=15,g.a.get("/api/user");case 15:return s=t.sent,ee(s.data),r={departId:e.departmentId,user_id:e._id},t.next=20,g.a.post("/api/Vacations_function/",r);case 20:i=t.sent,E(i.data);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var oe=Object(n.useState)(""),je=Object(o.a)(oe,2),de=je[0],be=je[1],Oe=Object(n.useState)([]),pe=Object(o.a)(Oe,2),me=pe[0],he=pe[1],xe=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c,s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=ce.current.value.toLowerCase().trim(),!F.some((function(e){return e.get_vacancies.some((function(e){return e.vacancies.some((function(e){return e.vacancy_code&&e.vacancy_code.toLowerCase()===a}))}))}))){t.next=7;break}return D("\u0422\u0430\u043a\u0430\u044f \u0418\u0422\u0421 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),_(""),w(""),t.abrupt("return");case 7:if(n="",""!==de&&(n=m),c={namevacancies:te.current.value,description:re.current.value,team_id:ae.current.value,status_id:ne.current.value,codeVacations:a.toUpperCase(),codeProject:ie.current.value,company_id:se.current.value,grade:ue.current.value,is_checked:X,userName:n},""!==te.current.value&&""!==re.current.value&&""!==ae.current.value&&""!==ne.current.value&&""!==a&&""!==ie.current.value&&""!==ue.current.value&&""!==se.current.value){t.next=15;break}_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),L(!0),t.next=26;break;case 15:return t.next=17,g.a.post("/api/Vacations/",c);case 17:if(200!==t.sent.status){t.next=26;break}return _(""),w("\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),s={departId:e.departmentId,user_id:e._id},t.next=24,g.a.post("/api/Vacations_function/",s);case 24:r=t.sent,E(r.data);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function fe(){D(""),_(""),w("")}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"VacationsMainAdd",children:[Object(O.jsx)("h2",{style:{textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"}),!v&&A&&N&&!I&&Object(O.jsx)("div",{className:"error",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e"}),N&&!v&&!A&&!I&&Object(O.jsx)("div",{className:"error",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e"}),v&&A&&!I&&Object(O.jsx)("div",{className:"error",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"}),I&&!N&&Object(O.jsx)("div",{className:"error",children:I}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabelName",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(O.jsx)("input",{ref:te,type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacation",onMouseDown:fe})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(O.jsx)("textarea",{ref:re,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacationAdd",onMouseDown:fe})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),Object(O.jsx)("select",{ref:ae,className:"InputVacation",onMouseDown:fe,children:j.map((function(t,a){return Object(O.jsx)("option",{selected:t.id===e.departmentId,value:t.id,children:t.department_name},a)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(O.jsx)("select",{ref:ne,className:"InputVacation",onMouseDown:fe,children:U.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u0434 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(O.jsx)("input",{ref:ce,value:c,onChange:function(e){s(e.target.value)},type:"text",placeholder:"\u041a\u043e\u0434 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacation",onMouseDown:fe})]}),Object(O.jsxs)("div",{className:"inputDiv",children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),Object(O.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",className:"InputVacation",value:de,onChange:function(e){var t=e.target.value;be(t);var a=Z.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));he(""===t?[]:a)},onMouseDown:fe}),Object(O.jsx)("div",{className:"divSelect",children:me.length>0&&Object(O.jsx)("div",{children:me.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){h(t),be(e),he([])}(e.user_name,e.id)},children:e.user_name},t)}))})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),Object(O.jsxs)("select",{ref:se,className:"InputVacation",onMouseDown:fe,children:[Object(O.jsx)("option",{value:"",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),W.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(O.jsx)("input",{ref:ie,type:"number",placeholder:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430(\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u044e\u0434\u0436\u0435\u0442=0)",className:"InputVacation",onMouseDown:fe})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"InputLabel",children:"\u0413\u0440\u0435\u0439\u0434"}),Object(O.jsx)("input",{ref:ue,type:"number",placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacation",onMouseDown:fe})]}),Object(O.jsxs)("div",{style:{marginTop:"20px"},children:[Object(O.jsx)("label",{style:{paddingRight:"10px"},children:"\u041d\u0443\u0436\u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430?"}),Object(O.jsxs)("label",{htmlFor:"Vacation",children:[Object(O.jsx)("input",{type:"radio",value:!0,id:"Vacation",name:"VacationTrue",checked:!X,onChange:le}),"\u0414\u0430"]}),Object(O.jsxs)("label",{htmlFor:"Vacation1",children:[Object(O.jsx)("input",{type:"radio",value:!1,id:"Vacation",name:"VacationFalse",checked:X,onChange:le}),"\u041d\u0435\u0442"]})]}),Object(O.jsxs)("div",{style:{textAlign:"center",paddingTop:"20px"},children:[Object(O.jsx)("button",{className:"filterButton",onClick:xe,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(O.jsx)("button",{className:"filterButton",onClick:function(){re.current.value="",te.current.value="",ce.current.value="",ie.current.value="",ue.current.value="",be(""),he([]),s(""),w(""),_("")},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})};var ke=function(e){var t=JSON.parse(localStorage.getItem("user")),a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(!1),j=Object(o.a)(i,2),d=j[0],b=j[1],p=Object(n.useState)(""),m=Object(o.a)(p,2),h=m[0],x=m[1],f=Object(n.useState)(""),v=Object(o.a)(f,2),_=v[0],y=v[1],k=Object(n.useState)([]),N=Object(o.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)([]),I=Object(o.a)(C,2),D=I[0],M=I[1],A=Object(n.useState)([]),L=Object(o.a)(A,2),V=L[0],P=L[1],F=Object(n.useState)([]),E=Object(o.a)(F,2),B=E[0],T=E[1],U=Object(n.useState)({company:[],status:[],project:[],department:null,startDate:null,endDate:null}),Y=Object(o.a)(U,2),J=Y[0],q=Y[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var a,n,c,s,i,l,o,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?status=status");case 2:return a=e.sent,e.next=5,g.a.get("/api/Vacations/?company=company");case 5:return n=e.sent,M(n.data),S(a.data),c={departId:t.departmentId,user_id:t._id},e.next=11,g.a.post("/api/Vacations_function/",c);case 11:s=e.sent,r(s.data[0].get_vacancies),i=s.data[0].get_vacancies,l=new Set,i.forEach((function(e){e.vacancies.forEach((function(e){void 0!==e.project_id&&null!==e.project_id&&l.add(e.project_id)}))})),o=Array.from(l).sort((function(e,t){return e-t})),j=new Set(o),P(j);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e]),Object(n.useEffect)((function(){G(J)}),[s,J]);var W=function(e,t){q((function(a){var n;return"status"===e?n=Object(R.a)(Object(R.a)({},a),{},{status:a.status.includes(t)?a.status.filter((function(e){return e!==t})):[].concat(Object($.a)(a.status),[t])}):"company"===e?n=Object(R.a)(Object(R.a)({},a),{},{company:a.company.includes(t)?a.company.filter((function(e){return e!==t})):[].concat(Object($.a)(a.company),[t])}):"department"===e?n=Object(R.a)(Object(R.a)({},a),{},{department:a.department===t?null:t}):"project"===e&&(n=Object(R.a)(Object(R.a)({},a),{},{project:a.project.includes(t)?a.project.filter((function(e){return e!==t})):[t]})),n}))},H=function(e,t){"startDate"===e?x(t):"endDate"===e&&y(t)},G=function(e){var t=s;t&&(e.department&&(t=t.filter((function(t){return t.department_id===parseInt(e.department)}))),e.company.length>0&&(t=t.filter((function(t){return t.vacancies.some((function(t){return e.company.includes(t.company_name)}))})).map((function(t){return Object(R.a)(Object(R.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.company.includes(t.company_name)}))})}))),e.status.length>0&&(t=t.filter((function(t){return t.vacancies.some((function(t){return e.status.includes(t.status_name)}))})).map((function(t){return Object(R.a)(Object(R.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.status.includes(t.status_name)}))})}))),e.project.length>0&&(console.log("Filtering by project:",e.project),t=t.filter((function(t){return t.vacancies.some((function(t){return e.project.includes(String(t.project_id))}))})).map((function(t){return Object(R.a)(Object(R.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.project.includes(String(t.project_id))}))})})),console.log("Filtered by project:",t)),(e.startDate||e.endDate)&&(t=t.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{vacancies:t.vacancies.filter((function(t){var a=new Date(t.create_date),n=e.startDate?new Date(e.startDate):null,c=e.endDate?new Date(e.endDate):null;return(!n||a>=n)&&(!c||a<=c)}))})})).filter((function(e){return e.vacancies.length>0})))),T(t)},X=function(e){switch(Number(e)){case 20:return"Reserve";case 30:return"Selection";case 50:return"Securely";case 10:return"Liquidated";case 40:return"Finalist"}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"Vacations",children:[d?Object(O.jsx)("button",{className:"btnStaff",onClick:function(){b(!1)},children:"\u041d\u0430\u0437\u0430\u0434"}):"",d?Object(O.jsx)(ye,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"VacationsContainerTop",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"btnStaff",onClick:function(){return window.location.href="/department/".concat(t.departmentId)},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(O.jsx)("button",{className:"btnStaff",onClick:function(){b(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"})]}),Object(O.jsxs)("div",{style:{padding:"20px"},children:[Object(O.jsx)("h2",{children:"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"date",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"ModalInput",style:{marginRight:"10px"},value:h,onChange:function(e){return H("startDate",e.target.value)}}),"\u2014",Object(O.jsx)("input",{type:"date",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"ModalInput",style:{marginRight:"10px"},value:_,onChange:function(e){return H("endDate",e.target.value)}}),Object(O.jsx)("button",{className:"filterButton",onClick:function(){q((function(e){var t=Object(R.a)(Object(R.a)({},e),{},{startDate:h||null,endDate:_||null});return G(t),t}))},children:"\u041f\u043e\u0438\u0441\u043a"}),Object(O.jsx)("button",{className:"filterButton",onClick:function(){q({company:[],status:[],project:[],department:null,startDate:null,endDate:null}),x(""),y(""),T(s)},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"ModalInputUpdateSelect",onChange:function(e){return W("department",e.target.value)},children:s.map((function(e,t){return Object(O.jsx)("option",{value:e.department_id,children:e.department},t)}))})}),Object(O.jsx)("div",{style:{paddingLeft:"20px",paddingTop:"5px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"ModalInputUpdateSelect",onChange:function(e){return W("project",e.target.value)},children:V.map((function(e,t){return Object(O.jsx)("option",{value:e,children:e},t)}))})})]})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:D.map((function(e,t){return Object(O.jsx)("button",{className:"filtersButton",onClick:function(){return W("company",e.name)},style:{boxShadow:J.company.includes(e.name)?"0 0 1px rgba(0,0,0,.5) inset, 0 2px 3px rgba(0,0,0,.5) inset, 0 1px 1px rgba(255,255,255,.1)":"",background:J.company.includes(e.name)?"gray":"#1775ee",opacity:J.company.includes(e.name)?"1":""},children:e.name},t)}))}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:w.map((function(e,t){return Object(O.jsx)("button",{className:"filtersButton"+X(e.id),onClick:function(){return W("status",e.name)},style:{boxShadow:J.status.includes(e.name)?"0 0 1px rgba(0,0,0,.5) inset, 0 2px 3px rgba(0,0,0,.5) inset, 0 1px 1px rgba(255,255,255,.1)":"",background:J.status.includes(e.name)?"gray":"",opacity:J.status.includes(e.name)?"1":""},children:e.name},t)}))})]})]}),B.map((function(e){return Object(O.jsx)("div",{className:"VacationsContainer",children:Object(O.jsx)(xe,{vac:e,status:w,department:e.department,vacancies:e.vacancies},e.department)},e.id)}))]})]})})};a(548),a(549);var Ne=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(o.a)(s,2),i=r[0],j=r[1],d=Object(n.useState)([]),b=Object(o.a)(d,2),p=b[0],m=b[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),f=x[0],v=x[1],_=Object(n.useState)(""),y=Object(o.a)(_,2),k=y[0],N=y[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/roles/");case 3:return t=e.sent,a=t.data[0].get_roles,c(a),e.next=8,g.a.get("/api/user/");case 8:n=e.sent,j(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsxs)("div",{className:"ReportsButton",children:[Object(O.jsxs)("div",{style:{display:"flex",gap:"200px"},children:[Object(O.jsxs)("div",{className:"RoleWrapper",children:[Object(O.jsx)("label",{children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),Object(O.jsxs)("div",{className:"inputRole",children:[Object(O.jsx)("input",{className:"ModalInputUpdate",type:"text",value:f,onChange:function(e){var t=e.target.value;if(0===t.length&&N(""),v(t),""!==t){var a=i.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));m(a)}else m([])}}),p.length>0&&Object(O.jsx)("div",{className:"divInputRole1",children:p.map((function(e,t){return Object(O.jsx)("div",{className:"selectNameDiv",onClick:function(){return function(e,t){v(e),m([]),N(t)}(e.user_name,e.id)},children:e.user_name},t)}))})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"\u0420\u043e\u043b\u044c"}),Object(O.jsx)("select",{className:"ModalInputUpdate",children:a.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]})]}),Object(O.jsx)("div",{style:{height:"30px"},children:k?Object(O.jsx)("button",{onClick:function(){N(""),v("")},className:"AddRole",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}):""}),Object(O.jsx)("div",{children:Object(O.jsxs)("table",{className:"skills-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"skills-header",children:[Object(O.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(O.jsx)("th",{children:"\u0420\u043e\u043b\u044c"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tr",{className:"skill-item",children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)("select",{children:Object(O.jsx)("option",{})})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{className:"SkillButton",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}),Object(O.jsx)("tbody",{})]})})]})};var we=function(e){var t=e.modalDictionarySkills,a=e.setModalDictionarySkills,n=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)(I,{active:t,setActive:a,children:[Object(O.jsx)("h1",{children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}),Object(O.jsx)("hr",{}),Object(O.jsx)("h2",{children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}),Object(O.jsx)("button",{className:"ModalButtonDelete",type:"submit",onClick:n,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})};function Se(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(O.jsx)("div",{className:"content",children:Object(O.jsx)("div",{className:"main-content",children:Object(O.jsx)("div",{className:"adminDiv",children:Object(O.jsxs)("div",{className:"tiles-container",children:[Object(O.jsx)("div",{className:"tile",children:Object(O.jsx)(j.b,{to:"/Role",className:"linkReports",children:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0440\u043e\u043b\u044c"})}),Object(O.jsxs)("div",{className:"tile",children:[Object(O.jsx)("button",{className:"linkReports",onClick:function(){return c(!0)},children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}),Object(O.jsx)(we,{modalDictionarySkills:a,setModalDictionarySkills:c})]})]})})})})}a(550);function Ce(e){var t=e.children,a=Object(d.h)().username;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(oe,{}),Object(O.jsxs)("div",{className:"MainContainers",children:[Object(O.jsx)(_e,{username:a}),Object(O.jsx)("div",{className:"mainContent",children:t})]})]})}var Ie=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=(t[0],t[1]),c=JSON.parse(localStorage.getItem("user"));Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c){e.next=5;break}return e.next=3,g.a.get("/api/user/"+c._id);case 3:t=e.sent,a(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var s=Object(n.useContext)(m).user||c;return Object(O.jsx)(j.a,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{exact:!0,path:"/",children:s?Object(O.jsx)(d.a,{to:"/department/".concat(s.main_department)}):Object(O.jsx)(d.a,{to:"/login"})}),Object(O.jsx)(d.b,{path:"/login",children:s?Object(O.jsx)(d.a,{to:"/department/".concat(s.main_department)}):Object(O.jsx)(k,{})}),Object(O.jsx)(d.b,{path:"/register",children:s?Object(O.jsx)(d.a,{to:"/"}):Object(O.jsx)(Q,{})}),Object(O.jsx)(d.b,{path:"/profile/:username",children:s?Object(O.jsx)(Ce,{children:Object(O.jsx)(K,{authUser:s})}):Object(O.jsx)(k,{})}),Object(O.jsx)(d.b,{path:"/department/:username",children:s?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(k,{})}),Object(O.jsx)(d.b,{path:"/all_users",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/not_working_today",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/not_worked_yesterday",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/sick_today",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/sick_yesterday",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/vacation_today",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/vacation_yesterday",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ae,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/vacanciesview",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ke,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/adminpanel",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(Se,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/reports",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(de,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/information",children:s?Object(O.jsx)(Ce,{children:Object(O.jsx)(je,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/reportsnominations",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(pe,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/reportshistory",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(he,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/vacanciesadd",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(ye,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"/role",children:s&&c.isAdmin?Object(O.jsx)(Ce,{children:Object(O.jsx)(Ne,{})}):Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"*",children:Object(O.jsx)(x,{})})]})})};a(551);r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(h,{children:Object(O.jsx)(Ie,{})})}),document.getElementById("root"))}},[[552,1,2]]]);
//# sourceMappingURL=main.7b6687eb.chunk.js.map
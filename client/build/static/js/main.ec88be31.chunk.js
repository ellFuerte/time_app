(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{485:function(e,t,a){},504:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){"use strict";a.r(t);a(126),a(135),a(136),a(137),a(138),a(139),a(140),a(141),a(142),a(143),a(144),a(145),a(146),a(147),a(148),a(187),a(189),a(190),a(191),a(192),a(193),a(195),a(150),a(198),a(199),a(72),a(203),a(204),a(206),a(207),a(208),a(209),a(210),a(211),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(156),a(157),a(223),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(159),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(250),a(252),a(253),a(255),a(256),a(257),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(111),a(276),a(277),a(278),a(279),a(285),a(286),a(287),a(288),a(289),a(290),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(163),a(302),a(303),a(165),a(304),a(305),a(306),a(307),a(91),a(308),a(309),a(312),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(376),a(377),a(118),a(380),a(381),a(382),a(384),a(172),a(429),a(173),a(440);var n=a(1),c=a.n(n),s=a(401),r=a.n(s),i=a(2),u=a(10),l=a(26),o=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,posts:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,posts:null,isFetching:!1,error:!1};case"LOGIN_FAIL":return{user:null,posts:null,isFetching:!1,error:t.payload};default:return e}},j=a(0),d={user:null,isFetching:!1,error:!1},b=Object(n.createContext)(d),O=function(e){var t=e.children,a=Object(n.useReducer)(o,d),c=Object(i.a)(a,2),s=c[0],r=c[1];return null!==s.user&&localStorage.setItem("user",JSON.stringify(s.user)),Object(j.jsx)(b.Provider,{value:{user:s.user,isFetching:s.isFetching,error:s.error,dispatch:r},children:t})};a(485);function p(){return Object(j.jsx)("div",{className:"errorMessage",children:Object(j.jsx)("h1",{className:"errorTitle",children:"ERROR 404!"})})}var m=a(4),h=a.n(m),x=a(6),f=a(562),v=a(5),g=a.n(v),_=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_START"}),e.prev=1,e.next=4,g.a.post("api/login",t);case 4:n=e.sent,a({type:"LOGIN_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"LOGIN_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),y=_;a(504);function N(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1];Object(n.useEffect)(Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("/api/user").then((function(e){if(!e)throw new Error("\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")})).catch((function(e){o(!0),c("\u041e\u0448\u0438\u0431\u043a\u0430: "+e.message)}));case 1:case"end":return e.stop()}}),e)}))),[]);var d=Object(n.useRef)(),O=Object(n.useRef)(),p=Object(n.useContext)(b),m=p.isFetching,v=p.error,_=p.dispatch;return Object(j.jsxs)("div",{className:"login",children:[!a&&v&&Object(j.jsx)("div",{className:"error",children:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),l&&Object(j.jsx)("div",{className:"error",children:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"}),Object(j.jsx)("div",{className:"loginWrapper",children:Object(j.jsx)("div",{className:"loginCenter",children:Object(j.jsxs)("form",{className:"loginBox",onSubmit:function(e){e.preventDefault(),y({email:d.current.value.toUpperCase(),password:O.current.value},_)},children:[Object(j.jsx)("input",{placeholder:"Email",className:"loginInput",type:"emailLogin",ref:d,required:!0}),Object(j.jsx)("input",{placeholder:"Password",type:"password",className:"loginInput",ref:O,required:!0,minLength:"6"}),Object(j.jsx)("button",{className:"loginButton",type:"submit",disabled:m,children:m?Object(j.jsx)(f.a,{style:{color:"white"}}):"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsx)(u.b,{to:"/register",style:{width:"167%"},children:Object(j.jsx)("button",{className:"loginRegisterButton",disabled:m,children:m?Object(j.jsx)(f.a,{style:{color:"white"}}):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})})})]})}a(512);function k(e){var t=e.post;return Object(j.jsxs)("tr",{className:"info",children:[Object(j.jsx)("td",{className:"infopostdate",children:t.workdate}),Object(j.jsx)("td",{className:"infotable",children:t.workstart}),Object(j.jsx)("td",{className:"infotable",children:t.workend}),Object(j.jsx)("td",{className:"infotable",children:t.worklong}),Object(j.jsxs)("td",{className:"infotable",children:["0"===t.healthstart?"\u0411\u043e\u043b\u0435\u043d":"\u0417\u0434\u043e\u0440\u043e\u0432",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"1"===t.healthend||"-"===t.healthend?"\u0417\u0434\u043e\u0440\u043e\u0432":"0"===t.healthend?"\u0411\u043e\u043b\u0435\u043d":""]}),Object(j.jsxs)("td",{className:"infoComment",children:[t.commentstart,Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),t.commentend]})]})}a(513);function w(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,c=e.currentPage,s=[],r=1;r<=Math.ceil(a/t);r++)s.push(r);return Object(j.jsx)(j.Fragment,{children:s.length>1?Object(j.jsx)("div",{className:"pagination",children:s.map((function(e,t){return Object(j.jsx)("div",{className:c===e?"pageItemNow":"pageItem",onClick:function(){return n(e)},children:e},t)}))}):Object(j.jsx)(j.Fragment,{})})}a(514);function S(e){var t=e.post;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"vacationpost",children:t.workdate}),Object(j.jsx)("td",{className:"vacationpost",children:t.worked}),Object(j.jsx)("td",{className:"vacationpost",children:t.work.replace(/(^|\s)0/g,"$1")}),Object(j.jsx)("td",{className:"vacationpost",children:"5"===t.typework_id?"\u041e\u0442\u043f\u0443\u0441\u043a":"3"===t.typework_id?"\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439":"7"===t.typework_id?"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430":"6"===t.typework_id?"\u041e\u0442\u0433\u0443\u043b":""}),Object(j.jsx)("td",{className:"vacationpostComment",children:t.commentstart})]})}a(515);var C=a(563);a(516);var I=function(e){var t=e.active,a=e.setActive,n=e.children;return Object(j.jsx)("div",{className:t?"modal active":"modal",children:Object(j.jsxs)("div",{className:t?"modalContent active":"modalContent",onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{className:"closeModal",children:Object(j.jsx)("span",{onClick:function(){return a(!1)},children:Object(j.jsx)(C.a,{})})}),n]})})};function D(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),u=r[0],o=r[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),O=b[0],p=b[1],m=Object(n.useState)(1),f=Object(i.a)(m,2),v=f[0],_=f[1],y=Object(n.useState)(30),N=Object(i.a)(y,1)[0],C=v*N,D=C-N,R=a.slice(D,C),M=v*N,L=M-N,A=u.slice(L,M),V=Object(n.useRef)(null),P=Object(n.useRef)(null),B=Object(n.useState)(!1),E=Object(i.a)(B,2),F=E[0],T=E[1],U=Object(n.useState)([]),Y=Object(i.a)(U,2),J=Y[0],q=(Y[1],Object(n.useState)("")),W=Object(i.a)(q,2),H=W[0],$=W[1],G=Object(n.useState)(""),X=Object(i.a)(G,2),z=X[0],K=X[1],Q=Object(l.h)(),Z=Q?{_id:Q.username,email:""}:JSON.parse(localStorage.getItem("user")),ee=Object(n.useState)(!0),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),se=Object(i.a)(ce,2),re=se[0],ie=se[1],ue=Object(n.useState)(null),le=Object(i.a)(ue,2),oe=le[0],je=le[1],de=Object(n.useRef)(),be=Object(n.useRef)(),Oe=Object(n.useRef)();Object(n.useEffect)((function(){p(!0),pe()}),[Q]);var pe=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/post?type=1&id="+Z._id);case 2:t=e.sent,c(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e){return _(e)},he=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=V.current.value,a=P.current.value,""===t||""===a?$("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||$("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?$("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startdate:V.current.value,enddate:P.current.value,userId:Z._id,typework:ae},$(""),s=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/filter",n);case 2:t=e.sent,console.log("res=",t.data),o(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),c(t.data.sort((function(e,t){return new Date(t.workstart)-new Date(e.workstart)}))),$("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(""),T(!1),V.current.value="",P.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p(!0),fe()}),[Q]);var fe=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/vacation?id="+Z._id);case 2:t=e.sent,console.log("res=",t.data),o(t.data.sort((function(e,t){return new Date(t.start)-new Date(e.start)}))),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),new Date,""!==be.current.value&&""!==Oe.current.value&&null!==oe&&""!==de.current.value){e.next=5;break}return K("\u0412c\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),e.abrupt("return");case 5:if(!(new Date(be.current.value)>new Date(Oe.current.value)&&""!==Oe.current.value)){e.next=8;break}return K("\u0412\u0442\u043e\u0440\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043f\u0435\u0440\u0432\u043e\u0439"),e.abrupt("return");case 8:return a={userId:Z._id,status:oe,comment:de.current.value,start:new Date(be.current.value),end:new Date(Oe.current.value)},e.prev=9,e.next=12,g.a.post("/api/vacation/",a);case 12:window.location.reload(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){je(e.target.value)};return Object(j.jsxs)("div",{className:"historyInfo",children:[Object(j.jsxs)("div",{className:"historyInfoTop",children:[Object(j.jsx)("span",{className:"historyInfoTitle",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(j.jsx)("span",{className:"workVacation",onClick:function(){ae?fe():pe(),ne(!ae),$(""),T(!1),V.current.value="",P.current.value=""},children:ae?Object(j.jsx)("button",{className:"filterButton",style:{width:"155px"},children:"\u041e\u0442\u043f\u0443\u0441\u043a/\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"}):Object(j.jsx)("button",{className:"filterButton",children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),!ae&&(Z||Q===Z._id)&&Object(j.jsx)("div",{className:"addVacation",onClick:function(){return ie(!0)},children:Object(j.jsx)("span",{children:"+"})})]}),Object(j.jsx)("hr",{}),H&&Object(j.jsx)("div",{className:"errorHistoryInfo",children:H}),Object(j.jsxs)("div",{className:"historyFilter",children:[Object(j.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:V,style:{marginRight:"10px"}}),"\u2014  ",Object(j.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:P,style:{marginRight:"10px"}}),Object(j.jsx)("button",{className:"filterButton",onClick:he,children:"\u041e\u043a"}),Object(j.jsx)("button",{className:"filterButton",onClick:xe,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),ae?Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"historyinfodate",children:"\u0414\u0430\u0442\u0430"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"}),Object(j.jsx)("td",{className:"historyinfocomment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]}):Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"historyinfopostdate",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u041a\u043e\u043d\u0435\u0446"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsx)("td",{className:"historyinfopost",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"}),Object(j.jsx)("td",{className:"historycomment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]}),ae?O?Object(j.jsx)("div",{className:"isFatching",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):F?J.map((function(e,t){return Object(j.jsx)(k,{post:e,username:Q},t)})):R.map((function(e,t){return Object(j.jsx)(k,{post:e,username:Q},t)})):O?Object(j.jsx)("div",{className:"isFatching",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):F?J.map((function(e,t){return Object(j.jsx)(S,{post:e,username:Q},t)})):A.map((function(e,t){return Object(j.jsx)(S,{post:e},t)})),ae?Object(j.jsx)(w,{postsPerPage:N,totalPosts:a.length,paginate:me,currentPage:v}):Object(j.jsx)(w,{postsPerPage:N,totalPosts:u.length,paginate:me,currentPage:v}),Object(j.jsxs)(I,{active:re,setActive:ie,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),z&&Object(j.jsx)("div",{className:"errorHistoryInfo",children:z}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:ve,children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",width:"60%",marginLeft:"20%"},children:[Object(j.jsxs)("label",{htmlFor:"sickLeave",children:[Object(j.jsx)("input",{type:"radio",value:3,id:"sickLeave",name:"sickLeave",onChange:ge,checked:"3"===oe}),"\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"]}),Object(j.jsxs)("label",{htmlFor:"vacation",children:[Object(j.jsx)("input",{type:"radio",value:5,id:"vacation",name:"vacation",onChange:ge,checked:"5"===oe}),"\u041e\u0442\u043f\u0443\u0441\u043a"]}),Object(j.jsxs)("label",{htmlFor:"time",children:[Object(j.jsx)("input",{type:"radio",value:6,id:"other",name:"time",onChange:ge,checked:"6"===oe}),"\u041e\u0442\u0433\u0443\u043b"]}),Object(j.jsxs)("label",{htmlFor:"anotherReason",children:[Object(j.jsx)("input",{type:"radio",value:7,id:"anotherReason",name:"anotherReason",onChange:ge,checked:"7"===oe}),"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430"]})]}),Object(j.jsxs)("div",{className:"inputVacanciesDiv",children:[Object(j.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInputInfoVacancies",ref:be,style:{marginRight:"10px"}}),"\u2014   ",Object(j.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInputInfoVacancies",ref:Oe,style:{marginRight:"10px"}})]}),Object(j.jsx)("input",{placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",className:"ModalInputInfoVacanciesComment",ref:de}),Object(j.jsx)("button",{className:"ModalButton",type:"submit",disabled:O,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})}var R=a(36),M=a(50),L=a(13),A=a(564),V=a(565),P=a(566),B=(a(517),function(e){var t=e.modalActiveSkills,a=e.setModalActiveSkills,c=Object(n.useRef)(),s=Object(l.h)(),r=JSON.parse(localStorage.getItem("user")),u=Object(n.useState)(""),o=Object(i.a)(u,2),d=o[0],b=o[1],O=Object(n.useState)([]),p=Object(i.a)(O,2),m=p[0],f=p[1],v=Object(n.useState)(""),_=Object(i.a)(v,2),y=_[0],N=_[1],k=Object(n.useState)([]),w=Object(i.a)(k,2),S=w[0],C=w[1],D=Object(n.useState)([]),R=Object(i.a)(D,2),M=R[0],L=R[1],A=Object(n.useState)([]),V=Object(i.a)(A,2),P=V[0],B=V[1],E=Object(n.useState)(null),F=Object(i.a)(E,2),T=F[0],U=F[1],Y=Object(n.useState)(null),J=Object(i.a)(Y,2);J[0],J[1];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+s.username);case 2:return t=e.sent,a=t.data.id,e.next=6,g.a.get("/api/Skills/");case 6:return null===(n=e.sent).data[0].get_all_skills_json?f([]):f(n.data[0].get_all_skills_json),e.next=10,g.a.get("/api/Skills/"+a);case 10:null===(c=e.sent).data[0].get_user_skills_json?L([]):L(c.data[0].get_user_skills_json);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var q=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(null),0!==S.length){e.next=5;break}N("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435"),e.next=26;break;case 5:if(null!=T){e.next=9;break}N("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u0442 1 \u0434\u043e 5"),e.next=26;break;case 9:if(!(0===S.length&&T>0)){e.next=13;break}N("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435"),e.next=26;break;case 13:return t={user_id:s.username,skill_id:S,self_grade:T},(S.length>0||null!==T||0===S.length&&T>0)&&N(""),e.next=17,g.a.post("/api/Skills/",t);case 17:return e.sent,e.next=20,g.a.get("/api/user/"+s.username);case 20:return a=e.sent,n=a.data.id,e.next=24,g.a.get("/api/Skills/"+n);case 24:null===(c=e.sent).data[0].get_user_skills_json?L([]):L(c.data[0].get_user_skills_json);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n,c,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n={is_active:!1,skill_id:a},e.next=4,g.a.post("/api/Skills/",n);case 4:return e.sent,e.next=7,g.a.get("/api/user/"+s.username);case 7:return c=e.sent,r=c.data.id,e.next=11,g.a.get("/api/Skills/"+r);case 11:null===(i=e.sent).data[0].get_user_skills_json?L([]):L(i.data[0].get_user_skills_json);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var n,c,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,c=n.name,r=n.value,i={user_id:s.username,skill_id:a},"gradeSelf"===c&&void 0!==r?i.newGradeSelf=r:"gradeHead"===c&&void 0!==r&&(i.newGradeHead=r),e.next=5,g.a.post("/api/Skills/",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{children:Object(j.jsxs)(I,{active:t,setActive:a,children:[Object(j.jsx)("h1",{children:"\u041d\u0430\u0432\u044b\u043a\u0438:"}),Object(j.jsx)("div",{className:"error",children:y}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"modalError"}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("label",{style:{fontWeight:"bold"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043c\u0435\u043d\u0438\u0435:"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435",ref:c,className:"registerInput",value:d,onChange:function(e){var t=e.target.value;b(t);var a=m.filter((function(e){return e.name&&e.name.toLowerCase().includes(t.toLowerCase())}));B(""===t?[]:a)}}),Object(j.jsx)("div",{children:P.length>0&&Object(j.jsx)("div",{className:"divSelectRegister",children:P.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:t,onClick:function(){return function(e,t){B([]),C(e),b(t)}(e.id,e.name)},children:e.name},t)}))})})]})]}),Object(j.jsx)("div",{style:{width:"50px"}}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("label",{style:{fontWeight:"bold"},children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"MainContainer",children:[1,2,3,4,5].map((function(e){return Object(j.jsx)("div",{className:"WrapperContainer ".concat(T===e?"selected":""),onClick:function(){return function(e){U(e),console.log("You clicked number ".concat(e))}(e)},children:e},e)}))})})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"ModalButton",type:"submit",onClick:q,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"divreserve",children:Object(j.jsxs)("table",{className:"skills-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"skills-header",children:[Object(j.jsx)("th",{children:"\u041d\u0430\u0432\u044b\u043a"}),Object(j.jsx)("th",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),Object(j.jsx)("th",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:M.map((function(e,t){return Object(j.jsxs)("tr",{className:"skill-item",children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("select",{name:"gradeSelf",defaultValue:e.self_grade,onChange:function(t){return H(t,e.id)},children:[1,2,3,4,5].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))})}),Object(j.jsx)("td",{children:Object(j.jsxs)("select",{name:"gradeHead",defaultValue:e.head_grade,disabled:!r.isAdmin,onChange:function(t){return H(t,e.id)},children:[null!==e.head_grade||r.isAdmin?"":Object(j.jsx)("option",{children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438"}),null===e.head_grade?Object(j.jsx)("option",{children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438"}):"",[1,2,3,4,5].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{value:e.id,className:"SkillButton",onClick:W,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)}))})]})}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})})}),E=a(93),F=a.n(E),T=function(e){var t=e.allDateUser;Object(n.useEffect)((function(){if(t&&(G(t.vacancies_name),oe(t.grade),d(t.vacancies_department_id),ae(t.description),re(t.vacancies_status_id),y(t.company_id),S(t.vacancy_code),R(t.project_id),q(t.vacancy_id),Q(t.id),null!==t.planned_release_date)){var e=F()(t.planned_release_date).format("YYYY-MM-DD");T(e)}}),[t]);var a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],r=c[1],u=Object(n.useState)(""),l=Object(i.a)(u,2),o=l[0],d=l[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),w=k[0],S=k[1],C=Object(n.useState)([]),I=Object(i.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(""),L=Object(i.a)(M,2),A=L[0],V=L[1],P=Object(n.useState)([]),B=Object(i.a)(P,2),E=B[0],T=B[1],U=Object(n.useState)(""),Y=Object(i.a)(U,2),J=Y[0],q=Y[1],W=Object(n.useState)(""),H=Object(i.a)(W,2),$=H[0],G=H[1],X=Object(n.useState)(""),z=Object(i.a)(X,2),K=z[0],Q=z[1],Z=Object(n.useState)(""),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(i.a)(ne,2),se=ce[0],re=ce[1],ie=Object(n.useState)(""),ue=Object(i.a)(ie,2),le=ue[0],oe=ue[1],je=Object(n.useState)(""),de=Object(i.a)(je,2),be=(de[0],de[1]),Oe=Object(n.useState)(""),pe=Object(i.a)(Oe,2),me=pe[0],he=pe[1],xe=Object(n.useState)([]),fe=Object(i.a)(xe,2),ve=fe[0],ge=fe[1],_e=Object(n.useState)([]),ye=Object(i.a)(_e,2),Ne=ye[0],ke=ye[1],we=Object(n.useState)([]),Se=Object(i.a)(we,2),Ce=Se[0],Ie=Se[1],De=Object(n.useRef)(),Re=Object(n.useRef)(),Me=Object(n.useRef)(),Le=Object(n.useRef)(),Ae=Object(n.useRef)(),Ve=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?status=status");case 2:return t=e.sent,r(t.data),e.next=6,g.a.get("/api/departments/");case 6:return a=e.sent,Fe(a.data),e.next=10,g.a.get("/api/Vacations/?company=company");case 10:return n=e.sent,m(n.data),e.next=14,g.a.get("/api/user");case 14:c=e.sent,Ie(c.data);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Pe=Object(n.useState)([]),Be=Object(i.a)(Pe,2),Ee=Be[0],Fe=Be[1],Te=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={namevacanciesId:J,namevacancies:$,description:te,grade:le,statuses:De.current.value,users:0===ve.length?K:ve,search:ve,old_user:K,deps:o,company_id:_,vacancy_code:w,project_id:D,planned_release_date:0===Ve.current.value.length?null:Ve.current.value},!("3"===De.current.value&&null===K&&ve.length<1)){e.next=5;break}V("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"),e.next=10;break;case 5:return e.next=7,g.a.put("/api/Vacations/",t);case 7:e.sent,V("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"MessageItemVacancies",children:Object(j.jsx)("span",{children:A})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",className:"ModalInputVacancies",value:$,onChange:function(e){G(e.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{className:"textDescription",value:te,onChange:function(e){ae(e.target.value)}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:Re,value:o,onChange:function(){d(Re.current.value)},className:"InputVacanciesItemDeps",children:Ee.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.department_name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:De,value:se,onChange:function(){re(De.current.value)},className:"InputVacanciesItemSelect",children:s.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0413\u0440\u0435\u0439\u0434:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",value:le,onChange:function(e){/^\d*$/.test(e.target.value)&&oe(e.target.value)},placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacanciesItem"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:Me,value:_,onChange:function(){y(Me.current.value)},className:"InputVacanciesItemSelect",children:p.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"inputDiv",children:[Object(j.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",value:me||t&&t.user_name,onChange:function(e){var t=e.target.value;he(""===t?null:t);var a=Ce.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));""===t?be(""):ke(a)},className:"InputVacanciesItem"}),Ne.length>0&&Object(j.jsx)("div",{className:"userListContainer",children:Ne.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){ge(t),console.log("old=",t),he(e),ke([])}(e.user_name,e.id)},children:e.user_name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"date",ref:Ve,placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem",value:E,onChange:function(){T(Ve.current.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0418\u0422\u0421:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",ref:Le,value:w,onChange:function(){S(Le.current.value)},placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",ref:Ae,value:D,onChange:function(e){/^\d*$/.test(e.target.value)&&R(e.target.value)},placeholder:"\u041f\u0440\u043e\u0435\u043a\u0442(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",className:"InputVacanciesItem"})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"divHistory",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"ModalButton",type:"submit",onClick:Te,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})};a(519);var U=function(e){var t=e.active,a=e.setActive,n=e.children;return Object(j.jsx)("div",{className:t?"modal1 active":"modal1",children:Object(j.jsxs)("div",{className:t?"modalContent1 active":"modalContent1",onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{className:"closeModal1",children:Object(j.jsx)("span",{onClick:function(){return a(!1)},children:Object(j.jsx)(C.a,{})})}),n]})})};var Y=function(e){var t=e.modalActive,a=e.setModalActive,c=Object(l.h)(),s=Object(n.useState)(""),r=Object(i.a)(s,2),u=r[0],o=(r[1],Object(n.useState)("")),d=Object(i.a)(o,2),b=d[0],O=d[1],p=Object(n.useState)([]),m=Object(i.a)(p,2),f=m[0],v=m[1],_=Object(n.useState)([]),y=Object(i.a)(_,2),N=y[0],k=y[1],w=Object(n.useState)(""),S=Object(i.a)(w,2),C=S[0],D=S[1],R=Object(n.useState)([]),M=Object(i.a)(R,2),A=M[0],V=M[1],P=Object(n.useState)([]),B=Object(i.a)(P,2),E=B[0],F=B[1],T=Object(n.useState)([]),U=Object(i.a)(T,2),Y=U[0],J=U[1],q=Object(n.useState)([]),W=Object(i.a)(q,2),H=W[0],$=W[1],G=Object(n.useState)([]),X=Object(i.a)(G,2),z=X[0],K=X[1],Q=Object(n.useState)([]),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(n.useState)([]),ne=Object(i.a)(ae,2),ce=ne[0],se=ne[1],re=Object(n.useState)([]),ie=Object(i.a)(re,2),ue=ie[0],le=ie[1],oe=Object(n.useState)([]),je=Object(i.a)(oe,2),de=je[0],be=je[1],Oe=Object(n.useState)([]),pe=Object(i.a)(Oe,2),me=pe[0],he=pe[1],xe=Object(n.useState)([]),fe=Object(i.a)(xe,2),ve=fe[0],ge=fe[1],_e=Object(n.useState)([]),ye=Object(i.a)(_e,2),Ne=ye[0],ke=ye[1],we=Object(n.useState)([]),Se=Object(i.a)(we,2),Ce=Se[0],Ie=Se[1],De=Object(n.useState)([]),Re=Object(i.a)(De,2),Me=Re[0],Le=Re[1],Ae=JSON.parse(localStorage.getItem("user")),Ve=Object(n.useRef)(),Pe=Object(n.useRef)(),Be=Object(n.useRef)(),Ee=Object(n.useRef)(),Fe=Object(n.useRef)(),Te=Object(n.useRef)(),Ue=Object(n.useRef)(),Ye=Object(n.useState)([]),Je=Object(i.a)(Ye,2),qe=Je[0],We=Je[1],He=Object(n.useState)(""),$e=Object(i.a)(He,2),Ge=$e[0],Xe=$e[1],ze=Object(n.useState)([]),Ke=Object(i.a)(ze,2),Qe=Ke[0],Ze=Ke[1],et=Object(n.useState)([]),tt=Object(i.a)(et,2),at=tt[0],nt=tt[1];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/department_tree_to_json/");case 2:a=e.sent,n=a.data[0].department_tree_to_json,c=t(n),Le(c),O(N.department_id);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function e(t){var a=[{id:t.id,name:t.Name}];return t.Subclasses&&t.Subclasses.length>0&&t.Subclasses.forEach((function(t){a=a.concat(e(t))})),a},a=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:c.username},e.next=3,g.a.post("/api/departments/",t);case 3:a=e.sent,v(a.data[0].city_name);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+c.username);case 2:return t=e.sent,k(t.data),e.next=6,g.a.get("/api/Cities/");case 6:a=e.sent,nt(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();N&&N.email&&A&&V(N.email),N&&N.phone_number&&Y&&J(N.phone_number),N&&N.additional_contact&&z&&K(N.additional_contact),N&&N.distribution_group&&ce&&se(N.distribution_group),N&&N.activity_profile&&de&&be(N.activity_profile),N&&N.place_of_residence&&ve&&ge(N.place_of_residence),function(){if(N.user_name){var e=N.user_name.split(" "),t=Object(i.a)(e,2),a=t[0],n=t[1];Ie(n||""),D(a)}}(),n(),e(),a()}),[N.user_name,N.email,N.phone_number,N.additional_contact,N.distribution_group,N.activity_profile,N.place_of_residence,c.username]);var ct=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=N.user_name,n.split(" "),t.preventDefault(),s={departmentId:Ve.current.value||N.department_id,email:A||E.toUpperCase(),username:C+" "+Ce,_id:N.id,isAdmin:N.isadmin,see_child:N.see_child,status:N.status,main_department:N.main_department,phone_number:""===Pe.current.value?"":Pe.current.value,additional_contact:Be.current.value,distribution_group:Ee.current.value,activity_profile:Fe.current.value,city_id:qe,cityPlaceChange:Ue.current.value},Ae._id===c.username){e.next=11;break}return r={departmentId:Ve.current.value||N.department_id,email:A||E.toUpperCase(),username:C+" "+Ce,phone_number:""===Pe.current.value?"":Pe.current.value,additional_contact:Be.current.value,distribution_group:Ee.current.value,activity_profile:Fe.current.value,city_id:qe,_id:N.id,cityPlaceChange:Ue.current.value},e.next=8,g.a.put("/api/user/",r);case 8:window.location.reload(),e.next=22;break;case 11:return e.next=13,g.a.put("/api/user/",s);case 13:delete s.phone_number,delete s.additional_contact,delete s.distribution_group,delete s.activity_profile,delete s.city_id,delete s.cityPlaceChange,localStorage.setItem("user",JSON.stringify(Object(L.a)({},s))),a(!1),window.location.reload();case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(I,{active:t,setActive:a,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),u&&Object(j.jsx)("div",{className:"modalError",children:u}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:ct,children:[Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",className:"ModalInputUpdate",onChange:function(e){D(e.target.value)},value:C})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u0418\u043c\u044f",className:"ModalInputUpdate",onChange:function(e){Ie(e.target.value)},value:Ce})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"Email",type:"email",className:"ModalInputUpdate",onChange:function(e){e.target.value&&(V(""),F(e.target.value)),""===e.target.value&&(V(""),F(""))},value:A||E,minLength:6})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",className:"ModalInputUpdate",ref:Pe,onChange:function(e){e.target.value&&(J(""),$(e.target.value)),""===e.target.value&&(J(""),$(""));var t=e.target.value;if(t.length<1)$("");else{var a=function(e){var t=e.replace(/\D/g,"");t.startsWith("7")&&(t=t.slice(1));var a=(t=t.slice(0,10)).match(/^(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})$/);return a?"+7 "+[a[1],a[2],a[3],a[4]].filter(Boolean).join("-"):"+7 "+t}(t);$(a)}},value:Y||H})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u0414\u043e\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442(\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430,\u0424\u0418\u041e,\u0441\u0442\u0430\u0442\u0443\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430)",type:"text",className:"ModalInputUpdate",ref:Be,onChange:function(e){e.target.value&&(K(""),te(e.target.value)),""===e.target.value&&(K(""),te(""))},value:z||ee})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438",type:"text",className:"ModalInputUpdate",ref:Ee,onChange:function(e){e.target.value&&(se(""),le(e.target.value)),""===e.target.value&&(se(""),le(""))},value:ce||ue})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{placeholder:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",type:"text",className:"ModalInputUpdate",ref:Fe,onChange:function(e){e.target.value&&(be(""),he(e.target.value)),""===e.target.value&&(be(""),he(""))},value:de||me})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{placeholder:"\u0413\u043e\u0440\u043e\u0434",type:"text",className:"ModalInputUpdate",ref:Te,value:Ge||f,onChange:function(e){var t=e.target.value;if(Xe(t),""===t)return We(""),Ze([]),void v("");var a=at.filter((function(e){return e.city_name&&e.city_name.toLowerCase().includes(t.toLowerCase())}));Ze(a)}}),Object(j.jsxs)("div",{children:[Qe.length>0&&Object(j.jsx)("div",{className:"divSelectRegister",children:Qe.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){We(t),Xe(e),Ze([])}(e.city_name,e.id)},children:e.city_name},t)}))}),Object(j.jsx)("input",{placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",type:"text",className:"ModalInputUpdate",ref:Ue,onChange:function(e){e.target.value&&(ge(""),ke(e.target.value)),""===e.target.value&&(ge(""),ke(""))},value:ve||Ne})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("select",{value:b,onChange:function(e){O(e.target.value)},ref:Ve,className:"ModalInputUpdateSelect",children:Me.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(j.jsx)("button",{className:"ModalButton",type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})};a(520);var J=function(e){var t=e.modalActiveDelete,a=e.setModalActiveDelete,n=e.username,c=e.user,s=function(){var e=Object(x.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={userId:n.username,healthEnd:1,status:4},e.prev=2,e.next=5,g.a.put("/api/deluser/",s);case 5:a(!1),window.location.href="/profile/".concat(c.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{children:Object(j.jsxs)(I,{active:t,setActive:a,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:s,children:[Object(j.jsx)("h2",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d"}),Object(j.jsx)("button",{className:"ModalButtonDelete",type:"submit",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})};function q(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(""),s=Object(i.a)(c,2),r=(s[0],s[1]),o=Object(n.useState)(),d=Object(i.a)(o,2),b=d[0],O=d[1],p=Object(n.useState)(!1),m=Object(i.a)(p,2),f=m[0],v=m[1],_=Object(n.useState)(""),y=Object(i.a)(_,2),N=y[0],k=y[1],w=Object(n.useState)(null),S=Object(i.a)(w,2),C=S[0],D=S[1],E=Object(n.useState)(),F=Object(i.a)(E,2),q=F[0],W=F[1],H=Object(n.useState)({}),$=Object(i.a)(H,2),G=$[0],X=$[1],z=Object(n.useState)([]),K=Object(i.a)(z,2),Q=K[0],Z=K[1],ee=Object(n.useState)([]),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),se=Object(i.a)(ce,2),re=se[0],ie=se[1],ue=Object(n.useState)([]),le=Object(i.a)(ue,2),oe=le[0],je=le[1],de=Object(n.useState)([]),be=Object(i.a)(de,2),Oe=be[0],pe=be[1],me=Object(n.useState)(!1),he=Object(i.a)(me,2),xe=he[0],fe=he[1],ve=Object(n.useState)(!1),ge=Object(i.a)(ve,2),_e=ge[0],ye=ge[1],Ne=Object(n.useState)(!1),ke=Object(i.a)(Ne,2),we=ke[0],Se=ke[1],Ce=Object(n.useState)(!1),Ie=Object(i.a)(Ce,2),De=Ie[0],Re=Ie[1],Me=Object(n.useState)(!1),Le=Object(i.a)(Me,2),Ae=Le[0],Ve=Le[1],Pe=Object(n.useState)([]),Be=Object(i.a)(Pe,2),Ee=Be[0],Fe=Be[1],Te=Object(n.useState)(!1),Ue=Object(i.a)(Te,2),Ye=Ue[0],Je=Ue[1],qe=Object(n.useState)(!1),We=Object(i.a)(qe,2),He=We[0],$e=We[1],Ge=Object(n.useState)(!1),Xe=Object(i.a)(Ge,2),ze=Xe[0],Ke=Xe[1],Qe=Object(n.useState)(!1),Ze=Object(i.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(n.useState)(""),nt=Object(i.a)(at,2),ct=nt[0],st=nt[1],rt=Object(l.h)(),it=rt?{_id:rt.username,email:""}:JSON.parse(localStorage.getItem("user")),ut=JSON.parse(localStorage.getItem("user")),lt=Object(n.useRef)(),ot=Object(n.useRef)(),jt=Object(n.useRef)(),dt=Object(n.useState)([]),bt=Object(i.a)(dt,2),Ot=bt[0],pt=bt[1],mt=Object(n.useState)(!1),ht=Object(i.a)(mt,2),xt=ht[0],ft=ht[1],vt={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=Object.keys(It).some((function(e){return Oe.nomination_status===e||Oe.nomination_status===parseInt(e)}));ft(e);var t=function(){var e=Object(x.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:rt.username},e.next=3,g.a.post("/api/departments/",t);case 3:n=e.sent,a(n.data[0].timezone),ie(n.data[0].department_name),je(n.data[0].city_name);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return it._id=it._id?it._id:it.id,it._id=rt?rt.username:it._id,e.next=4,g.a.get("/api/user/"+rt.username);case 4:return t=e.sent,pe(t.data),fe(!1),e.next=9,g.a.get("/api/user/");case 9:a=e.sent,n=a.data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),c=n.filter((function(e){return e.id!==rt.username&&4!==e.status})),ne(c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/vote/");case 2:t=e.sent,Fe(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(),n(),t()}),[Oe.user_name,Oe.email,Oe.phone_number,Oe.additional_contact,Oe.distribution_group,Oe.activity_profile,Oe.place_of_residence,rt.username]);var gt=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ot.current.value===jt.current.value){e.next=4;break}return st("\u041d\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),e.abrupt("return");case 4:return a={userId:ut._id,password:ut.password,oldPassword:lt.current.value,newPassword:ot.current.value},e.prev=5,e.next=8,g.a.put("/api/newPassword/",a);case 8:Se(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),st("\u0421\u0442\u0430\u0440\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={userId:rt.username,newPassword:"qwerty123"},e.prev=2,e.next=5,g.a.put("/api/resetPassword/",a);case 5:Je(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==Oe.status){e.next=6;break}return t={status:2,typework_id:1,userId:Oe.id,healthEnd:"-",commentEnd:"-",workEnd:new Date(Date.now())},e.next=4,g.a.put("/api/post/",t);case 4:e.next=7;break;case 6:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={userId:rt.username,healthEnd:1,status:4},e.prev=2,e.next=5,g.a.put("/api/deluser/",a);case 5:Ke(!1),window.location.href="/profile/".concat(Oe.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();(it=Oe&&!Array.isArray(Oe)?Oe:it).username=it.user_name?it.user_name:it.username;var kt=it.email.toLowerCase(),wt=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("chek=",G),e.next=3,g.a.get("/api/user/"+rt.username);case 3:if(e.sent,t={userId:rt.username,id_nomination:q},void 0!==q){e.next=9;break}st("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"),e.next=13;break;case 9:return e.next=11,g.a.post("/api/vote/",t);case 11:Ve(!1),window.location.reload();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+rt.username);case 2:return e.sent,t={userId:rt.username,id_nomination:null},e.next=6,g.a.post("/api/vote/",t);case 6:Ve(!1),window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve(!0),Re(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),It={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(j.jsxs)("div",{className:"profileInfo",children:[Object.keys(It).map((function(e,t){return(Oe.nomination_status===e||Oe.nomination_status===parseInt(e))&&Object(j.jsx)("img",{src:It[e].src,title:It[e].title,alt:"Image for ".concat(e),className:"imagesProfile"},t)})),xe?Object(j.jsx)("div",{className:"isFatching",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(j.jsxs)("div",{className:"employeePI "+function(e){for(var t in vt)if(t==e)return vt[t]}(Oe.status),children:[Object(j.jsxs)("div",{className:"ProfileName",style:{paddingTop:xt?"30px":"0px"},children:[Oe.user_name,ut.isAdmin||ut._id===rt.username?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(A.a,{style:{cursor:"pointer",fontSize:"20px",paddingLeft:"5px"},onClick:function(){return ye(!0)}}),Object(j.jsx)(Y,{modalActive:_e,setModalActive:ye})]}):"",ut.isAdmin?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V.a,{style:{cursor:"pointer",fontSize:"20px"},onClick:function(){return Ke(!0)}}),Object(j.jsx)(J,{modalActive:ze,setModalActive:Ke,username:rt.username,user:Oe.id})]}):"",!0===ut.isAdmin&&ut._id===Oe.id?Object(j.jsx)(u.b,{to:"/AdminPanel",children:Object(j.jsx)(P.a,{style:{cursor:"pointer",fontSize:"20px",paddingTop:"5px",color:"black"}})}):""]}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{style:{cursor:"pointer"},onClick:function(){ut.isAdmin&&(v(!0),O(Oe))},className:"ProfileLinkVacancies",children:Oe.vacancy_code})}),Object(j.jsxs)("div",{style:{border:"3px dashed black",padding:"10px"},children:[Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["Email: ",kt.charAt(0).toUpperCase()+kt.slice(1)]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",Oe.phone_number]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:[!1!==ut.isAdmin||ut._id===rt.username?"\u0414\u043e\u043f.\u041a\u043e\u043d\u0442\u0430\u043a\u0442: ":"",!1!==ut.isAdmin||ut._id===rt.username?Oe.additional_contact:""]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438: ",Oe.distribution_group]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: ",Oe.activity_profile]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",oe]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:[!1!==ut.isAdmin||ut._id===rt.username?"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ":"",!1!==ut.isAdmin||ut._id===rt.username?Oe.place_of_residence:""]}),Object(j.jsxs)("div",{className:"ProfileInfoCard",children:["\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435: ",re]})]}),ut.isAdmin||ut._id===rt.username?Object(j.jsx)("div",{className:"changePass",onClick:function(){return Se(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}):"",ut.isAdmin?Object(j.jsx)("div",{className:"changePass",onClick:function(){return Je(!0)},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}):"",ut.isAdmin?Object(j.jsx)("div",{className:"changePass",onClick:function(){return $e(!0)},children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"}):"",ut._id===Oe.id?Object(j.jsx)("div",{className:"changePass",onClick:function(){return Re(!0)},children:"\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"}):"",ut.isAdmin?Object(j.jsx)("div",{className:"changePass",onClick:Ct,children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"}):"",Object(j.jsx)("div",{className:"changePass",onClick:function(){return tt(!0)},children:"\u041d\u0430\u0432\u044b\u043a\u0438"}),Object(j.jsx)(B,{modalActiveSkills:et,setModalActiveSkills:tt})]}),Object(j.jsxs)(I,{active:we,setActive:Se,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),ct&&Object(j.jsx)("div",{className:"modalError",children:ct}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:gt,children:[Object(j.jsx)("input",{placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"inputChangePassword",ref:lt}),Object(j.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",className:"inputChangePassword",ref:ot,minLength:"6"}),Object(j.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0451 \u0440\u0430\u0437",type:"password",className:"inputChangePassword",ref:jt,minLength:"6"}),Object(j.jsx)("button",{className:"ModalButtonChangePassword",type:"submit",disabled:xe,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(j.jsxs)(I,{active:Ye,setActive:Je,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:_t,children:[Object(j.jsx)("h2",{children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u0443\u0434\u0435\u0442: qwerty123"}),Object(j.jsx)("button",{className:"ModalButtonRePasswordUser",type:"submit",disabled:xe,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]}),Object(j.jsxs)(I,{active:He,setActive:$e,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:yt,children:[Object(j.jsx)("h2",{children:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043e\u0442\u043c\u0435\u0442\u043a\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?"}),Object(j.jsx)("button",{className:"ModalButtonDelete",type:"submit",disabled:xe,children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})]})]}),Object(j.jsxs)(I,{active:ze,setActive:Ke,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:Nt,children:[Object(j.jsx)("h2",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d"}),Object(j.jsx)("button",{className:"ModalButtonDelete",type:"submit",disabled:xe,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]}),Object(j.jsxs)(I,{active:De,setActive:Re,children:[Object(j.jsx)("h1",{children:"\u041d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438:"}),ct&&Object(j.jsx)("div",{className:"modalError",children:ct}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"div",children:[Object(j.jsx)("div",{children:Ee.map((function(e,t){return Object(j.jsxs)("label",{htmlFor:e.id,children:[Object(j.jsx)("h3",{className:"inputVote",children:e.nominations_name}),e.description]},t)}))}),Object(j.jsx)("div",{className:"di",children:Ee.map((function(e,t){return Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("input",{onChange:function(e){return function(e,t){var a=t+1,n=e.target.value;k((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(M.a)({},a,n))})),D(a);var c=e.target.value;r(c);var s=ae.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(c.toLowerCase())}));pt(""===c?[]:s)}(e,t)},value:N[t+1]||"",className:"select"}),C===t+1&&Ot.length>0&&Object(j.jsx)("div",{className:"divSelectRegister",style:{position:"absolute",top:"100%",left:0,zIndex:1e3,marginLeft:"20px"},children:Ot.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",onClick:function(t){return function(e,t,a){pt([]),console.log("index=",t,a),k((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(M.a)({},C,a))})),e.preventDefault();var n=t.toString(),c=n.split("_");if(""!==c[0]&&""!==c[1]){c[1].toString();var s=c[0].toString(),r=Q.findIndex((function(e){return e.split("_")[0]===s}));if(-1!==r){var i=Object(R.a)(Q);return i[r]=n,console.log("\u041c\u0430\u0441\u0441\u0438\u0432 \u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u043c:",i),void Z(i)}var u=Object(R.a)(Q);u.push(n);var l=u.filter((function(e){return""!==e}));console.log("newArray=",l),Z(l)}}(t,C+"_"+e.id,e.user_name)},children:e.user_name},t)}))})]},t+1)}))})]}),Object(j.jsx)("button",{className:"button",type:"submit",disabled:xe,onClick:function(){0===Q.length?st("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438"):(Q.forEach(function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("_"),n={user_id:ut._id,vote_for_user:a[1],nominations_id:a[0]},e.next=4,g.a.post("/api/vote/",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re(!1))},children:"\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"})]}),Object(j.jsxs)(I,{active:Ae,setActive:Ve,children:[Object(j.jsx)("h1",{children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e:"}),ct&&Object(j.jsx)("div",{className:"modalError",children:ct}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"voteContainer",children:Ee.map((function(e,t){return Object(j.jsx)("div",{className:"voteItem",children:Object(j.jsxs)("label",{htmlFor:e.id,className:"inputVote",children:[Object(j.jsx)("input",{type:"checkbox",id:e.id,value:e.id,onChange:function(t){return function(e,t){var a=e.target,n=a.id,c=a.checked;X(c||null),W(e.target.value),X((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(M.a)({},n,c))})),pe((function(e){return Object(L.a)(Object(L.a)({},e),{},{nomination_status:c?t:null})}))}(t,e.id)},checked:Oe.nomination_status===e.id}),e.nominations_name," ",Object(j.jsx)("img",{src:"../images/".concat(e.id,".png"),alt:"Image for ".concat(e.nominations_name),className:"images"})]},t)},t)}))})}),Object(j.jsx)("button",{className:"button",type:"submit",disabled:xe,onClick:wt,children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}),Object(j.jsx)("button",{className:"button",type:"submit",disabled:xe,onClick:St,children:"\u0421\u043d\u044f\u0442\u044c \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044e"})]}),Object(j.jsx)(U,{active:f,setActive:v,children:Object(j.jsx)(T,{allDateUser:b})}),Object(j.jsx)(B,{})]})}a(521);function W(e){var t=JSON.parse(localStorage.getItem("user"));return Object(j.jsxs)("div",{className:"homeWrapper",children:[Object(j.jsx)(q,{username:e.username.username}),t._id!==e.username.username&&t.isAdmin||t._id===e.username.username?Object(j.jsx)(D,{}):""]})}a(522);function H(){var e=Object(l.h)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(W,{username:e})})}a(523);function $(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useRef)(),r=Object(n.useRef)(),o=Object(l.g)(),d=Object(n.useRef)(),b=Object(n.useRef)(),O=Object(n.useRef)(),p=Object(n.useRef)(),m=Object(n.useRef)(),f=Object(n.useRef)(),v=Object(n.useRef)(),_=Object(n.useRef)(),y=Object(n.useState)([]),N=Object(i.a)(y,2),k=N[0],w=N[1],S=Object(n.useState)([]),C=Object(i.a)(S,2),I=C[0],D=C[1],R=Object(n.useState)([]),M=Object(i.a)(R,2),L=M[0],A=M[1],V=Object(n.useState)([]),P=Object(i.a)(V,2),B=P[0],E=P[1],F=Object(n.useState)(""),T=Object(i.a)(F,2),U=T[0],Y=T[1],J=Object(n.useState)([]),q=Object(i.a)(J,2),W=q[0],H=q[1],$=Object(n.useState)(""),G=Object(i.a)($,2),X=G[0],z=G[1],K=Object(n.useState)(!1),Q=Object(i.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],se=Object(n.useState)([]),re=Object(i.a)(se,2),ie=re[0],ue=re[1],le=Object(n.useState)([]),oe=Object(i.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(""),Oe=Object(i.a)(be,2),pe=Oe[0],me=Oe[1],he=Object(n.useState)(""),xe=Object(i.a)(he,2),fe=xe[0],ve=xe[1],ge=Object(n.useState)([]),_e=Object(i.a)(ge,2),ye=_e[0],Ne=_e[1],ke=Object(n.useState)([]),we=Object(i.a)(ke,2),Se=we[0],Ce=we[1],Ie=function(){ee(!Z)};Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var a,n,c,s,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?company=company");case 2:return a=e.sent,E(a.data),e.next=6,g.a.get("/api/Vacations/");case 6:return n=e.sent,ce(n.data),e.next=10,g.a.get("/api/Cities/");case 10:return c=e.sent,H(c.data),e.next=14,g.a.get("/api/department_tree_to_json/");case 14:s=e.sent,r=s.data[0].department_tree_to_json,i=t(r),A(i);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function e(t){var a=[{id:t.id,name:t.Name}];return t.Subclasses&&t.Subclasses.length>0&&t.Subclasses.forEach((function(t){a=a.concat(e(t))})),a};e()}),[]);var De=function(){var n=Object(x.a)(h.a.mark((function n(i){var u,l,j;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),/^\u0418\u0422\u0421-[\d\W]+$/.test(pe)){n.next=5;break}return Y("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0418\u0422\u0421-XX-XX\u0425-\u0425\u0425\u0425XXXX"),n.abrupt("return");case 5:if(t.current.value===a.current.value){n.next=8;break}return a.current.setCustomValidity("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),n.abrupt("return");case 8:if(""!==r.current.value){n.next=11;break}return Y("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),n.abrupt("return");case 11:if(u=s.current.value+" "+c.current.value,""!==_.current.value){n.next=15;break}return Y("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"),n.abrupt("return");case 15:return l={user_name:u,email:e.current.value.toUpperCase(),department_id:r.current.value,password:t.current.value,isadmin:Z,phone_number:d.current.value,link_vacancies:0!==ye.length?ye:pe.trim().toUpperCase(),city_id:0===Se.length?null:Se,additionalContact:O.current.value,distributionGroup:p.current.value,activityProfile:f.current.value,place_of_residence:v.current.value,companyName:_.current.value,grade:k,project:I},n.prev=16,n.next=19,g.a.post("/api/Register/",l);case 19:if("Username user taken"!==(j=n.sent).data.status){n.next=24;break}Y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u0437\u0430 \u0442\u0430\u043a\u043e\u0439 \u0418\u0422\u0421"),n.next=40;break;case 24:if("Username taken"!==j.data.status){n.next=28;break}Y("\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=40;break;case 28:if("noITC"!==j.data.noITC){n.next=32;break}Y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u043e\u0439 \u0418\u0422\u0421 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=40;break;case 32:if("THIS IS ALREADY EXISTS"!==j.data.ITC){n.next=36;break}Y("\u0422\u0430\u043a\u0430\u044f \u0418\u0422\u0421 \u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),n.next=40;break;case 36:return console.log("log=",l),n.next=39,g.a.post("/api/Register/",l);case 39:o.push("/login");case 40:n.next=45;break;case 42:n.prev=42,n.t0=n.catch(16),Y("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438");case 45:case"end":return n.stop()}}),n,null,[[16,42]])})));return function(e){return n.apply(this,arguments)}}();function Re(e){""===e.target.value&&Y("Email \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u043e\u043c\u0435\u043d\u0430 VTB"),e.target.value.length>0&&Y("")}function Me(){Y(""),X.length<=3&&z("")}return Object(j.jsxs)("div",{className:"register",children:[Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"registerWrapper",children:Object(j.jsx)("div",{className:"registerCenter",children:Object(j.jsxs)("form",{className:"registerBox",onSubmit:De,children:[U&&Object(j.jsx)("div",{className:"errorRegister",children:U}),Object(j.jsx)("input",{placeholder:"\u0418\u043c\u044f",required:!0,ref:c,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",required:!0,ref:s,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",required:!0,ref:d,className:"registerInput",onMouseDown:Me,onChange:function(e){var t=e.target.value;if(t.length<1)z("");else{var a=function(e){var t=e.replace(/\D/g,"");t.startsWith("7")&&(t=t.slice(1));var a=(t=t.slice(0,10)).match(/^(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})$/);return a?"+7 "+[a[1],a[2],a[3],a[4]].filter(Boolean).join("-"):"+7 "+t}(t);z(a)}},value:X}),Object(j.jsx)("input",{placeholder:"\u0413\u043e\u0440\u043e\u0434",ref:b,className:"registerInput",value:fe,onChange:function(e){var t=e.target.value;ve(t);var a=W.filter((function(e){return e.city_name&&e.city_name.toLowerCase().includes(t.toLowerCase())}));de(""===t?[]:a)},onMouseDown:Me}),Object(j.jsx)("div",{children:je.length>0&&Object(j.jsx)("div",{className:"divSelectRegister",children:je.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){Ce(t),ve(e),de([])}(e.city_name,e.id)},children:e.city_name},t)}))})}),Object(j.jsx)("input",{placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",type:"text",required:!0,ref:v,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0414\u043e\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442(\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430,\u0424\u0418\u041e,\u0441\u0442\u0430\u0442\u0443\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430)",type:"text",required:!0,ref:O,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438",required:!0,ref:p,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e",required:!0,ref:m,className:"registerInput",value:pe,onChange:function(e){var t=e.target.value;0===pe.length&&Ne([]),me(t);var a=ne.filter((function(e){return e.vacancy_code&&e.vacancy_code.toLowerCase().includes(t.toLowerCase())}));ue(""===t?[]:a)},onMouseDown:Me}),Object(j.jsx)("div",{children:ie.length>0&&Object(j.jsx)("div",{className:"divSelectRegister",children:ie.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:t,onClick:function(){return function(e,t){Ne(t),me(e),ue([])}(e.vacancy_code,e.id)},children:e.vacancy_code},t)}))})}),Object(j.jsx)("input",{placeholder:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",required:!0,ref:f,className:"registerInput",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u0413\u0440\u0435\u0439\u0434",type:"text",required:!0,className:"registerInput",onMouseDown:Me,onChange:function(e){/^\d*$/.test(e.target.value)&&w(e.target.value)},value:k}),Object(j.jsxs)("select",{ref:_,className:"selectDeps",children:[Object(j.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}),B.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(j.jsx)("input",{placeholder:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",type:"text",required:!0,className:"registerInput",onMouseDown:Me,onChange:function(e){/^\d*$/.test(e.target.value)&&D(e.target.value)},value:I}),Object(j.jsx)("input",{placeholder:"Email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 IvanoIA@vtb.ru",type:"email",required:!0,ref:e,className:"registerInput",onMouseDown:Re,onInput:Re}),Object(j.jsxs)("select",{ref:r,className:"selectDeps",children:[Object(j.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),L.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(j.jsxs)("div",{children:["\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430?",Object(j.jsxs)("label",{htmlFor:"trueAdmin",children:[Object(j.jsx)("input",{type:"radio",value:!0,name:"trueAdmin",checked:Z,onChange:Ie,onMouseDown:Me}),"\u0414\u0430"]}),Object(j.jsxs)("label",{htmlFor:"falseAdmin",children:[Object(j.jsx)("input",{type:"radio",value:!1,name:"falseAdmin",checked:!Z,onChange:Ie,onMouseDown:Me}),"\u041d\u0435\u0442"]})]}),Object(j.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",required:!0,ref:t,className:"registerInput",minLength:"6",onMouseDown:Me}),Object(j.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0451 \u0440\u0430\u0437",type:"password",required:!0,ref:a,className:"registerInput",minLength:"6",onMouseDown:Me}),Object(j.jsx)("button",{className:"registerButton",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(j.jsx)(u.b,{to:"/login",style:{width:"167%"},children:Object(j.jsx)("button",{className:"registerLoginButton",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})})})]})}a(524);function G(e){var t=e.user,a=Object(l.g)(),c=Object(n.useState)([]),s=Object(i.a)(c,2),r=s[0],u=s[1],o=Object(n.useState)(),d=Object(i.a)(o,2),b=d[0],O=d[1],p=Object(n.useState)(""),m=Object(i.a)(p,2),f=m[0],v=m[1],_=Object(n.useState)(""),y=Object(i.a)(_,2),N=y[0],k=y[1],w=Object(n.useState)(),S=Object(i.a)(w,2),C=S[0],I=S[1],D=Object(n.useState)(),R=Object(i.a)(D,2),M=R[0],L=R[1],A=JSON.parse(localStorage.getItem("user")),V={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+t.id);case 2:return a=e.sent,e.next=5,g.a.get("/api/vacation?id="+t.id);case 5:return n=e.sent,e.next=8,g.a.get("/api/post?type=1&id="+t.id);case 8:c=e.sent,u(a.data.nomination_status),!0!==a.data.isadmin?O(""):O("*"),0===n.data.length?(I(""),L("")):(I(n.data[0].workdate),L(n.data[0].worked)),0===c.data.length?(v(""),k("")):(v(c.data[0].workdate),k(c.data[0].workend));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();1!==t.status&&2!==t.status&&3!==t.status&&5!==t.status&&6!==t.status&&7!==t.status||e()}),[t.id]);var P={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{onClick:function(){a.push("/profile/".concat(t.id))},className:"name",children:Object(j.jsx)("div",{className:"searchBlockContainer",children:Object(j.jsx)("div",{className:"employee "+function(e){for(var t in V)if(t==e)return V[t]}(t.status),children:Object(j.jsxs)("div",{className:"angry-grid",children:[Object(j.jsx)("div",{id:"item-0",children:Object(j.jsxs)("span",{className:"searchName",children:[t.user_name,A.isAdmin?b:""]})}),Object(j.jsxs)("div",{id:"item-1",children:[5===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u043f\u0443\u0441\u043a:",C,"-",M]}),6===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u0433\u0443\u043b:",C,"-",M]}),7===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430:",C,"-",M]}),3===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439:",C,"-",M]}),2===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:[f," ",N]})]}),Object(j.jsx)("div",{id:"item-2",children:Object.keys(P).map((function(e,a){return(t.nomination_status===e||t.nomination_status===parseInt(e)||r===e||r===parseInt(e))&&Object(j.jsx)("img",{src:P[e].src,title:P[e].title,alt:"Image for ".concat(e)},a)}))})]})})})})})}a(525);function X(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),o=r[0],d=r[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),w=k[0],S=k[1],C=Object(n.useState)(!1),D=Object(i.a)(C,2),R=D[0],M=D[1],L=Object(n.useState)(!0),A=Object(i.a)(L,2),V=A[0],P=A[1],B=Object(n.useState)(!1),E=Object(i.a)(B,2),F=E[0],T=E[1],U=JSON.parse(localStorage.getItem("user")),Y=Object(l.h)().username;function J(e){return e.filter((function(e){return 1===e.status})).concat(e.filter((function(e){return 2===e.status}))).concat(e.filter((function(e){return 3===e.status}))).concat(e.filter((function(e){return 1!==e.status&&2!==e.status&&3!==e.status&&4!==e.status}))).concat(e.filter((function(e){return 4===e.status})))}Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s,r,i,u,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==U.isAdmin){e.next=21;break}return t={id:U._id},e.next=4,g.a.post("/api/get_statistics_all_users",t);case 4:a=e.sent,n=a.data[0].get_statistics_all_users[0].all_users.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),c=J(n),null===a.data[0].get_statistics_all_users[0].all_users&&~document.location.href.indexOf("/all_users/")&&alert("\u041d\u0435\u0442 \u043d\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),null===a.data[0].get_statistics_all_users[0].not_working_today&&~document.location.href.indexOf("/not_working_today/")&&(alert("\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432\u0441\u0435 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].not_worked_yesterday&&~document.location.href.indexOf("/not_worked_yesterday/")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u0432\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].sick_today&&~document.location.href.indexOf("/sick_today/")&&(alert("\u041d\u0435\u0442 \u0431\u043e\u043b\u0435\u044e\u0449\u0438\u0445 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),window.location.href="/department/".concat(U.departmentId)),null===a.data[0].get_statistics_all_users[0].sick_yesterday&&~document.location.href.indexOf("/sick_yesterday")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0430 \u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u043e\u043c"),window.location.href="/department/".concat(U.main_department)),null===a.data[0].get_statistics_all_users[0].vacation_today&&~document.location.href.indexOf("/vacation_today")&&(alert("\u041d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435\u0442 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435"),window.location.href="/department/".concat(U.main_department)),null===a.data[0].get_statistics_all_users[0].vacation_yesterday&&~document.location.href.indexOf("/vacation_yesterday")&&(alert("\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435"),window.location.href="/department/".concat(U.main_department)),~document.location.href.indexOf("/all_users/")&&(P(V),d(c)),~document.location.href.indexOf("/not_working_today/")&&(null===a.data[0].get_statistics_all_users[0].not_working_today||(P(V),s=a.data[0].get_statistics_all_users[0].not_working_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(s)))),~document.location.href.indexOf("/not_worked_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].not_worked_yesterday||(P(V),r=a.data[0].get_statistics_all_users[0].not_worked_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(r)))),~document.location.href.indexOf("/sick_today/")&&(null===a.data[0].get_statistics_all_users[0].sick_today||(P(V),i=a.data[0].get_statistics_all_users[0].sick_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(i)))),~document.location.href.indexOf("/sick_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].sick_yesterday||(P(V),u=a.data[0].get_statistics_all_users[0].sick_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(u)))),~document.location.href.indexOf("/vacation_today/")&&(null===a.data[0].get_statistics_all_users[0].vacation_today||(P(V),l=a.data[0].get_statistics_all_users[0].vacation_today.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(l)))),~document.location.href.indexOf("/vacation_yesterday/")&&(null===a.data[0].get_statistics_all_users[0].vacation_yesterday||(P(V),o=a.data[0].get_statistics_all_users[0].vacation_yesterday.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),d(J(o))));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+U._id);case 2:t=e.sent,c(t.data.see_child),S(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user");case 2:return(t=e.sent).data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),a=J(t.data),e.abrupt("return",a.filter((function(e){return e.department_id===Y})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={depsId:Y},e.next=3,g.a.post("/api/get_users_by_dep/",t);case 3:if(a=e.sent,null!==(n=a.data[0].get_users_by_dep)){e.next=9;break}return e.abrupt("return",[]);case 9:return c=n.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),s=J(c),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(x.a)(h.a.mark((function e(){var t,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:if(t=e.sent,c=[],!a||w.main_department!==Y){e.next=13;break}return P(!1),e.next=9,s();case 9:r=e.sent,c=c.concat(r),e.next=14;break;case 13:c=t;case 14:m(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();r(),P(!0),Y&&y([]),e(),t()}),[Y,w.main_department]);var q=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!a),t={userId:U._id,ischeked:!a},e.next=4,g.a.post("/api/statusChild/",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:U._id,depsId:Y},e.next=3,g.a.put("/api/user",t);case 3:e.sent,T(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=7;break}return t={depsId:Y},e.next=4,g.a.post("/api/get_users_by_dep/",t);case 4:a=e.sent,null!==(n=a.data[0].get_users_by_dep)&&(n.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),c=J(n),y(c),m([]),P(!V),M(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"staff",children:[Object(j.jsx)(j.Fragment,{children:Y&&Object(j.jsxs)(j.Fragment,{children:[V?Object(j.jsx)("button",{onClick:H,className:"btnStaff",style:{width:"155px"},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"}):Object(j.jsx)("button",{onClick:function(){return window.location.href="/department/".concat(Y)},className:"btnStaff",disabled:a&&w.main_department===Y,children:"\u0421\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"}),Object(j.jsx)("button",{onClick:function(){return T(!0)},className:"btnStaff",style:{float:"right"},children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439"}),U.isAdmin?Object(j.jsx)(u.b,{to:"/VacanciesView/",children:Object(j.jsx)("button",{className:"btnStaff",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"})}):""]})}),Object(j.jsxs)("div",{className:"employeeWrapper",children:[p.map((function(e,t){return Object(j.jsx)(G,{user:e},t)})),R?_.map((function(e,t){return Object(j.jsx)(G,{user:e},t)})):"",Y?"":o.map((function(e,t){return Object(j.jsx)(G,{user:e},t)}))]}),Object(j.jsxs)(I,{active:F,setActive:T,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"modalLoginBox",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",onChange:q,checked:a}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435"]}),Object(j.jsx)("button",{className:"ModalButtonDepartment",type:"submit",onClick:W,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u044b\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u043c"})]})]})]})}a(526);function z(){return Object(j.jsxs)("div",{className:"feed",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h4",{className:"h1",children:["\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435  \u279c ",Object(j.jsx)("a",{className:"a4",href:"https://sfera.vtb.ru/knowledge/pages?id=110481",target:"_blank",children:"\u041d\u0430\u0448\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443? \u041f\u0438\u0448\u0438 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445!"})]})}),Object(j.jsx)("div",{className:"feedWrapper",children:Object(j.jsx)(X,{})}),Object(j.jsx)("div",{className:"circle-container",children:Object(j.jsx)("div",{className:"circle"})})]})}a(527);function K(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(z,{})})}var Q=a(567),Z=(a(528),a(93)),ee={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};function te(e){for(var t in ee)if(t==e)return ee[t]}function ae(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),u=Object(i.a)(r,2),l=u[0],o=u[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),O=b[0],p=b[1],m=Object(n.useState)([]),v=Object(i.a)(m,2),_=(v[0],v[1]),y=Object(n.useState)(""),N=Object(i.a)(y,2),k=N[0],w=N[1],S=Object(n.useState)([]),C=Object(i.a)(S,2),D=C[0],R=C[1],M=Object(n.useState)(!1),A=Object(i.a)(M,2),V=A[0],P=A[1],B=Object(n.useState)(""),E=Object(i.a)(B,2),F=E[0],T=E[1],U=Object(n.useState)(!1),Y=Object(i.a)(U,2),J=Y[0],q=Y[1],W=Object(n.useState)(!1),H=Object(i.a)(W,2),$=H[0],G=H[1],X=Object(n.useState)(),z=Object(i.a)(X,2),K=z[0],Q=z[1],ee=Object(n.useRef)(),ae=Object(n.useRef)(),ne=Object(n.useRef)(),ce=Object(n.useRef)();Object(n.useEffect)((function(){var t=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,r,i,u,l,j,d,b,O,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/user/"+e._id);case 2:return a=t.sent,R(a.data),t.next=6,g.a.get("/api/workplace_logs_get/"+e._id);case 6:return n=t.sent,r=n.data.filter((function(e){return!0!==e.is_canceled})),p(r),t.next=11,g.a.get("/api/office_get/");case 11:if(i=t.sent,u=i.data.map((function(e){return e.location})),o(u),l=Z().format("YYYY-MM-DD"),ne.current&&(ne.current.value=l),ce.current&&""!==ce.current.value&&ae.current&&""!==ae.current.value&&ne.current&&""!==ne.current.value){t.next=23;break}return 1,j={date:l,office:1},t.next=21,g.a.post("/api/workplaces/",j);case 21:d=t.sent,s(d.data);case 23:if(!ce.current){t.next=34;break}if(null!==ce.current.value){t.next=28;break}ce.current.value="",t.next=33;break;case 28:return b={date:l,office:ce.current.value},t.next=31,g.a.post("/api/workplaces/",b);case 31:O=t.sent,s(O.data);case 33:c&&c.length>0?(m=c.map((function(e){return e.location_res})),_(m)):_([]);case 34:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]);var se=function(){var t=Object(x.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),0!==+K||""!==ee.current.value){t.next=4;break}return T("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.abrupt("return");case 4:if(0===+K||1===+K){t.next=8;break}T("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"),t.next=21;break;case 8:return P(!0),n={userId:e._id,typework_id:1,status:1,healthStart:+K,commentStart:ee.current.value||"-",workStart:new Date(Date.now())},t.prev=10,t.next=13,g.a.post("/api/post/",n);case 13:t.sent,localStorage.setItem("user",JSON.stringify(Object(L.a)(Object(L.a)({},e),{},{status:1}))),window.location.reload(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(10),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c,s,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),0!==+K||""!==ee.current.value){t.next=4;break}return T("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.abrupt("return");case 4:if(0===+K||1===+K){t.next=8;break}T("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f"),t.next=25;break;case 8:return P(!0),t.prev=9,t.next=12,g.a.get("/api/vacation?id="+e._id);case 12:return n=t.sent,c=Z().format("DD.MM.YY"),s=n.data.length>0&&c>=n.data[0].workdate&&c<=n.data[0].worked?n.data[0].typework_id:2,r={userId:e._id,typework_id:1,status:s,healthEnd:+K,commentEnd:ee.current.value||"-",workEnd:new Date(Date.now())},t.next=18,g.a.put("/api/post/",r);case 18:localStorage.setItem("user",JSON.stringify(Object(L.a)(Object(L.a)({},e),{},{status:2}))),window.location.reload(),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[9,22]])})));return function(e){return t.apply(this,arguments)}}(),ie=function(e){Q(e.target.value)},ue=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,c,r,i,u,l,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(""),""!==ae.current.value&&""!==ne.current.value){t.next=4;break}t.next=19;break;case 4:if(a=ae.current.value.toString(),n=a.split("("),c=n[0].split("^"),!n[1]){t.next=11;break}w("\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u043d\u044f\u0442\u043e"),t.next=14;break;case 11:return r={user_id:e._id,wp_id:c[0],office:ce.current.value,booking_date:ne.current.value,is_canceled:!1},t.next=14,g.a.post("/api/workplace_logs/",r);case 14:return i={date:ne.current.value,office:ce.current.value},t.next=17,g.a.post("/api/workplaces/",i);case 17:u=t.sent,s(u.data);case 19:return t.next=21,g.a.get("/api/workplace_logs_get/"+e._id);case 21:l=t.sent,o=l.data.filter((function(e){return!0!==e.is_canceled})),p(o);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),le=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z().format("YYYY-MM-DD"),ne.current.value<t?(ne.current.value=t,w("\u041d\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430")):w(""),a={date:ne.current.value,office:ce.current.value},e.next=5,g.a.post("/api/workplaces/",a);case 5:n=e.sent,s(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(""),t=Z().format("YYYY-MM-DD"),""!==ne.current.value){e.next=6;break}ne.current.value=t,e.next=13;break;case 6:return a={date:ne.current.value,office:ce.current.value},e.next=9,g.a.post("/api/workplaces/",a);case 9:n=e.sent,s(n.data),c=n.data.map((function(e){return e.location_res})),_(c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(""),""!==ne.current.value&&""!==ae.current.value){e.next=4;break}e.next=11;break;case 4:return t={date:ne.current.value,office:ce.current.value},e.next=7,g.a.post("/api/workplaces/",t);case 7:a=e.sent,s(a.data),n=a.data.map((function(e){return e.location_res})),_(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,c,r,i,u,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(""),a=Z().format("YYYY-MM-DD"),n={user_id:e._id,canceled:!0,date:a},t.next=5,g.a.post("/api/workplace_logs_clear/",n);case 5:return t.next=7,g.a.get("/api/workplace_logs_get/"+e._id);case 7:return c=t.sent,r=c.data.filter((function(e){return!0!==e.is_canceled})),p(r),i={date:ne.current.value,office:ce.current.value},t.next=13,g.a.post("/api/workplaces/",i);case 13:u=t.sent,s(u.data),l=u.data.map((function(e){return e.location_res})),_(l);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),be=function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c,r,i,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(""),a.preventDefault(),n={user_id:e._id,id:a.target.value,canceled:!0},t.next=5,g.a.post("/api/workplace_logs_post/",n);case 5:return t.next=7,g.a.get("/api/workplace_logs_get/"+e._id);case 7:return c=t.sent,r=c.data.filter((function(e){return!0!==e.is_canceled})),i={date:ne.current.value,office:ce.current.value},t.next=12,g.a.post("/api/workplaces/",i);case 12:u=t.sent,s(u.data),p(r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("table",{border:"0",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("button",{type:"submit",onClick:function(){return q(!0)},className:"statusBtn "+te(D.status),children:V?Object(j.jsx)(f.a,{style:{color:"white",size:"20px",width:"20px",height:"20px"}}):1!==D.status?"\u041d\u0430\u0447\u0430\u0442\u044c":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{type:"submit",onClick:function(){return G(!0)},className:"statusBtn",children:Object(j.jsx)("h5",{children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e"})})})]})}),Object(j.jsxs)(I,{active:J,setActive:q,children:[Object(j.jsx)("h1",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:"}),Object(j.jsx)("hr",{}),F&&Object(j.jsx)("div",{className:"modalError",children:F}),Object(j.jsxs)("form",{className:"modalLoginBox",onSubmit:1===D.status?re:se,children:[Object(j.jsxs)("div",{className:"statusCheckbox",children:[Object(j.jsxs)("label",{htmlFor:"sickLeave",children:[Object(j.jsx)("input",{type:"radio",value:1,id:"sickLeave",name:"sickLeave",onChange:ie,checked:1===+K}),"\u0417\u0434\u043e\u0440\u043e\u0432"]}),Object(j.jsxs)("label",{htmlFor:"vacation",children:[Object(j.jsx)("input",{type:"radio",value:0,id:"vacation",name:"vacation",onChange:ie,checked:0===+K}),"\u0411\u043e\u043b\u0435\u043d"]})]}),Object(j.jsx)("input",{placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",className:"ModalInputStatus",ref:ee}),Object(j.jsx)("button",{className:"ModalButton",type:"submit",disabled:V,children:1!==D.status?"\u041d\u0430\u0447\u0430\u0442\u044c":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"})]})]}),Object(j.jsxs)(I,{active:$,setActive:G,children:[Object(j.jsx)("h1",{style:{textAlign:"center"},children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043c\u0435\u0441\u0442\u043e"}),Object(j.jsx)("br",{}),k&&Object(j.jsx)("div",{className:"modalError",children:k}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{style:{fontWeight:"bold"},children:"\u0414\u0430\u0442\u0430: "}),Object(j.jsx)("input",{type:"date",className:"ModalInputDate",ref:ne,onChange:le})]}),Object(j.jsx)("div",{style:{width:"50px"}}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{style:{fontWeight:"bold"},children:"\u041e\u0444\u0438\u0441: "}),Object(j.jsx)("select",{ref:ce,onClick:oe,className:"selectwork",children:l.map((function(e,t){return Object(j.jsx)("option",{title:e,value:t+1,children:e},t)}))})]}),Object(j.jsx)("div",{style:{width:"50px"}}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{style:{fontWeight:"bold"},children:"\u041c\u0435\u0441\u0442\u043e: "}),Object(j.jsx)("select",{ref:ae,onClick:je,className:"selectwork",children:c.map((function(e,t){return Object(j.jsx)("option",{title:e.workplace_id,value:e.workplace_id+"^"+e.location_res,children:e.location_res},t)}))})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"ModalButton",onClick:ue,type:"submit",disabled:V,children:"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"divreserve",children:O.map((function(e,t){return Object(j.jsxs)("div",{className:"place",children:["\u0414\u0430\u0442\u0430: ",e.booking_date," \u041c\u0435\u0441\u0442\u043e: ",e.place," \u041e\u0444\u0438\u0441:",e.location,Object(j.jsx)("button",{className:"placeButton",value:e.id,onClick:be,children:"\u0421\u043d\u044f\u0442\u044c \u0440\u0435\u0437\u0435\u0440\u0432"},t)]})}))}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:de,className:"ModalButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043c\u0435\u0441\u0442\u0430"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})]})}a(529),a(530);var ne=function(e){var t=e.user;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(u.b,{to:"/",className:"LinkMessage",children:[" ",Object(j.jsx)("div",{className:"messageContent",children:t.user_name})]})})};a(531);function ce(e){var t=e.user,a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),d=o[0],b=o[1],O=Object(n.useState)(""),p=Object(i.a)(O,2),m=p[0],f=p[1],v=Object(n.useState)(""),_=Object(i.a)(v,2),y=_[0],N=_[1],k=Object(n.useState)(),w=Object(i.a)(k,2),S=w[0],C=w[1],I=Object(n.useState)(),D=Object(i.a)(I,2),R=D[0],M=D[1],L=JSON.parse(localStorage.getItem("user")),A={0:"",1:"start",2:"end",3:"sick_leave",4:"deleted",5:"vacation",6:"time_off",7:"other"};Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+t.id);case 2:return a=e.sent,e.next=5,g.a.get("/api/vacation?id="+t.id);case 5:return n=e.sent,e.next=8,g.a.get("/api/post?type=1&id="+t.id);case 8:c=e.sent,r(a.data.nomination_status),!0!==a.data.isadmin?b(""):b("*"),0===n.data.length?(C(""),M("")):(C(n.data[0].workdate),M(n.data[0].worked)),0===c.data.length?(f(""),N("")):(f(c.data[0].workdate),N(c.data[0].workend));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();1!==t.status&&2!==t.status&&3!==t.status&&5!==t.status&&6!==t.status&&7!==t.status||e()}),[t.id]);var V={1:{src:"../images/1.png",title:"\u0422\u0443\u0447\u043a\u0430"},2:{src:"../images/2.png",title:"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041f\u0430\u0440\u043e\u0432\u043e\u0437\u043e\u0432"},3:{src:"../images/3.png",title:"\u0418 \u0442\u0430\u043a \u0441\u043e\u0439\u0434\u0435\u0442"},4:{src:"../images/4.png",title:"\u041f\u043e\u0440\u0442\u043d\u043e\u0439"},5:{src:"../images/5.png",title:"\u041c\u0430\u043c\u0430 \u043e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430"},6:{src:"../images/6.png",title:"\u041a\u043e\u0442 \u041c\u0430\u0442\u0440\u043e\u0441\u043a\u0438\u043d"},7:{src:"../images/7.png",title:"\u041a\u0440\u043e\u0442"},8:{src:"../images/8.png",title:"\u041f\u0442\u0438\u0446\u0430 \u0433\u043e\u0432\u043e\u0440\u0443\u043d(\u0433\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0435\u0434\u0438 \u0434\u0435\u0436\u0443\u0440\u043d\u044b\u0445)"},9:{src:"../images/9.png",title:"\u0425\u043e\u043c\u0430(\u0413\u043e\u043b\u043e\u0441\u0443\u0435\u043c \u0441\u0440\u0435\u0434\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f)"},10:{src:"../images/10.png",title:"\u0421\u0438\u043c\u043a\u0430 \u0438 \u043d\u043e\u043b\u0438\u043a"}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"searchBlockContainer",children:Object(j.jsx)(u.b,{to:"/profile/".concat(t.id),className:"name",onClick:function(){return window.location.href="/profile/".concat(t.id)},children:Object(j.jsx)("div",{className:"employee "+function(e){for(var t in A)if(t==e)return A[t]}(t.status),children:Object(j.jsxs)("div",{className:"angry-grid",children:[Object(j.jsx)("div",{id:"item-0",children:Object(j.jsxs)("span",{className:"searchName",children:[t.user_name,L.isAdmin?d:""]})}),Object(j.jsxs)("div",{id:"item-1",children:[5===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u043f\u0443\u0441\u043a:",S,"-",R]}),6===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u041e\u0442\u0433\u0443\u043b:",S,"-",R]}),7===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430:",S,"-",R]}),3===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:["\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439:",S,"-",R]}),2===t.status&&Object(j.jsxs)("div",{className:"vacationText",children:[m," ",y]})]}),Object(j.jsx)("div",{id:"item-2",children:Object.keys(V).map((function(e,a){return(t.nomination_status===e||t.nomination_status===parseInt(e)||s===e||s===parseInt(e))&&Object(j.jsx)("img",{src:V[e].src,title:V[e].title,alt:"Image for ".concat(e)},a)}))})]})})})})})}var se=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(n.useState)(0),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)(0),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)(0),k=Object(i.a)(N,2),w=k[0],S=k[1],C=Object(n.useState)(0),I=Object(i.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(0),L=Object(i.a)(M,2),A=L[0],V=L[1];return Object(n.useEffect)((function(){var t=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/typework_status/");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={id:e._id},!0!==e.isAdmin){t.next=12;break}return t.next=4,g.a.post("/api/get_statistics_all_users",a);case 4:null===(n=t.sent).data[0].get_statistics_all_users[0].all_users?n.data[0].get_statistics_all_users[0].all_users=0:s(n.data[0].get_statistics_all_users[0].all_users.length),null===n.data[0].get_statistics_all_users[0].not_working_today?n.data[0].get_statistics_all_users[0].not_working_today=0:d(n.data[0].get_statistics_all_users[0].not_working_today.length),null===n.data[0].get_statistics_all_users[0].not_worked_yesterday?n.data[0].get_statistics_all_users[0].not_worked_yesterday=0:m(n.data[0].get_statistics_all_users[0].not_worked_yesterday.length),null===n.data[0].get_statistics_all_users[0].sick_today?n.data[0].get_statistics_all_users[0].sick_today=0:y(n.data[0].get_statistics_all_users[0].sick_today.length),null===n.data[0].get_statistics_all_users[0].sick_yesterday?n.data[0].get_statistics_all_users[0].sick_yesterday=0:S(n.data[0].get_statistics_all_users[0].sick_yesterday.length),null===n.data[0].get_statistics_all_users[0].vacation_today?n.data[0].get_statistics_all_users[0].vacation_today=0:R(n.data[0].get_statistics_all_users[0].vacation_today.length),null===n.data[0].get_statistics_all_users[0].vacation_yesterday?n.data[0].get_statistics_all_users[0].vacation_yesterday=0:V(n.data[0].get_statistics_all_users[0].vacation_yesterday.length);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),a()}),[]),Object(j.jsx)("div",{className:"topbarCenter",children:e.isAdmin?Object(j.jsxs)("div",{className:"statistics",children:[Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/all_users/"},title:"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432",children:c})," /",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/not_working_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442",children:o})," /",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/not_worked_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438",children:p})," /",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/sick_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0431\u043e\u043b\u0435\u044e\u0442",children:_})," /",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/sick_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u0431\u043e\u043b\u0435\u043b\u0438",children:w})," /",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/vacation_today/"},title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435",children:D}),"/",Object(j.jsx)(u.b,{className:"topbarLinkCount",onClick:function(){return window.location.href="/vacation_yesterday/"},title:"\u0412\u0447\u0435\u0440\u0430 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435",children:A})]}):""})};function re(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],d=r[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)(!1),k=Object(i.a)(N,2),w=k[0],S=k[1],C=JSON.parse(localStorage.getItem("user"));Object(l.h)().username;Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/");case 2:t=e.sent,L(t.data),t.data.sort((function(e,t){return e.user_name.localeCompare(t.user_name)})),n=t.data,a=n.filter((function(e){return 1===e.status})).concat(n.filter((function(e){return 2===e.status}))).concat(n.filter((function(e){return 3===e.status}))).concat(n.filter((function(e){return 1!==e.status&&2!==e.status&&3!==e.status&&4!==e.status}))).concat(n.filter((function(e){return 4===e.status}))),m(a);case 7:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/typework_status/");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/user/"+C._id);case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),a(),e()}),[]);var D=function(e){""!==e.target.value&&(y(p.filter((function(e){return e.user_name.toLowerCase().includes(o.toLowerCase())}))),S(!0))};a.main_department;var R=Object(n.useState)(0),M=Object(i.a)(R,2),L=(M[0],M[1]),A=Object(n.useState)(!1),V=Object(i.a)(A,2);V[0],V[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"topbarContainer",children:[Object(j.jsx)("div",{className:"topbarLeft",children:Object(j.jsx)(ae,{})}),Object(j.jsx)(se,{}),Object(j.jsxs)("div",{className:"topbarRight",children:[Object(j.jsxs)("div",{className:"topbarLinks",children:[Object(j.jsx)("div",{children:Object(j.jsx)(u.b,{to:"/department/".concat(a.main_department),className:"topbarLink",children:Object(j.jsx)("img",{src:"../images/VTB.png",alt:"VTB",width:"150",height:"50"})})}),Object(j.jsx)("div",{className:"vr"}),Object(j.jsx)("div",{className:"topPage",children:Object(j.jsx)(u.b,{to:"/profile/".concat(a.id),className:"topbarLink",children:C.username})}),C.isAdmin?Object(j.jsx)("div",{className:"vr"}):"",C.isAdmin?Object(j.jsx)("div",{className:"topPage",children:Object(j.jsx)(u.b,{to:"/Reports",className:"topbarLink",children:Object(j.jsx)("span",{className:"link",children:"\u041e\u0442\u0447\u0435\u0442\u044b"})})}):"",Object(j.jsx)("div",{className:"vr"}),Object(j.jsx)("div",{className:"topPage",children:Object(j.jsx)(u.b,{to:"/Information",className:"topbarLink",children:"?"})})]}),Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&""!==e.target.value&&(y(p.filter((function(e){return e.user_name.toLowerCase().includes(o.toLowerCase())}))),S(!0))},value:o,onChange:function(e){return d(e.target.value)},type:"search",name:"",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"input"}),Object(j.jsx)("button",{onClick:D,value:o,onChange:function(e){return d(e.target.value)},type:"submit",className:"submit"})]}),Object(j.jsx)("div",{className:"exit",children:Object(j.jsx)(Q.a,{onClick:function(){localStorage.clear(),window.location.reload(),window.location.href="/"}})})]})]}),w?Object(j.jsxs)(I,{active:D,setActive:S,children:[Object(j.jsx)("h1",{children:Object(j.jsx)("p",{align:"center",children:"\u041f\u043e\u0438\u0441\u043a"})}),Object(j.jsxs)("h4",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",_.length]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{children:_.map((function(e){return Object(j.jsx)(ce,{user:e})}))}),Object(j.jsx)("button",{className:"button",type:"submit",onClick:function(){return S(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]}):Object(j.jsx)(j.Fragment,{})]})}a(532);function ie(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"information",children:Object(j.jsxs)("div",{className:"informationContainer",children:[Object(j.jsx)("h2",{className:"infoMainText",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(j.jsx)("div",{className:"testInformation",children:Object(j.jsx)("a",{className:"divLinkInformation",href:"https://sfera.vtb.ru/knowledge/pages?id=110481",target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("h4",{children:"\u041d\u0430\u0448\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0438\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u043f\u0438\u0448\u0438\u0442\u0435 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445!"})})}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"infoContainer",children:Object(j.jsxs)("div",{className:"infoText",children:[Object(j.jsx)("h3",{children:"\u041a\u043d\u043e\u043f\u043a\u0430 \u041d\u0430\u0447\u0430\u0442\u044c/\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c"}),Object(j.jsxs)("p",{children:["\u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e. \u0412 \u043d\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c ",Object(j.jsx)("b",{children:'"\u0437\u0434\u043e\u0440\u043e\u0432"'})," \u0438\u043b\u0438 ",Object(j.jsx)("b",{children:'"\u0431\u043e\u043b\u0435\u043d"'}),". \u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043e ",Object(j.jsx)("b",{children:'"\u0431\u043e\u043b\u0435\u043d"'}),", \u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438."]}),Object(j.jsx)("h3",{children:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"}),Object(j.jsxs)("p",{style:{marginTop:"10px"},children:[Object(j.jsx)("b",{style:{color:"green"},children:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u0440\u0430\u0431\u043e\u0442\u0435."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{color:"red"},children:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{color:"yellow"},children:"\u0416\u0451\u043b\u0442\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430 \u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u043e\u043c."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{color:"dodgerblue"},children:"\u0421\u0438\u043d\u0438\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435/\u043e\u0442\u0433\u0443\u043b."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{color:"chocolate"},children:"\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{opacity:"0.5"},children:"\u041f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u044b\u0439"})," - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d."]}),Object(j.jsx)("h3",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(j.jsx)("p",{children:"\u041d\u0430 \u0433\u0430\u043b\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u0432\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u0442\u0430/\u043e\u0442\u0434\u0435\u043b\u0430/\u0433\u0440\u0443\u043f\u043f\u044b"}),Object(j.jsx)("h3",{children:"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(j.jsxs)("p",{children:["\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0434\u043e \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043d\u0430\u0434\u043f\u0438\u0441\u044c ",Object(j.jsx)("b",{children:'"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"'}),". \u0412 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u0442\u0430\u0440\u044b\u0439 \u0438 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, \u0435\u0441\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0441\u044f."]}),Object(j.jsx)("p",{children:"\u041d\u0438\u0436\u0435 \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043e \u0440\u0430\u0431\u043e\u0442\u0435. \u041c\u043e\u0436\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0443\u0436\u043d\u044b\u0445 \u0434\u0430\u0442."}),Object(j.jsxs)("p",{children:["\u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ",Object(j.jsx)("b",{children:'"\u041e\u0442\u043f\u0443\u0441\u043a/\u0411\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439"'})," \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438. \u0414\u043e\u0431\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0430 ",Object(j.jsx)("b",{children:'"+"'}),". \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043d\u0435\u0435 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e. ","."]}),Object(j.jsx)("h4",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u043e\u0432"}),Object(j.jsx)("p",{children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c,\u0437\u0430\u043a\u043e\u0447\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u043f\u0443\u0441\u043a/\u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u044b\u0439."}),Object(j.jsx)("p",{children:"\u0422\u0430\u043a \u0436\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0443 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043e\u0442\u0447\u0451\u0442\u0430\u043c"}),Object(j.jsx)("h3",{children:"\u0414\u0435\u0440\u0435\u0432\u043e"}),Object(j.jsx)("p",{children:"\u0427\u0435\u0440\u0435\u0437 \u0434\u0435\u0440\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044b. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0443 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043b\u0443\u0436\u0431,\u043e\u0442\u0434\u0435\u043b\u043e\u0432 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f."}),Object(j.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0442\u0434\u0435\u043b\u0430"}),Object(j.jsxs)("p",{children:["\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043e\u0442\u0434\u0435\u043b\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0442\u0434\u0435\u043b\u0430. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ",Object(j.jsx)("b",{children:'"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439"'})," \u0432 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0430 \u0442\u0430\u043a \u0436\u0435 \u0437\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442."]}),Object(j.jsx)("h3",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(j.jsx)("p",{children:'\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0434 \u0435\u0433\u043e \u0423\u0417 \u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 "\u041d\u0430\u0447\u0430\u0442\u044c".'})]})})]})})})}a(533);function ue(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"ReportsButton",children:[Object(j.jsx)(u.b,{to:"/ReportsHistory",className:"linkReports",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),Object(j.jsx)("br",{}),Object(j.jsx)(u.b,{to:"/ReportsNominations",className:"linkReports",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044f\u043c"})]})})}a(534);var le=a(405);a(538);function oe(e){var t=e.posts;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{className:"info",children:[Object(j.jsx)("td",{className:"infotableend",children:Object(j.jsx)(u.b,{to:"/profile/".concat(t.user_id),className:"name",children:t.\u041a\u0442\u043e})}),Object(j.jsx)("td",{className:"infotableend",children:t.\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442}),Object(j.jsx)("td",{className:"infotablestart",children:t.nominations_name}),Object(j.jsx)("td",{className:"infotableend",children:t.date})]})})}function je(){var e=Object(n.useState)({key:"\u041a\u0442\u043e",direction:"ascending"}),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({key:"\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442",direction:"ascending"}),r=Object(i.a)(s,2),u=r[0],o=r[1],d=Object(n.useState)({key:"nominations_name",direction:"ascending"}),b=Object(i.a)(d,2),O=b[0],p=b[1],m=Object(n.useState)({key:"date",direction:"ascending"}),f=Object(i.a)(m,2),v=f[0],_=f[1],y=Object(n.useState)(""),N=Object(i.a)(y,2),k=N[0],w=N[1],S=Object(n.useRef)(null),C=Object(n.useRef)(null),I=Object(n.useState)(!1),D=Object(i.a)(I,2),M=(D[0],D[1]),L=Object(n.useState)([]),A=Object(i.a)(L,2),V=A[0],P=A[1],B=Object(n.useState)(!1),E=Object(i.a)(B,2),F=E[0],T=E[1],U=Object(l.h)(),Y=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=S.current.value,a=C.current.value,""===t||""===a?w("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||w("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?w("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startDateNomination:S.current.value,endDateNomination:C.current.value},w(""),c=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/Reports",n);case 2:t=e.sent,P(t.data),w("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(""),M(!1),S.current.value="",C.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){if(""!==S.current.value&&""!==C.current.value){var t="ascending";(a.key===e&&"ascending"===a.direction||u.key===e&&"ascending"===u.direction||O.key===e&&"ascending"===O.direction||v.key===e&&"ascending"===v.direction)&&(t="descending"),c({key:e,direction:t}),o({key:e,direction:t}),p({key:e,direction:t}),_({key:e,direction:t})}},W=Object(n.useMemo)((function(){var e=Object(R.a)(V);return null!==a&&e.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:(T(!0),0)})),e}),[V,a]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"Reports",children:Object(j.jsxs)("div",{className:"ReportsContainer",children:[Object(j.jsx)("h2",{className:"ReportsMainText",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u044f\u043c"}),k&&Object(j.jsx)("div",{className:"errorHistoryInfo",children:k}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:S,style:{marginRight:"10px"}})}),Object(j.jsxs)("div",{children:["\u2014  ",Object(j.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:C,style:{marginRight:"10px"}})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"historyButton",onClick:Y,children:"\u041d\u0430\u0439\u0442\u0438"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"historyButton",onClick:J,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]}),Object(j.jsx)("div",{}),F&&Object(j.jsx)("div",{children:Object(j.jsx)(le.CSVLink,{data:V,filename:"nominations.csv",children:"Download CSV"})}),Object(j.jsx)("br",{}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return q("\u041a\u0442\u043e")},children:["\u041a\u0442\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b ","\u041a\u0442\u043e"===a.key&&Object(j.jsx)("span",{className:"column",children:"ascending"===a.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return q("\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442")},children:["\u041d\u043e\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043b ","\u041d\u043e\u043c\u0438\u043d\u0430\u043d\u0442"===u.key&&Object(j.jsx)("span",{className:"column1",children:"ascending"===u.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return q("nominations_name")},children:["\u0418\u043c\u044f \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0438 ","nominations_name"===O.key&&Object(j.jsx)("span",{className:"column2",children:"ascending"===O.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return q("date")},children:["\u0414\u0430\u0442\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f ","date"===v.key&&Object(j.jsx)("span",{className:"column3",children:"ascending"===v.direction?"\u25bc":"\u25b2"})]})]}),W.map((function(e,t){return Object(j.jsx)(oe,{posts:e,username:U},t)}))]})})})}a(539);function de(e){var t=e.posts;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{className:"info",children:[Object(j.jsx)("td",{className:"number",children:Object(j.jsx)(u.b,{to:"/profile/".concat(t.id),className:"name",children:t.user_name})}),Object(j.jsx)("td",{className:"infotablestart",children:t.workstart}),Object(j.jsx)("td",{className:"infotableend",children:t.workend}),Object(j.jsx)("td",{className:"RepostsLong",children:t.worklong}),Object(j.jsx)("td",{className:"infotableComment",children:t.comment})]})})}a(540);function be(){var e=Object(n.useState)({key:"user_name",direction:"ascending"}),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({key:"workstart",direction:"ascending"}),r=Object(i.a)(s,2),u=r[0],o=r[1],d=Object(n.useState)({key:"workend",direction:"ascending"}),b=Object(i.a)(d,2),O=b[0],p=b[1],m=Object(n.useState)({key:"worklong",direction:"ascending"}),f=Object(i.a)(m,2),v=f[0],_=f[1],y=Object(n.useState)({key:"comment",direction:"ascending"}),N=Object(i.a)(y,2),k=N[0],S=N[1],C=Object(n.useState)(1),I=Object(i.a)(C,2),D=I[0],M=I[1],L=Object(n.useState)(30),A=Object(i.a)(L,1)[0],V=D*A,P=V-A,B=Object(n.useState)(!1),E=Object(i.a)(B,2),F=(E[0],E[1]),T=Object(n.useState)(""),U=Object(i.a)(T,2),Y=U[0],J=U[1],q=Object(n.useRef)(null),W=Object(n.useRef)(null),H=Object(n.useState)(!1),$=Object(i.a)(H,2),G=($[0],$[1]),X=Object(n.useState)([]),z=Object(i.a)(X,2),K=z[0],Q=z[1],Z=(K.slice(P,V),Object(l.h)()),ee=D*A,te=ee-A,ae=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=q.current.value,a=W.current.value,""===t||""===a?J("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"):(""===t&&""===a||J("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),a<t?J("\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439"):(n={startdate:q.current.value,enddate:W.current.value},J(""),c=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/Reports",n);case 2:t=e.sent,Q(t.data),J(""),F(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(""),G(!1),q.current.value="",W.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){if(""!==q.current.value&&""!==W.current.value){var t="ascending";(a.key===e&&"ascending"===a.direction||u.key===e&&"ascending"===u.direction||O.key===e&&"ascending"===O.direction||v.key===e&&"ascending"===v.direction||k.key===e&&"ascending"===k.direction)&&(t="descending"),c({key:e,direction:t}),o({key:e,direction:t}),p({key:e,direction:t}),_({key:e,direction:t}),S({key:e,direction:t})}},se=Object(n.useMemo)((function(){var e=Object(R.a)(K);return null!==a&&e.sort((function(e,t){return e[a.key]<t[a.key]?"ascending"===a.direction?-1:1:e[a.key]>t[a.key]?"ascending"===a.direction?1:-1:0})),e}),[K,a]).slice(te,ee);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"Reports",children:Object(j.jsxs)("div",{className:"ReportsContainer",children:[Object(j.jsx)("h2",{className:"ReportsMainText",children:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),Y&&Object(j.jsx)("div",{className:"errorHistoryInfo",children:Y}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:q,style:{marginRight:"10px"}})}),Object(j.jsxs)("div",{children:["\u2014  ",Object(j.jsx)("input",{type:"date",placeholder:"\u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b",className:"ModalInput",ref:W,style:{marginRight:"10px"}})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"historyButton",onClick:ae,children:"\u041d\u0430\u0439\u0442\u0438"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"historyButton",onClick:ne,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)("hr",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("user_name")},children:["\u0424\u0418\u041e ","user_name"===a.key&&Object(j.jsx)("span",{className:"user_name",children:"ascending"===a.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("workstart")},children:["\u041d\u0430\u0447\u0430\u043b\u043e ","workstart"===u.key&&Object(j.jsx)("span",{className:"workstart",children:"ascending"===u.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("workend")},children:["\u041a\u043e\u043d\u0435\u0446 ","workend"===O.key&&Object(j.jsx)("span",{className:"workend",children:"ascending"===O.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("worklong")},children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c ","worklong"===v.key&&Object(j.jsx)("span",{className:"worklong",children:"ascending"===v.direction?"\u25bc":"\u25b2"})]}),Object(j.jsxs)("td",{className:"historyinfoNumber",onClick:function(){return ce("comment")},children:["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 ","comment"===k.key&&Object(j.jsx)("span",{className:"comment",children:"ascending"===k.direction?"\u25bc":"\u25b2"})]})]}),se.map((function(e,t){return Object(j.jsx)(de,{posts:e,username:Z},t)})),Object(j.jsx)(w,{postsPerPage:A,totalPosts:K.length,paginate:function(e){return M(e)},currentPage:D})]})})})}a(541),a(542);var Oe=function(e){var t=e.department,a=e.vacancies,c=e.status,s=JSON.parse(localStorage.getItem("user")),r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),w=k[0],S=k[1],C=Object(n.useState)([]),I=Object(i.a)(C,2),D=I[0],R=I[1],M=Object(n.useState)(""),L=Object(i.a)(M,2),A=L[0],V=L[1],P=Object(n.useState)([]),B=Object(i.a)(P,2),E=B[0],T=B[1],Y=Object(n.useState)(""),J=Object(i.a)(Y,2),q=J[0],W=J[1],H=Object(n.useState)(!1),$=Object(i.a)(H,2),G=$[0],X=$[1],z=Object(n.useState)(""),K=Object(i.a)(z,2),Q=K[0],Z=K[1],ee=Object(n.useState)(""),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),se=Object(i.a)(ce,2),re=se[0],ie=se[1],ue=Object(n.useState)(""),le=Object(i.a)(ue,2),oe=le[0],je=le[1],de=Object(n.useState)(""),be=Object(i.a)(de,2),Oe=be[0],pe=be[1],me=Object(n.useState)(""),he=Object(i.a)(me,2),xe=he[0],fe=he[1],ve=F()().format("YYYY-MM-DD"),ge=Object(n.useState)(""),_e=Object(i.a)(ge,2),ye=_e[0],Ne=_e[1],ke=Object(n.useState)([]),we=Object(i.a)(ke,2),Se=we[0],Ce=we[1],Ie=Object(n.useState)([]),De=Object(i.a)(Ie,2),Re=De[0],Me=De[1],Le=Object(n.useState)([]),Ae=Object(i.a)(Le,2),Ve=Ae[0],Pe=Ae[1],Be=Object(n.useState)(""),Ee=Object(i.a)(Be,2),Fe=(Ee[0],Ee[1]),Te=Object(n.useState)(""),Ue=Object(i.a)(Te,2),Ye=(Ue[0],Ue[1]),Je=Object(n.useState)(""),qe=Object(i.a)(Je,2),We=(qe[0],qe[1]),He=Object(n.useState)(""),$e=Object(i.a)(He,2),Ge=($e[0],$e[1]),Xe=Object(n.useRef)(),ze=Object(n.useRef)(),Ke=Object(n.useRef)(),Qe=Object(n.useRef)(),Ze=Object(n.useRef)(),et=Object(n.useRef)(),tt=(Object(n.useRef)(),Object(n.useState)("")),at=Object(i.a)(tt,2),nt=(at[0],at[1],Object(n.useState)("")),ct=Object(i.a)(nt,2),st=(ct[0],ct[1],Object(n.useState)([])),rt=Object(i.a)(st,2),it=rt[0],ut=rt[1];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/departments/");case 2:return t=e.sent,ut(t.data),e.next=6,g.a.get("/api/Vacations/?company=company");case 6:return a=e.sent,m(a.data),e.next=10,g.a.get("/api/user");case 10:n=e.sent,Pe(n.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var lt=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={namevacanciesId:q,namevacancies:Q,description:re,grade:Oe,statuses:Xe.current.value,users:0===Se.length?ae:Se,search:ye,old_user:ae,deps:o,company_id:_,vacancy_code:w,project_id:D,planned_release_date:""===E?null:E},console.log("log=",t),!("3"===Xe.current.value&&null===ae&&Se.length<1)){e.next=6;break}V("\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"),e.next=11;break;case 6:return e.next=8,g.a.put("/api/Vacations/",t);case 8:e.sent,V("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(e){switch(e){case 20:return"Reserve";case 30:return"Selection";case 50:return"Securely";case 10:return"Liquidated";case 40:return"Finalist"}};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:"departmentName",children:t}),Object(j.jsxs)("div",{className:"vacancies-container",children:[a.map((function(e){return Object(j.jsx)("div",{className:"angry-grid1"+ot(e.status_id),onClick:function(){return function(e,t,a,n,c,r,i,u,l,o,j,b){!0===s.isAdmin&&(fe(null===r?[]:r),Me([]),V([]),X(!0),W(a),Fe(e),Z(e),We(n),ie(n),Ge(t),pe(t),Ye(c),je(c),ne(i),d(u),y(l),S(o),R(j),T(b))}(e.name,e.grade,e.id,e.description,e.status_id,e.user_name,e.user_id,e.department_id,e.company_id,e.vacancy_code,e.project_id,e.planned_release_date)},children:Object(j.jsxs)("div",{id:"cssportal-grid",children:[Object(j.jsx)("div",{id:"div1"}),Object(j.jsx)("div",{id:"div2",children:e.user_name}),Object(j.jsx)("div",{id:"div3",children:ve===e.create_date?"NEW":""}),Object(j.jsx)("div",{id:"div4"}),Object(j.jsx)("div",{id:"div5",children:e.name}),Object(j.jsx)("div",{id:"div6"}),Object(j.jsx)("div",{id:"div7"}),Object(j.jsx)("div",{id:"div8",children:e.vacancy_code}),Object(j.jsx)("div",{id:"div9"}),Object(j.jsxs)("div",{id:"div10",children:["\u0413\u0440\u0435\u0439\u0434: ",e.grade]}),Object(j.jsx)("div",{id:"div11",children:e.status_name}),Object(j.jsxs)("div",{id:"div12",children:["\u041f\u0440\u043e\u0435\u043a\u0442: ",e.project_id]}),Object(j.jsx)("div",{id:"div13",children:e.company_name})]})},e.id)})),Object(j.jsxs)(U,{active:G,setActive:X,children:[Object(j.jsx)("div",{className:"MessageItemVacancies",children:Object(j.jsx)("span",{children:A})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",className:"ModalInputVacancies",value:Q,onChange:function(e){Z(e.target.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{className:"textDescription",value:re,onChange:function(e){ie(e.target.value)}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:ze,value:o,onChange:function(){d(ze.current.value)},className:"InputVacanciesItemDeps",children:it.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.department_name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:Xe,value:oe,onChange:function(){je(Xe.current.value)},className:"InputVacanciesItemSelect",children:c.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0413\u0440\u0435\u0439\u0434:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",value:Oe,onChange:function(e){/^\d*$/.test(e.target.value)&&pe(e.target.value)},placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacanciesItem"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:"}),Object(j.jsx)("br",{}),Object(j.jsx)("select",{ref:Ke,value:_,onChange:function(){y(Ke.current.value)},className:"InputVacanciesItemSelect",children:p.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430:"}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"inputDiv",children:[Object(j.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",value:ye||xe,onChange:function(e){var t=e.target.value;Ne(""===t?null:t);var a=Ve.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));""===t?fe(""):Me(a)},className:"InputVacanciesItem"}),ae?Object(j.jsx)(u.b,{className:"ProfileLinkVacancies",style:{paddingLeft:"10px"},to:"/profile/".concat(ae),children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}):"",Re.length>0&&Object(j.jsx)("div",{className:"userListContainer",children:Re.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){Ce(t),Ne(e),Me([])}(e.user_name,e.id)},children:e.user_name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"date",ref:et,placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem",value:E||"",onChange:function(){T(et.current.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u0418\u0422\u0421:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",ref:Qe,value:w,onChange:function(){S(Qe.current.value)},placeholder:"\u0418\u0422\u0421",className:"InputVacanciesItem"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",ref:Ze,value:D,onChange:function(e){/^\d*$/.test(e.target.value)&&R(e.target.value)},placeholder:"\u041f\u0440\u043e\u0435\u043a\u0442(\u041d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430=0)",className:"InputVacanciesItem"})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"divHistory",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"ModalButton",type:"submit",onClick:lt,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})]})},pe=(a(543),a(124)),me=a.n(pe),he=(a(544),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/department_tree_to_json/");case 2:0===(t=e.sent).data[0].department_tree_to_json.length?c([]):c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("div",{className:"sidebarWrapper",children:a.length>=1?Object(j.jsx)("div",{className:"tree",children:Object(j.jsx)("div",{className:"treeWrapper",children:a.map((function(e,t){var a=Object(j.jsx)(u.b,{to:"/department/".concat(e.department_tree_to_json.id),className:"level1",children:Object(j.jsx)("span",{className:"node",children:e.department_tree_to_json.Name})});return Object(j.jsx)(me.a,{nodeLabel:a,defaultCollapsed:!1,children:e.department_tree_to_json.Subclasses.map((function(e){return Object(j.jsx)(me.a,{nodeLabel:Object(j.jsx)(u.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(j.jsx)("span",{className:"node",children:e.Name})},e.id),defaultCollapsed:!0,children:!!e.Subclasses&&e.Subclasses.map((function(e){return Object(j.jsx)(me.a,{nodeLabel:Object(j.jsx)(u.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(j.jsx)("span",{className:"node",children:e.Name})},e.id),defaultCollapsed:!0,children:!!e.Subclasses&&e.Subclasses.map((function(e){return Object(j.jsx)(u.b,{to:"/department/".concat(e.id),className:"depsUser",children:Object(j.jsx)("div",{style:{paddingBottom:"8px"},children:e.Name})},e.id)}))},e.id)}))},e.id)}))},e.department_tree_to_json.Name+"|"+t)}))})}):""}),Object(j.jsx)("div",{})]})});a(545);var xe=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),u=Object(i.a)(r,2),l=u[0],o=u[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),O=b[0],p=b[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),v=f[0],_=f[1],y=Object(n.useState)(""),N=Object(i.a)(y,2),k=N[0],w=N[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),I=C[0],D=C[1],R=Object(n.useState)(!1),M=Object(i.a)(R,2),L=M[0],A=M[1],V=Object(n.useState)([]),P=Object(i.a)(V,2),B=P[0],E=P[1],F=Object(n.useState)([]),T=Object(i.a)(F,2),U=T[0],Y=T[1],J=Object(n.useState)([]),q=Object(i.a)(J,2),W=q[0],H=q[1],$=Object(n.useState)(!1),G=Object(i.a)($,2),X=G[0],z=G[1],K=Object(n.useState)([]),Q=Object(i.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useRef)(),ae=Object(n.useRef)(),ne=Object(n.useRef)(),ce=Object(n.useRef)(),se=Object(n.useRef)(),re=Object(n.useRef)(),ie=Object(n.useRef)(),ue=Object(n.useRef)(),le=function(){z(!X)};Object(n.useEffect)((function(){var t=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,c,s,r,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/departments/");case 2:return a=t.sent,o(a.data),t.next=6,g.a.get("/api/Vacations/?status=status");case 6:return(n=t.sent).data.unshift(n.data.splice(n.data.findIndex((function(e){return"\u0420\u0435\u0437\u0435\u0440\u0432"===e.name})),1)[0]),Y(n.data),t.next=11,g.a.get("/api/Vacations/?company=company");case 11:return c=t.sent,H(c.data),t.next=15,g.a.get("/api/user");case 15:return s=t.sent,ee(s.data),r={departId:e.departmentId,user_id:e._id},t.next=20,g.a.post("/api/Vacations_function/",r);case 20:i=t.sent,E(i.data);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var oe=Object(n.useState)(""),je=Object(i.a)(oe,2),de=je[0],be=je[1],Oe=Object(n.useState)([]),pe=Object(i.a)(Oe,2),me=pe[0],he=pe[1],xe=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,c,s,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=ce.current.value.toLowerCase().trim(),!B.some((function(e){return e.get_vacancies.some((function(e){return e.vacancies.some((function(e){return e.vacancy_code&&e.vacancy_code.toLowerCase()===a}))}))}))){t.next=7;break}return D("\u0422\u0430\u043a\u0430\u044f \u0418\u0422\u0421 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),_(""),w(""),t.abrupt("return");case 7:if(n="",""!==de&&(n=O),c={namevacancies:te.current.value,description:re.current.value,team_id:ae.current.value,status_id:ne.current.value,codeVacations:a.toUpperCase(),codeProject:ie.current.value,company_id:se.current.value,grade:ue.current.value,is_checked:X,userName:n},""!==te.current.value&&""!==re.current.value&&""!==ae.current.value&&""!==ne.current.value&&""!==a&&""!==ie.current.value&&""!==ue.current.value&&""!==se.current.value){t.next=15;break}_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),A(!0),t.next=26;break;case 15:return t.next=17,g.a.post("/api/Vacations/",c);case 17:if(200!==t.sent.status){t.next=26;break}return _(""),w("\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),s={departId:e.departmentId,user_id:e._id},t.next=24,g.a.post("/api/Vacations_function/",s);case 24:r=t.sent,E(r.data);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function fe(){D(""),_(""),w("")}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"VacationsMainAdd",children:[Object(j.jsx)("h2",{style:{textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"}),!v&&L&&k&&!I&&Object(j.jsx)("div",{className:"error",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e"}),k&&!v&&!L&&!I&&Object(j.jsx)("div",{className:"error",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e"}),v&&L&&!I&&Object(j.jsx)("div",{className:"error",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"}),I&&!k&&Object(j.jsx)("div",{className:"error",children:I}),Object(j.jsx)("div",{}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabelName",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(j.jsx)("input",{ref:te,type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacation",onMouseDown:fe})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(j.jsx)("textarea",{ref:re,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacationAdd",onMouseDown:fe})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),Object(j.jsx)("select",{ref:ae,className:"InputVacation",onMouseDown:fe,children:l.map((function(t,a){return Object(j.jsx)("option",{selected:t.id===e.departmentId,value:t.id,children:t.department_name},a)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(j.jsx)("select",{ref:ne,className:"InputVacation",onMouseDown:fe,children:U.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u0434 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(j.jsx)("input",{ref:ce,value:c,onChange:function(e){s(e.target.value)},type:"text",placeholder:"\u041a\u043e\u0434 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",className:"InputVacation",onMouseDown:fe})]}),Object(j.jsxs)("div",{className:"inputDiv",children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),Object(j.jsx)("input",{type:"text",placeholder:"\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",className:"InputVacation",value:de,onChange:function(e){var t=e.target.value;be(t);var a=Z.filter((function(e){return e.user_name&&e.user_name.toLowerCase().includes(t.toLowerCase())}));he(""===t?[]:a)},onMouseDown:fe}),Object(j.jsx)("div",{className:"divSelect",children:me.length>0&&Object(j.jsx)("div",{children:me.map((function(e,t){return Object(j.jsx)("div",{className:"selectNameDiv",value:e.id,onClick:function(){return function(e,t){p(t),be(e),he([])}(e.user_name,e.id)},children:e.user_name},t)}))})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),Object(j.jsxs)("select",{ref:se,className:"InputVacation",onMouseDown:fe,children:[Object(j.jsx)("option",{value:"",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),W.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(j.jsx)("input",{ref:ie,type:"number",placeholder:"\u041a\u043e\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430(\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u044e\u0434\u0436\u0435\u0442=0)",className:"InputVacation",onMouseDown:fe})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputLabel",children:"\u0413\u0440\u0435\u0439\u0434"}),Object(j.jsx)("input",{ref:ue,type:"number",placeholder:"\u0413\u0440\u0435\u0439\u0434",className:"InputVacation",onMouseDown:fe})]}),Object(j.jsxs)("div",{style:{marginTop:"20px"},children:[Object(j.jsx)("label",{style:{paddingRight:"10px"},children:"\u041d\u0443\u0436\u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430?"}),Object(j.jsxs)("label",{htmlFor:"Vacation",children:[Object(j.jsx)("input",{type:"radio",value:!0,id:"Vacation",name:"VacationTrue",checked:!X,onChange:le}),"\u0414\u0430"]}),Object(j.jsxs)("label",{htmlFor:"Vacation1",children:[Object(j.jsx)("input",{type:"radio",value:!1,id:"Vacation",name:"VacationFalse",checked:X,onChange:le}),"\u041d\u0435\u0442"]})]}),Object(j.jsxs)("div",{style:{textAlign:"center",paddingTop:"20px"},children:[Object(j.jsx)("button",{className:"filterButton",onClick:xe,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(j.jsx)("button",{className:"filterButton",onClick:function(){re.current.value="",te.current.value="",ce.current.value="",ie.current.value="",ue.current.value="",be(""),he([]),s(""),w(""),_("")},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})};var fe=function(e){var t=JSON.parse(localStorage.getItem("user")),a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],r=c[1],u=Object(n.useState)(!1),l=Object(i.a)(u,2),o=l[0],d=l[1],b=Object(n.useState)(""),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),_=v[0],y=v[1],N=Object(n.useState)([]),k=Object(i.a)(N,2),w=k[0],S=k[1],C=Object(n.useState)([]),I=Object(i.a)(C,2),D=I[0],M=I[1],A=Object(n.useState)([]),V=Object(i.a)(A,2),P=V[0],B=V[1],E=Object(n.useState)([]),F=Object(i.a)(E,2),T=F[0],U=F[1],Y=Object(n.useState)({company:[],status:[],project:[],department:null,startDate:null,endDate:null}),J=Object(i.a)(Y,2),q=J[0],W=J[1];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var a,n,c,s,i,u,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/Vacations/?status=status");case 2:return a=e.sent,e.next=5,g.a.get("/api/Vacations/?company=company");case 5:return n=e.sent,M(n.data),S(a.data),c={departId:t.departmentId,user_id:t._id},e.next=11,g.a.post("/api/Vacations_function/",c);case 11:s=e.sent,r(s.data[0].get_vacancies),i=s.data[0].get_vacancies,u=new Set,i.forEach((function(e){e.vacancies.forEach((function(e){void 0!==e.project_id&&null!==e.project_id&&u.add(e.project_id)}))})),l=Array.from(u).sort((function(e,t){return e-t})),o=new Set(l),B(o);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e]),Object(n.useEffect)((function(){G(q)}),[s,q]);var H=function(e,t){W((function(a){var n;return"status"===e?n=Object(L.a)(Object(L.a)({},a),{},{status:a.status.includes(t)?a.status.filter((function(e){return e!==t})):[].concat(Object(R.a)(a.status),[t])}):"company"===e?n=Object(L.a)(Object(L.a)({},a),{},{company:a.company.includes(t)?a.company.filter((function(e){return e!==t})):[].concat(Object(R.a)(a.company),[t])}):"department"===e?n=Object(L.a)(Object(L.a)({},a),{},{department:a.department===t?null:t}):"project"===e&&(n=Object(L.a)(Object(L.a)({},a),{},{project:a.project.includes(t)?a.project.filter((function(e){return e!==t})):[t]})),n}))},$=function(e,t){"startDate"===e?m(t):"endDate"===e&&y(t)},G=function(e){var t=s;t&&(e.department&&(t=t.filter((function(t){return t.department_id===parseInt(e.department)}))),e.company.length>0&&(t=t.filter((function(t){return t.vacancies.some((function(t){return e.company.includes(t.company_name)}))})).map((function(t){return Object(L.a)(Object(L.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.company.includes(t.company_name)}))})}))),e.status.length>0&&(t=t.filter((function(t){return t.vacancies.some((function(t){return e.status.includes(t.status_name)}))})).map((function(t){return Object(L.a)(Object(L.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.status.includes(t.status_name)}))})}))),e.project.length>0&&(console.log("Filtering by project:",e.project),t=t.filter((function(t){return t.vacancies.some((function(t){return e.project.includes(String(t.project_id))}))})).map((function(t){return Object(L.a)(Object(L.a)({},t),{},{vacancies:t.vacancies.filter((function(t){return e.project.includes(String(t.project_id))}))})})),console.log("Filtered by project:",t)),(e.startDate||e.endDate)&&(t=t.map((function(t){return Object(L.a)(Object(L.a)({},t),{},{vacancies:t.vacancies.filter((function(t){var a=new Date(t.create_date),n=e.startDate?new Date(e.startDate):null,c=e.endDate?new Date(e.endDate):null;return(!n||a>=n)&&(!c||a<=c)}))})})).filter((function(e){return e.vacancies.length>0})))),U(t)},X=function(e){switch(Number(e)){case 20:return"Reserve";case 30:return"Selection";case 50:return"Securely";case 10:return"Liquidated";case 40:return"Finalist"}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"Vacations",children:[o?Object(j.jsx)("button",{className:"btnStaff",onClick:function(){d(!1)},children:"\u041d\u0430\u0437\u0430\u0434"}):"",o?Object(j.jsx)(xe,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"VacationsContainerTop",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btnStaff",onClick:function(){return window.location.href="/department/".concat(t.departmentId)},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(j.jsx)("button",{className:"btnStaff",onClick:function(){d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"})]}),Object(j.jsxs)("div",{style:{padding:"20px"},children:[Object(j.jsx)("h2",{children:"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"date",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"ModalInput",style:{marginRight:"10px"},value:p,onChange:function(e){return $("startDate",e.target.value)}}),"\u2014",Object(j.jsx)("input",{type:"date",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"ModalInput",style:{marginRight:"10px"},value:_,onChange:function(e){return $("endDate",e.target.value)}}),Object(j.jsx)("button",{className:"filterButton",onClick:function(){W((function(e){var t=Object(L.a)(Object(L.a)({},e),{},{startDate:p||null,endDate:_||null});return G(t),t}))},children:"\u041f\u043e\u0438\u0441\u043a"}),Object(j.jsx)("button",{className:"filterButton",onClick:function(){W({company:[],status:[],project:[],department:null,startDate:null,endDate:null}),m(""),y(""),U(s)},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("select",{className:"ModalInputUpdateSelect",onChange:function(e){return H("department",e.target.value)},children:s.map((function(e,t){return Object(j.jsx)("option",{value:e.department_id,children:e.department},t)}))})}),Object(j.jsx)("div",{style:{paddingLeft:"20px",paddingTop:"5px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442:"}),Object(j.jsx)("div",{children:Object(j.jsx)("select",{className:"ModalInputUpdateSelect",onChange:function(e){return H("project",e.target.value)},children:P.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))})})]})}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:D.map((function(e,t){return Object(j.jsx)("button",{className:"filtersButton",onClick:function(){return H("company",e.name)},style:{boxShadow:q.company.includes(e.name)?"0 0 1px rgba(0,0,0,.5) inset, 0 2px 3px rgba(0,0,0,.5) inset, 0 1px 1px rgba(255,255,255,.1)":"",background:q.company.includes(e.name)?"gray":"#1775ee",opacity:q.company.includes(e.name)?"1":""},children:e.name},t)}))}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:w.map((function(e,t){return Object(j.jsx)("button",{className:"filtersButton"+X(e.id),onClick:function(){return H("status",e.name)},style:{boxShadow:q.status.includes(e.name)?"0 0 1px rgba(0,0,0,.5) inset, 0 2px 3px rgba(0,0,0,.5) inset, 0 1px 1px rgba(255,255,255,.1)":"",background:q.status.includes(e.name)?"gray":"",opacity:q.status.includes(e.name)?"1":""},children:e.name},t)}))})]})]}),T.map((function(e){return Object(j.jsx)("div",{className:"VacationsContainer",children:Object(j.jsx)(Oe,{vac:e,status:w,department:e.department,vacancies:e.vacancies},e.department)},e.id)}))]})]})})};a(546);function ve(){return Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("div",{className:"main-content",children:Object(j.jsx)("div",{className:"adminDiv",children:Object(j.jsxs)("div",{className:"tiles-container",children:[Object(j.jsx)("div",{className:"tile",children:Object(j.jsx)(u.b,{to:"/",className:"linkReports",children:"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"})}),Object(j.jsx)("div",{className:"tile",children:Object(j.jsx)(u.b,{to:"/",className:"linkReports",children:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0440\u043e\u043b\u044c"})}),Object(j.jsx)("div",{className:"tile",children:Object(j.jsx)(u.b,{to:"/",className:"linkReports",children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"})})]})})})})}a(547);function ge(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(re,{}),Object(j.jsxs)("div",{className:"MainContainers",children:[Object(j.jsx)(he,{}),Object(j.jsx)("div",{className:"mainContent",children:t})]})]})}var _e=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=(t[0],t[1],Object(n.useContext)(b).user),c=JSON.parse(localStorage.getItem("user")),s=a||c;return Object(j.jsx)(u.a,{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",children:s?Object(j.jsx)(l.a,{to:"/department/".concat(s.main_department)}):Object(j.jsx)(l.a,{to:"/login"})}),Object(j.jsx)(l.b,{path:"/login",children:s?Object(j.jsx)(l.a,{to:"/department/".concat(s.main_department)}):Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{path:"/register",children:s?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsx)($,{})}),Object(j.jsx)(l.b,{path:"/message",children:s?Object(j.jsx)(ne,{}):Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{path:"/vacanciesadd",children:s?Object(j.jsx)(xe,{}):Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{path:"/profile/:username",children:s?Object(j.jsx)(ge,{children:Object(j.jsx)(H,{authUser:s})}):Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{path:"/department/:username",children:s?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(N,{})}),Object(j.jsx)(l.b,{path:"/all_users",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/not_working_today",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/not_worked_yesterday",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/sick_today",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/sick_yesterday",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/vacation_today",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/vacation_yesterday",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(K,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/vacanciesview",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(fe,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/adminpanel",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(ve,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/reports",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(ue,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/information",children:s?Object(j.jsx)(ge,{children:Object(j.jsx)(ie,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/reportsnominations",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(je,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"/reportshistory",children:s&&c.isAdmin?Object(j.jsx)(ge,{children:Object(j.jsx)(be,{})}):Object(j.jsx)(p,{})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)(p,{})})]})})};a(548);r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(O,{children:Object(j.jsx)(_e,{})})}),document.getElementById("root"))}},[[549,1,2]]]);
//# sourceMappingURL=main.ec88be31.chunk.js.map